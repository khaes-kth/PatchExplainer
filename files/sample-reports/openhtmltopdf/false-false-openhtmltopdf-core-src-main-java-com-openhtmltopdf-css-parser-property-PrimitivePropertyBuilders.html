<!doctype html>
<html lang="en"> 
 <head> 
  <meta charset="UTF-8"> 
  <title>Execution Trace Diff</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <style>
* {
  box-sizing: border-box;
}

/* Create two equal columns that floats next to each other */
.column {
  float: left;
  width: 50%;
  padding: 10px;
  height: 300px; /* Should be removed. Only for demonstration */
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

.test {
    border: 1px solid darkblue;
    padding-left: 10px;
}
</style> 
 </head> 
 <body> 
  <div class="row test"> 
   <h2>Differencing Test:</h2> <code> <pre>@Test <br>
public void test_main(){ <br>
    String ret = NumberAnalyzer.analyze(1); <br>
    assertThat(ret, containsString("greater")); <br>
}
        </pre> </code> 
  </div> 
  <div class="row"> 
   <div class="column"> 
    <h2>Original Code:</h2> <code> <pre id="original-trace">           1:  <span style="background-color: white">      /*</span><br>           2:  <span style="background-color: white">       * {{{ header &amp; license</span><br>           3:  <span style="background-color: white">       * Copyright (c) 2007 Wisconsin Court System</span><br>           4:  <span style="background-color: white">       *</span><br>           5:  <span style="background-color: white">       * This program is free software; you can redistribute it and/or</span><br>           6:  <span style="background-color: white">       * modify it under the terms of the GNU Lesser General Public License</span><br>           7:  <span style="background-color: white">       * as published by the Free Software Foundation; either version 2.1</span><br>           8:  <span style="background-color: white">       * of the License, or (at your option) any later version.</span><br>           9:  <span style="background-color: white">       *</span><br>          10:  <span style="background-color: white">       * This program is distributed in the hope that it will be useful,</span><br>          11:  <span style="background-color: white">       * but WITHOUT ANY WARRANTY; without even the implied warranty of</span><br>          12:  <span style="background-color: white">       * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span><br>          13:  <span style="background-color: white">       * GNU Lesser General Public License for more details.</span><br>          14:  <span style="background-color: white">       *</span><br>          15:  <span style="background-color: white">       * You should have received a copy of the GNU Lesser General Public License</span><br>          16:  <span style="background-color: white">       * along with this program; if not, write to the Free Software</span><br>          17:  <span style="background-color: white">       * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span><br>          18:  <span style="background-color: white">       * }}}</span><br>          19:  <span style="background-color: white">       */</span><br>          20:  <span style="background-color: white">      package com.openhtmltopdf.css.parser.property;</span><br>          21:  <span style="background-color: white">      </span><br>          22:  <span style="background-color: white">      import com.openhtmltopdf.css.constants.CSSName;</span><br>          23:  <span style="background-color: white">      import com.openhtmltopdf.css.constants.IdentValue;</span><br>          24:  <span style="background-color: white">      import com.openhtmltopdf.css.parser.*;</span><br>          25:  <span style="background-color: white">      import com.openhtmltopdf.css.sheet.PropertyDeclaration;</span><br>          26:  <span style="background-color: white">      </span><br>          27:  <span style="background-color: white">      import java.util.*;</span><br>          28:  <span style="background-color: white">      </span><br>          29:  <span style="background-color: white">      public class PrimitivePropertyBuilders {</span><br>          30:  <span style="background-color: white">          // none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset</span><br>          31:  <span style="background-color: white">          public static final BitSet BORDER_STYLES = setFor(</span><br>          32:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NONE, IdentValue.HIDDEN, IdentValue.DOTTED,</span><br>          33:  <span style="background-color: white">                          IdentValue.DASHED, IdentValue.SOLID, IdentValue.DOUBLE,</span><br>          34:  <span style="background-color: white">                          IdentValue.GROOVE, IdentValue.RIDGE, IdentValue.INSET,</span><br>          35:  <span style="background-color: white">                          IdentValue.OUTSET });</span><br>          36:  <span style="background-color: white">      </span><br>          37:  <span style="background-color: white">          // thin | medium | thick</span><br>          38:  <span style="background-color: white">          public static final BitSet BORDER_WIDTHS = setFor(</span><br>          39:  <span style="background-color: white">                  new IdentValue[] { IdentValue.THIN, IdentValue.MEDIUM, IdentValue.THICK });</span><br>          40:  <span style="background-color: white">          </span><br>          41:  <span style="background-color: white">          public static final BitSet DIRECTIONS = setFor(</span><br>          42:  <span style="background-color: white">          		new IdentValue[] { IdentValue.LTR, IdentValue.RTL, IdentValue.AUTO });</span><br>          43:  <span style="background-color: white">      </span><br>          44:  <span style="background-color: white">          // normal | small-caps | inherit</span><br>          45:  <span style="background-color: white">          public static final BitSet FONT_VARIANTS = setFor(</span><br>          46:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NORMAL, IdentValue.SMALL_CAPS });</span><br>          47:  <span style="background-color: white">      </span><br>          48:  <span style="background-color: white">          public static final BitSet FONT_SUBSETS = setFor(</span><br>          49:  <span style="background-color: white">          		new IdentValue[] { IdentValue.SUBSET, IdentValue.COMPLETE_FONT });</span><br>          50:  <span style="background-color: white">      </span><br>          51:  <span style="background-color: white">          public static final BitSet CHECKBOX_STYLES = setFor(</span><br>          52:  <span style="background-color: white">          		new IdentValue[] { IdentValue.SQUARE, IdentValue.CIRCLE, IdentValue.DIAMOND, IdentValue.CHECK, IdentValue.CROSS, IdentValue.STAR });</span><br>          53:  <span style="background-color: white">          </span><br>          54:  <span style="background-color: white">          // normal | italic | oblique | inherit</span><br>          55:  <span style="background-color: white">          public static final BitSet FONT_STYLES = setFor(</span><br>          56:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NORMAL, IdentValue.ITALIC, IdentValue.OBLIQUE });</span><br>          57:  <span style="background-color: white">      </span><br>          58:  <span style="background-color: white">          public static final BitSet FONT_WEIGHTS = setFor(</span><br>          59:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NORMAL, IdentValue.BOLD, IdentValue.BOLDER, IdentValue.LIGHTER });</span><br>          60:  <span style="background-color: white">      </span><br>          61:  <span style="background-color: white">          public static final BitSet PAGE_ORIENTATIONS = setFor(</span><br>          62:  <span style="background-color: white">                  new IdentValue[] { IdentValue.AUTO, IdentValue.PORTRAIT, IdentValue.LANDSCAPE });</span><br>          63:  <span style="background-color: white">      </span><br>          64:  <span style="background-color: white">          // inside | outside | inherit</span><br>          65:  <span style="background-color: white">          public static final BitSet LIST_STYLE_POSITIONS = setFor(new IdentValue[] {</span><br>          66:  <span style="background-color: white">                  IdentValue.INSIDE, IdentValue.OUTSIDE });</span><br>          67:  <span style="background-color: white">      </span><br>          68:  <span style="background-color: white">          // disc | circle | square | decimal</span><br>          69:  <span style="background-color: white">          // | decimal-leading-zero | lower-roman | upper-roman</span><br>          70:  <span style="background-color: white">          // | lower-greek | lower-latin | upper-latin | armenian</span><br>          71:  <span style="background-color: white">          // | georgian | lower-alpha | upper-alpha | none | inherit</span><br>          72:  <span style="background-color: white">          public static final BitSet LIST_STYLE_TYPES = setFor(new IdentValue[] {</span><br>          73:  <span style="background-color: white">                  IdentValue.DISC, IdentValue.CIRCLE, IdentValue.SQUARE,</span><br>          74:  <span style="background-color: white">                  IdentValue.DECIMAL, IdentValue.DECIMAL_LEADING_ZERO,</span><br>          75:  <span style="background-color: white">                  IdentValue.LOWER_ROMAN, IdentValue.UPPER_ROMAN,</span><br>          76:  <span style="background-color: white">                  IdentValue.LOWER_GREEK, IdentValue.LOWER_LATIN,</span><br>          77:  <span style="background-color: white">                  IdentValue.UPPER_LATIN, IdentValue.ARMENIAN,</span><br>          78:  <span style="background-color: white">                  IdentValue.GEORGIAN, IdentValue.LOWER_ALPHA,</span><br>          79:  <span style="background-color: white">                  IdentValue.UPPER_ALPHA, IdentValue.NONE });</span><br>          80:  <span style="background-color: white">      </span><br>          81:  <span style="background-color: white">          // repeat | repeat-x | repeat-y | no-repeat | inherit</span><br>          82:  <span style="background-color: white">          public static final BitSet BACKGROUND_REPEATS = setFor(</span><br>          83:  <span style="background-color: white">                  new IdentValue[] {</span><br>          84:  <span style="background-color: white">                          IdentValue.REPEAT, IdentValue.REPEAT_X,</span><br>          85:  <span style="background-color: white">                          IdentValue.REPEAT_Y, IdentValue.NO_REPEAT });</span><br>          86:  <span style="background-color: white">      </span><br>          87:  <span style="background-color: white">          // scroll | fixed | inherit</span><br>          88:  <span style="background-color: white">          public static final BitSet BACKGROUND_ATTACHMENTS = setFor(</span><br>          89:  <span style="background-color: white">                  new IdentValue[] { IdentValue.SCROLL</span><br>          90:  <span style="background-color: white">                          /*, IdentValue.FIXED - removed broken support for fixed in PR#650 by @danfickle */ });</span><br>          91:  <span style="background-color: white">      </span><br>          92:  <span style="background-color: white">          // left | right | top | bottom | center</span><br>          93:  <span style="background-color: white">          public static final BitSet BACKGROUND_POSITIONS = setFor(</span><br>          94:  <span style="background-color: white">                  new IdentValue[] {</span><br>          95:  <span style="background-color: white">                          IdentValue.LEFT, IdentValue.RIGHT, IdentValue.TOP,</span><br>          96:  <span style="background-color: white">                          IdentValue.BOTTOM, IdentValue.CENTER });</span><br>          97:  <span style="background-color: white">      </span><br>          98:  <span style="background-color: white">          public static final BitSet ABSOLUTE_FONT_SIZES = setFor(</span><br>          99:  <span style="background-color: white">                  new IdentValue[] {</span><br>         100:  <span style="background-color: white">                          IdentValue.XX_SMALL, IdentValue.X_SMALL, IdentValue.SMALL,</span><br>         101:  <span style="background-color: white">                          IdentValue.MEDIUM, IdentValue.LARGE, IdentValue.X_LARGE,</span><br>         102:  <span style="background-color: white">                          IdentValue.XX_LARGE });</span><br>         103:  <span style="background-color: white">      </span><br>         104:  <span style="background-color: white">          public static final BitSet RELATIVE_FONT_SIZES = setFor(</span><br>         105:  <span style="background-color: white">                  new IdentValue[] {</span><br>         106:  <span style="background-color: white">                          IdentValue.SMALLER, IdentValue.LARGER });</span><br>         107:  <span style="background-color: white">      </span><br>         108:  <span style="background-color: white">          public static final PropertyBuilder COLOR = new GenericColor();</span><br>         109:  <span style="background-color: white">          public static final PropertyBuilder BORDER_STYLE = new GenericBorderStyle();</span><br>         110:  <span style="background-color: white">          public static final PropertyBuilder BORDER_WIDTH = new GenericBorderWidth();</span><br>         111:  <span style="background-color: white">          public static final PropertyBuilder BORDER_RADIUS = new NonNegativeLengthLike();</span><br>         112:  <span style="background-color: white">          public static final PropertyBuilder MARGIN = new LengthLikeWithAuto();</span><br>         113:  <span style="background-color: white">          public static final PropertyBuilder PADDING = new NonNegativeLengthLike();</span><br>         114:  <span style="background-color: white">      </span><br>         115:  <span style="background-color: white">          static BitSet setFor(IdentValue[] values) {</span><br>         116:  <span style="background-color: white">              BitSet result = new BitSet(IdentValue.getIdentCount());</span><br>         117:  <span style="background-color: white">              for (int i = 0; i &lt; values.length; i++) {</span><br>         118:  <span style="background-color: white">                  IdentValue ident = values[i];</span><br>         119:  <span style="background-color: white">                  result.set(ident.FS_ID);</span><br>         120:  <span style="background-color: white">              }</span><br>         121:  <span style="background-color: white">              return result;</span><br>         122:  <span style="background-color: white">          }</span><br>         123:  <span style="background-color: white">      </span><br>         124:  <span style="background-color: white">          static abstract class SingleIdent extends AbstractPropertyBuilder {</span><br>         125:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>         126:  <span style="background-color: white">      </span><br>         127:  <span style="background-color: white">              @Override</span><br>         128:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         129:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         130:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         131:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>         132:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         133:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         134:  <span style="background-color: white">                      checkIdentType(cssName, value);</span><br>         135:  <span style="background-color: white">                      IdentValue ident = checkIdent(cssName, value);</span><br>         136:  <span style="background-color: white">      </span><br>         137:  <span style="background-color: white">                      checkValidity(cssName, getAllowed(), ident);</span><br>         138:  <span style="background-color: white">                  }</span><br>         139:  <span style="background-color: white">      </span><br>         140:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         141:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         142:  <span style="background-color: white">      </span><br>         143:  <span style="background-color: white">              }</span><br>         144:  <span style="background-color: white">          }</span><br>         145:  <span style="background-color: white">      </span><br>         146:  <span style="background-color: white">          static class GenericColor extends AbstractPropertyBuilder {</span><br>         147:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         148:  <span style="background-color: white">                      new IdentValue[] { IdentValue.TRANSPARENT });</span><br>         149:  <span style="background-color: white">      </span><br>         150:  <span style="background-color: white">              @Override</span><br>         151:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         152:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         153:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         154:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>         155:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         156:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         157:  <span style="background-color: white">                      checkIdentOrColorType(cssName, value);</span><br>         158:  <span style="background-color: white">      </span><br>         159:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         160:  <span style="background-color: white">                          FSRGBColor color = Conversions.getColor(value.getStringValue());</span><br>         161:  <span style="background-color: white">                          if (color != null) {</span><br>         162:  <span style="background-color: white">                              return Collections.singletonList(</span><br>         163:  <span style="background-color: white">                                      new PropertyDeclaration(</span><br>         164:  <span style="background-color: white">                                              cssName,</span><br>         165:  <span style="background-color: white">                                              new PropertyValue(color),</span><br>         166:  <span style="background-color: white">                                              important,</span><br>         167:  <span style="background-color: white">                                              origin));</span><br>         168:  <span style="background-color: white">                          }</span><br>         169:  <span style="background-color: white">      </span><br>         170:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         171:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>         172:  <span style="background-color: white">                      }</span><br>         173:  <span style="background-color: white">                  }</span><br>         174:  <span style="background-color: white">      </span><br>         175:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         176:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         177:  <span style="background-color: white">              }</span><br>         178:  <span style="background-color: white">          }</span><br>         179:  <span style="background-color: white">      </span><br>         180:  <span style="background-color: white">          private static class GenericBorderStyle extends SingleIdent {</span><br>         181:  <span style="background-color: white">              @Override</span><br>         182:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         183:  <span style="background-color: white">                  return BORDER_STYLES;</span><br>         184:  <span style="background-color: white">              }</span><br>         185:  <span style="background-color: white">          }</span><br>         186:  <span style="background-color: white">          </span><br>         187:  <span style="background-color: white">          public static class Direction extends SingleIdent {</span><br>         188:  <span style="background-color: white">      		@Override</span><br>         189:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>         190:  <span style="background-color: white">      			return DIRECTIONS;</span><br>         191:  <span style="background-color: white">      		}</span><br>         192:  <span style="background-color: white">          }</span><br>         193:  <span style="background-color: white">      </span><br>         194:  <span style="background-color: white">          private static class GenericBorderWidth extends AbstractPropertyBuilder {</span><br>         195:  <span style="background-color: white">              @Override</span><br>         196:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         197:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         198:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         199:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         200:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         201:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         202:  <span style="background-color: white">                      checkIdentOrLengthType(cssName, value);</span><br>         203:  <span style="background-color: white">      </span><br>         204:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         205:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         206:  <span style="background-color: white">                          checkValidity(cssName, BORDER_WIDTHS, ident);</span><br>         207:  <span style="background-color: white">      </span><br>         208:  <span style="background-color: white">                          return Collections.singletonList(</span><br>         209:  <span style="background-color: white">                                  new PropertyDeclaration(</span><br>         210:  <span style="background-color: white">                                          cssName, Conversions.getBorderWidth(ident.toString()), important, origin));</span><br>         211:  <span style="background-color: white">                      } else {</span><br>         212:  <span style="background-color: white">                          if (value.getFloatValue() &lt; 0.0f) {</span><br>         213:  <span style="background-color: white">                              throw new CSSParseException(cssName + " may not be negative", -1);</span><br>         214:  <span style="background-color: white">                          }</span><br>         215:  <span style="background-color: white">                      }</span><br>         216:  <span style="background-color: white">                  }</span><br>         217:  <span style="background-color: white">      </span><br>         218:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         219:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         220:  <span style="background-color: white">              }</span><br>         221:  <span style="background-color: white">          }</span><br>         222:  <span style="background-color: white">          </span><br>         223:  <span style="background-color: white">          private static class GenericBorderCornerRadius extends AbstractPropertyBuilder  {</span><br>         224:  <span style="background-color: white">          	@Override</span><br>         225:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin,
        </propertyvalue>
       </propertydeclaration></span><br>         226:  <span style="background-color: white">                      boolean important, boolean inheritAllowed) {</span><br>         227:  <span style="background-color: white">                  checkValueCount(cssName, 1, 2, values.size());</span><br>         228:  <span style="background-color: white">                  </span><br>         229:  <span style="background-color: white">                  PropertyValue first = values.get(0);</span><br>         230:  <span style="background-color: white">                  PropertyValue second = null;</span><br>         231:  <span style="background-color: white">                  if (values.size() == 2) {</span><br>         232:  <span style="background-color: white">                      second = values.get(1);</span><br>         233:  <span style="background-color: white">                  }</span><br>         234:  <span style="background-color: white">      </span><br>         235:  <span style="background-color: white">                  checkInheritAllowed(first, inheritAllowed);</span><br>         236:  <span style="background-color: white">      </span><br>         237:  <span style="background-color: white">                  if (second != null) {</span><br>         238:  <span style="background-color: white">                      checkInheritAllowed(second, false);</span><br>         239:  <span style="background-color: white">                  }</span><br>         240:  <span style="background-color: white">      </span><br>         241:  <span style="background-color: white">                  checkLengthOrPercentType(cssName, first);</span><br>         242:  <span style="background-color: white">                   if (second == null) {</span><br>         243:  <span style="background-color: white">                       return createTwoValueResponse(cssName, first, first, origin, important);</span><br>         244:  <span style="background-color: white">                   } else {</span><br>         245:  <span style="background-color: white">                       checkLengthOrPercentType(cssName, second);</span><br>         246:  <span style="background-color: white">                       return createTwoValueResponse(cssName, first, second, origin, important);</span><br>         247:  <span style="background-color: white">                   }</span><br>         248:  <span style="background-color: white">              }</span><br>         249:  <span style="background-color: white">          }</span><br>         250:  <span style="background-color: white">      </span><br>         251:  <span style="background-color: white">          private static abstract class LengthWithIdent extends AbstractPropertyBuilder {</span><br>         252:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>         253:  <span style="background-color: white">      </span><br>         254:  <span style="background-color: white">              @Override</span><br>         255:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         256:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         257:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         258:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         259:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         260:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         261:  <span style="background-color: white">                      checkIdentOrLengthType(cssName, value);</span><br>         262:  <span style="background-color: white">      </span><br>         263:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         264:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         265:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>         266:  <span style="background-color: white">                      } else if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>         267:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>         268:  <span style="background-color: white">                      }</span><br>         269:  <span style="background-color: white">                  }</span><br>         270:  <span style="background-color: white">      </span><br>         271:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         272:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         273:  <span style="background-color: white">      </span><br>         274:  <span style="background-color: white">              }</span><br>         275:  <span style="background-color: white">      </span><br>         276:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         277:  <span style="background-color: white">                  return true;</span><br>         278:  <span style="background-color: white">              }</span><br>         279:  <span style="background-color: white">          }</span><br>         280:  <span style="background-color: white">      </span><br>         281:  <span style="background-color: white">          private static abstract class LengthLikeWithIdent extends AbstractPropertyBuilder {</span><br>         282:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>         283:  <span style="background-color: white">      </span><br>         284:  <span style="background-color: white">              @Override</span><br>         285:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         286:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         287:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         288:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         289:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         290:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         291:  <span style="background-color: white">                      checkIdentLengthOrPercentType(cssName, value);</span><br>         292:  <span style="background-color: white">      </span><br>         293:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         294:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         295:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>         296:  <span style="background-color: white">                      } else if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>         297:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>         298:  <span style="background-color: white">                      }</span><br>         299:  <span style="background-color: white">                  }</span><br>         300:  <span style="background-color: white">      </span><br>         301:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         302:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         303:  <span style="background-color: white">      </span><br>         304:  <span style="background-color: white">              }</span><br>         305:  <span style="background-color: white">      </span><br>         306:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         307:  <span style="background-color: white">                  return true;</span><br>         308:  <span style="background-color: white">              }</span><br>         309:  <span style="background-color: white">          }</span><br>         310:  <span style="background-color: white">      </span><br>         311:  <span style="background-color: white">          private static class LengthLike extends AbstractPropertyBuilder {</span><br>         312:  <span style="background-color: white">              @Override</span><br>         313:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         314:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         315:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         316:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         317:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         318:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         319:  <span style="background-color: white">                      checkLengthOrPercentType(cssName, value);</span><br>         320:  <span style="background-color: white">      </span><br>         321:  <span style="background-color: white">                      if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>         322:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>         323:  <span style="background-color: white">                      }</span><br>         324:  <span style="background-color: white">                  }</span><br>         325:  <span style="background-color: white">      </span><br>         326:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         327:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         328:  <span style="background-color: white">      </span><br>         329:  <span style="background-color: white">              }</span><br>         330:  <span style="background-color: white">      </span><br>         331:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         332:  <span style="background-color: white">                  return true;</span><br>         333:  <span style="background-color: white">              }</span><br>         334:  <span style="background-color: white">          }</span><br>         335:  <span style="background-color: white">      </span><br>         336:  <span style="background-color: white">          private static class NonNegativeLengthLike extends LengthLike {</span><br>         337:  <span style="background-color: white">              @Override</span><br>         338:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         339:  <span style="background-color: white">                  return false;</span><br>         340:  <span style="background-color: white">              }</span><br>         341:  <span style="background-color: white">          }</span><br>         342:  <span style="background-color: white">      </span><br>         343:  <span style="background-color: white">          private static class ColOrRowSpan extends AbstractPropertyBuilder {</span><br>         344:  <span style="background-color: white">              @Override</span><br>         345:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>         346:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         347:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         348:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         349:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         350:  <span style="background-color: white">                      checkNumberType(cssName, value);</span><br>         351:  <span style="background-color: white">      </span><br>         352:  <span style="background-color: white">                      if (value.getFloatValue() &lt; 1) {</span><br>         353:  <span style="background-color: white">                          throw new CSSParseException("colspan/rowspan must be greater than zero", -1);</span><br>         354:  <span style="background-color: white">                      }</span><br>         355:  <span style="background-color: white">                  }</span><br>         356:  <span style="background-color: white">      </span><br>         357:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         358:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         359:  <span style="background-color: white">              }</span><br>         360:  <span style="background-color: white">          }</span><br>         361:  <span style="background-color: white">      </span><br>         362:  <span style="background-color: white">          private static class PlainInteger extends AbstractPropertyBuilder {</span><br>         363:  <span style="background-color: white">              @Override</span><br>         364:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         365:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         366:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         367:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         368:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         369:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         370:  <span style="background-color: white">                      checkInteger(cssName, value);</span><br>         371:  <span style="background-color: white">      </span><br>         372:  <span style="background-color: white">                      if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>         373:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>         374:  <span style="background-color: white">                      }</span><br>         375:  <span style="background-color: white">                  }</span><br>         376:  <span style="background-color: white">      </span><br>         377:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         378:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         379:  <span style="background-color: white">      </span><br>         380:  <span style="background-color: white">              }</span><br>         381:  <span style="background-color: white">      </span><br>         382:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         383:  <span style="background-color: white">                  return true;</span><br>         384:  <span style="background-color: white">              }</span><br>         385:  <span style="background-color: white">          }</span><br>         386:  <span style="background-color: white">      </span><br>         387:  <span style="background-color: white">          private static class Length extends AbstractPropertyBuilder {</span><br>         388:  <span style="background-color: white">              @Override</span><br>         389:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         390:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         391:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         392:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         393:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         394:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         395:  <span style="background-color: white">                      checkLengthType(cssName, value);</span><br>         396:  <span style="background-color: white">      </span><br>         397:  <span style="background-color: white">                      if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>         398:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>         399:  <span style="background-color: white">                      }</span><br>         400:  <span style="background-color: white">                  }</span><br>         401:  <span style="background-color: white">      </span><br>         402:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         403:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         404:  <span style="background-color: white">      </span><br>         405:  <span style="background-color: white">              }</span><br>         406:  <span style="background-color: white">      </span><br>         407:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         408:  <span style="background-color: white">                  return true;</span><br>         409:  <span style="background-color: white">              }</span><br>         410:  <span style="background-color: white">          }</span><br>         411:  <span style="background-color: white">      </span><br>         412:  <span style="background-color: white">          /*</span><br>         413:  <span style="background-color: white">          private static class SingleString extends AbstractPropertyBuilder {</span><br>         414:  <span style="background-color: white">              public List buildDeclarations(</span><br>         415:  <span style="background-color: white">                      CSSName cssName, List values, int origin, boolean important, boolean inheritAllowed) {</span><br>         416:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         417:  <span style="background-color: white">                  CSSPrimitiveValue value = (CSSPrimitiveValue)values.get(0);</span><br>         418:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         419:  <span style="background-color: white">                  if (value.getCssValueType() != CSSPrimitiveValue.CSS_INHERIT) {</span><br>         420:  <span style="background-color: white">                      checkStringType(cssName, value);</span><br>         421:  <span style="background-color: white">                  }</span><br>         422:  <span style="background-color: white">      </span><br>         423:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         424:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         425:  <span style="background-color: white">      </span><br>         426:  <span style="background-color: white">              }</span><br>         427:  <span style="background-color: white">          }</span><br>         428:  <span style="background-color: white">          */</span><br>         429:  <span style="background-color: white">      </span><br>         430:  <span style="background-color: white">          /*</span><br>         431:  <span style="background-color: white">          private static abstract class SingleStringWithIdent extends AbstractPropertyBuilder {</span><br>         432:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>         433:  <span style="background-color: white">      </span><br>         434:  <span style="background-color: white">              public List buildDeclarations(</span><br>         435:  <span style="background-color: white">                      CSSName cssName, List values, int origin, boolean important, boolean inheritAllowed) {</span><br>         436:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         437:  <span style="background-color: white">                  CSSPrimitiveValue value = (CSSPrimitiveValue)values.get(0);</span><br>         438:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         439:  <span style="background-color: white">                  if (value.getCssValueType() != CSSPrimitiveValue.CSS_INHERIT) {</span><br>         440:  <span style="background-color: white">                      checkIdentOrString(cssName, value);</span><br>         441:  <span style="background-color: white">      </span><br>         442:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         443:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         444:  <span style="background-color: white">      </span><br>         445:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>         446:  <span style="background-color: white">                      }</span><br>         447:  <span style="background-color: white">                  }</span><br>         448:  <span style="background-color: white">      </span><br>         449:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         450:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         451:  <span style="background-color: white">      </span><br>         452:  <span style="background-color: white">              }</span><br>         453:  <span style="background-color: white">          }</span><br>         454:  <span style="background-color: white">          */</span><br>         455:  <span style="background-color: white">      </span><br>         456:  <span style="background-color: white">          /*</span><br>         457:  <span style="background-color: white">          private static class SingleStringWithNone extends SingleStringWithIdent {</span><br>         458:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.NONE });</span><br>         459:  <span style="background-color: white">      </span><br>         460:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         461:  <span style="background-color: white">                  return ALLOWED;</span><br>         462:  <span style="background-color: white">              }</span><br>         463:  <span style="background-color: white">          }</span><br>         464:  <span style="background-color: white">          */</span><br>         465:  <span style="background-color: white">      </span><br>         466:  <span style="background-color: white">          private static class LengthLikeWithAuto extends LengthLikeWithIdent {</span><br>         467:  <span style="background-color: white">              // 
       <length>
         | 
        <percentage>
          | auto | inherit
        </percentage>
       </length></span><br>         468:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         469:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO });</span><br>         470:  <span style="background-color: white">      </span><br>         471:  <span style="background-color: white">              @Override</span><br>         472:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         473:  <span style="background-color: white">                  return ALLOWED;</span><br>         474:  <span style="background-color: white">              }</span><br>         475:  <span style="background-color: white">          }</span><br>         476:  <span style="background-color: white">      </span><br>         477:  <span style="background-color: white">          private static class LengthWithNormal extends LengthWithIdent {</span><br>         478:  <span style="background-color: white">              // 
       <length>
         | normal | inherit
       </length></span><br>         479:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         480:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NORMAL });</span><br>         481:  <span style="background-color: white">      </span><br>         482:  <span style="background-color: white">              @Override</span><br>         483:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         484:  <span style="background-color: white">                  return ALLOWED;</span><br>         485:  <span style="background-color: white">              }</span><br>         486:  <span style="background-color: white">          }</span><br>         487:  <span style="background-color: white">      </span><br>         488:  <span style="background-color: white">          private static class LengthLikeWithNone extends LengthLikeWithIdent {</span><br>         489:  <span style="background-color: white">              // 
       <length>
         | 
        <percentage>
          | none | inherit
        </percentage>
       </length></span><br>         490:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         491:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NONE });</span><br>         492:  <span style="background-color: white">      </span><br>         493:  <span style="background-color: white">              @Override</span><br>         494:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         495:  <span style="background-color: white">                  return ALLOWED;</span><br>         496:  <span style="background-color: white">              }</span><br>         497:  <span style="background-color: white">          }</span><br>         498:  <span style="background-color: white">      </span><br>         499:  <span style="background-color: white">          static class GenericURIWithNone extends AbstractPropertyBuilder {</span><br>         500:  <span style="background-color: white">              // 
       <uri>
         | none | inherit
       </uri></span><br>         501:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.NONE });</span><br>         502:  <span style="background-color: white">      </span><br>         503:  <span style="background-color: white">              @Override</span><br>         504:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         505:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         506:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         507:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>         508:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         509:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         510:  <span style="background-color: white">                      checkIdentOrURIType(cssName, value);</span><br>         511:  <span style="background-color: white">      </span><br>         512:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         513:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         514:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>         515:  <span style="background-color: white">                      }</span><br>         516:  <span style="background-color: white">                  }</span><br>         517:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         518:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         519:  <span style="background-color: white">              }</span><br>         520:  <span style="background-color: white">          }</span><br>         521:  <span style="background-color: white">      </span><br>         522:  <span style="background-color: white">          public static class BorderCollapse extends SingleIdent {</span><br>         523:  <span style="background-color: white">              // collapse | separate | inherit</span><br>         524:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         525:  <span style="background-color: white">                      new IdentValue[] { IdentValue.COLLAPSE, IdentValue.SEPARATE });</span><br>         526:  <span style="background-color: white">      </span><br>         527:  <span style="background-color: white">              @Override</span><br>         528:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         529:  <span style="background-color: white">                  return ALLOWED;</span><br>         530:  <span style="background-color: white">              }</span><br>         531:  <span style="background-color: white">          }</span><br>         532:  <span style="background-color: white">      </span><br>         533:  <span style="background-color: white">          public static class BorderTopColor extends GenericColor {</span><br>         534:  <span style="background-color: white">          }</span><br>         535:  <span style="background-color: white">      </span><br>         536:  <span style="background-color: white">          public static class BorderRightColor extends GenericColor {</span><br>         537:  <span style="background-color: white">          }</span><br>         538:  <span style="background-color: white">      </span><br>         539:  <span style="background-color: white">          public static class BorderBottomColor extends GenericColor {</span><br>         540:  <span style="background-color: white">          }</span><br>         541:  <span style="background-color: white">      </span><br>         542:  <span style="background-color: white">          public static class BorderLeftColor extends GenericColor {</span><br>         543:  <span style="background-color: white">          }</span><br>         544:  <span style="background-color: white">      </span><br>         545:  <span style="background-color: white">          public static class BorderTopStyle extends GenericBorderStyle {</span><br>         546:  <span style="background-color: white">          }</span><br>         547:  <span style="background-color: white">      </span><br>         548:  <span style="background-color: white">          public static class BorderRightStyle extends GenericBorderStyle {</span><br>         549:  <span style="background-color: white">          }</span><br>         550:  <span style="background-color: white">      </span><br>         551:  <span style="background-color: white">          public static class BorderBottomStyle extends GenericBorderStyle {</span><br>         552:  <span style="background-color: white">          }</span><br>         553:  <span style="background-color: white">      </span><br>         554:  <span style="background-color: white">          public static class BorderLeftStyle extends GenericBorderStyle {</span><br>         555:  <span style="background-color: white">          }</span><br>         556:  <span style="background-color: white">      </span><br>         557:  <span style="background-color: white">          public static class BorderTopWidth extends GenericBorderWidth {</span><br>         558:  <span style="background-color: white">          }</span><br>         559:  <span style="background-color: white">      </span><br>         560:  <span style="background-color: white">          public static class BorderRightWidth extends GenericBorderWidth {</span><br>         561:  <span style="background-color: white">          }</span><br>         562:  <span style="background-color: white">      </span><br>         563:  <span style="background-color: white">          public static class BorderBottomWidth extends GenericBorderWidth {</span><br>         564:  <span style="background-color: white">          }</span><br>         565:  <span style="background-color: white">      </span><br>         566:  <span style="background-color: white">          public static class BorderLeftWidth extends GenericBorderWidth {</span><br>         567:  <span style="background-color: white">          }</span><br>         568:  <span style="background-color: white">          </span><br>         569:  <span style="background-color: white">          public static class BorderTopLeftRadius extends GenericBorderCornerRadius {</span><br>         570:  <span style="background-color: white">          }</span><br>         571:  <span style="background-color: white">          </span><br>         572:  <span style="background-color: white">          public static class BorderTopRightRadius extends GenericBorderCornerRadius {</span><br>         573:  <span style="background-color: white">          }</span><br>         574:  <span style="background-color: white">          </span><br>         575:  <span style="background-color: white">          public static class BorderBottomRightRadius extends GenericBorderCornerRadius {</span><br>         576:  <span style="background-color: white">          }</span><br>         577:  <span style="background-color: white">          </span><br>         578:  <span style="background-color: white">          public static class BorderBottomLeftRadius extends GenericBorderCornerRadius {</span><br>         579:  <span style="background-color: white">          }</span><br>         580:  <span style="background-color: white">      </span><br>         581:  <span style="background-color: white">          public static class Bottom extends LengthLikeWithAuto {</span><br>         582:  <span style="background-color: white">          }</span><br>         583:  <span style="background-color: white">      </span><br>         584:  <span style="background-color: white">          public static class CaptionSide extends SingleIdent {</span><br>         585:  <span style="background-color: white">              // top | bottom | inherit</span><br>         586:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         587:  <span style="background-color: white">                      new IdentValue[] { IdentValue.TOP, IdentValue.BOTTOM });</span><br>         588:  <span style="background-color: white">      </span><br>         589:  <span style="background-color: white">              @Override</span><br>         590:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         591:  <span style="background-color: white">                  return ALLOWED;</span><br>         592:  <span style="background-color: white">              }</span><br>         593:  <span style="background-color: white">          }</span><br>         594:  <span style="background-color: white">      </span><br>         595:  <span style="background-color: white">          public static class Clear extends SingleIdent {</span><br>         596:  <span style="background-color: white">              // none | left | right | both | inherit</span><br>         597:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         598:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NONE, IdentValue.LEFT, IdentValue.RIGHT, IdentValue.BOTH });</span><br>         599:  <span style="background-color: white">      </span><br>         600:  <span style="background-color: white">              @Override</span><br>         601:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         602:  <span style="background-color: white">                  return ALLOWED;</span><br>         603:  <span style="background-color: white">              }</span><br>         604:  <span style="background-color: white">          }</span><br>         605:  <span style="background-color: white">      </span><br>         606:  <span style="background-color: white">          public static class Color extends GenericColor {</span><br>         607:  <span style="background-color: white">          }</span><br>         608:  <span style="background-color: white">      </span><br>         609:  <span style="background-color: white">          public static class Cursor extends SingleIdent {</span><br>         610:  <span style="background-color: white">              // [ [
       <uri>
         ,]* [ auto | crosshair | default | pointer | move | e-resize
       </uri></span><br>         611:  <span style="background-color: white">              // | ne-resize | nw-resize | n-resize | se-resize | sw-resize | s-resize</span><br>         612:  <span style="background-color: white">              // | w-resize | text | wait | help | progress ] ] | inherit</span><br>         613:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         614:  <span style="background-color: white">                      new IdentValue[] {</span><br>         615:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.CROSSHAIR,</span><br>         616:  <span style="background-color: white">                              IdentValue.DEFAULT, IdentValue.POINTER,</span><br>         617:  <span style="background-color: white">                              IdentValue.MOVE, IdentValue.E_RESIZE,</span><br>         618:  <span style="background-color: white">                              IdentValue.NE_RESIZE, IdentValue.NW_RESIZE,</span><br>         619:  <span style="background-color: white">                              IdentValue.N_RESIZE, IdentValue.SE_RESIZE,</span><br>         620:  <span style="background-color: white">                              IdentValue.SW_RESIZE, IdentValue.S_RESIZE,</span><br>         621:  <span style="background-color: white">                              IdentValue.W_RESIZE, IdentValue.TEXT,</span><br>         622:  <span style="background-color: white">                              IdentValue.WAIT, IdentValue.HELP,</span><br>         623:  <span style="background-color: white">                              IdentValue.PROGRESS});</span><br>         624:  <span style="background-color: white">      </span><br>         625:  <span style="background-color: white">              @Override</span><br>         626:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         627:  <span style="background-color: white">                  return ALLOWED;</span><br>         628:  <span style="background-color: white">              }</span><br>         629:  <span style="background-color: white">          }</span><br>         630:  <span style="background-color: white">      </span><br>         631:  <span style="background-color: white">          public static class Display extends SingleIdent {</span><br>         632:  <span style="background-color: white">              // inline | block | list-item | run-in | inline-block | table | inline-table</span><br>         633:  <span style="background-color: white">              // | table-row-group | table-header-group</span><br>         634:  <span style="background-color: white">              // | table-footer-group | table-row | table-column-group | table-column</span><br>         635:  <span style="background-color: white">              // | table-cell | table-caption | none | inherit</span><br>         636:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         637:  <span style="background-color: white">                      new IdentValue[] {</span><br>         638:  <span style="background-color: white">                              IdentValue.INLINE, IdentValue.BLOCK,</span><br>         639:  <span style="background-color: white">                              IdentValue.LIST_ITEM, /* IdentValue.RUN_IN, */</span><br>         640:  <span style="background-color: white">                              IdentValue.INLINE_BLOCK, IdentValue.TABLE,</span><br>         641:  <span style="background-color: white">                              IdentValue.INLINE_TABLE, IdentValue.TABLE_ROW_GROUP,</span><br>         642:  <span style="background-color: white">                              IdentValue.TABLE_HEADER_GROUP, IdentValue.TABLE_FOOTER_GROUP,</span><br>         643:  <span style="background-color: white">                              IdentValue.TABLE_ROW, IdentValue.TABLE_COLUMN_GROUP,</span><br>         644:  <span style="background-color: white">                              IdentValue.TABLE_COLUMN, IdentValue.TABLE_CELL,</span><br>         645:  <span style="background-color: white">                              IdentValue.TABLE_CAPTION, IdentValue.NONE });</span><br>         646:  <span style="background-color: white">      </span><br>         647:  <span style="background-color: white">              @Override</span><br>         648:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         649:  <span style="background-color: white">                  return ALLOWED;</span><br>         650:  <span style="background-color: white">              }</span><br>         651:  <span style="background-color: white">          }</span><br>         652:  <span style="background-color: white">      </span><br>         653:  <span style="background-color: white">          public static class EmptyCells extends SingleIdent {</span><br>         654:  <span style="background-color: white">              // show | hide | inherit</span><br>         655:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         656:  <span style="background-color: white">                      new IdentValue[] { IdentValue.SHOW, IdentValue.HIDE });</span><br>         657:  <span style="background-color: white">      </span><br>         658:  <span style="background-color: white">              @Override</span><br>         659:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         660:  <span style="background-color: white">                  return ALLOWED;</span><br>         661:  <span style="background-color: white">              }</span><br>         662:  <span style="background-color: white">          }</span><br>         663:  <span style="background-color: white">      </span><br>         664:  <span style="background-color: white">          public static class Float extends SingleIdent {</span><br>         665:  <span style="background-color: white">              // left | right | none | inherit</span><br>         666:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         667:  <span style="background-color: white">                      new IdentValue[] { IdentValue.LEFT, IdentValue.RIGHT, IdentValue.NONE });</span><br>         668:  <span style="background-color: white">      </span><br>         669:  <span style="background-color: white">              @Override</span><br>         670:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         671:  <span style="background-color: white">                  return ALLOWED;</span><br>         672:  <span style="background-color: white">              }</span><br>         673:  <span style="background-color: white">          }</span><br>         674:  <span style="background-color: white">      </span><br>         675:  <span style="background-color: white">          public static class FontFamily extends AbstractPropertyBuilder {</span><br>         676:  <span style="background-color: white">              // [[ 
       <family-name>
         | 
        <generic-family>
          ] [, 
         <family-name>
          | 
          <generic-family>
           ]* ] | inherit
          </generic-family>
         </family-name>
        </generic-family>
       </family-name></span><br>         677:  <span style="background-color: white">      </span><br>         678:  <span style="background-color: white">              @Override</span><br>         679:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         680:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         681:  <span style="background-color: white">                  if (values.size() == 1) {</span><br>         682:  <span style="background-color: white">                      CSSPrimitiveValue value = values.get(0);</span><br>         683:  <span style="background-color: white">                      checkInheritAllowed(value, inheritAllowed);</span><br>         684:  <span style="background-color: white">                      if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>         685:  <span style="background-color: white">                          return Collections.singletonList(</span><br>         686:  <span style="background-color: white">                                  new PropertyDeclaration(cssName, value, important, origin));</span><br>         687:  <span style="background-color: white">                      }</span><br>         688:  <span style="background-color: white">                  }</span><br>         689:  <span style="background-color: white">      </span><br>         690:  <span style="background-color: white">                  // Both Opera and Firefox parse "Century Gothic" Arial sans-serif as</span><br>         691:  <span style="background-color: white">                  // [Century Gothic], [Arial sans-serif] (i.e. the comma is assumed</span><br>         692:  <span style="background-color: white">                  // after a string).  Seems wrong per the spec, but FF (at least)</span><br>         693:  <span style="background-color: white">                  // does it in standards mode so we do too.</span><br>         694:  <span style="background-color: white">                  List
       <string>
         consecutiveIdents = new ArrayList&lt;&gt;();
       </string></span><br>         695:  <span style="background-color: white">                  List
       <string>
         normalized = new ArrayList&lt;&gt;(values.size());
       </string></span><br>         696:  <span style="background-color: white">                  for (Iterator
       <propertyvalue>
         i = values.iterator(); i.hasNext(); ) {
       </propertyvalue></span><br>         697:  <span style="background-color: white">                      PropertyValue value = i.next();</span><br>         698:  <span style="background-color: white">      </span><br>         699:  <span style="background-color: white">                      Token operator = value.getOperator();</span><br>         700:  <span style="background-color: white">                      if (operator != null &amp;&amp; operator != Token.TK_COMMA) {</span><br>         701:  <span style="background-color: white">                          throw new CSSParseException("Invalid font-family definition", -1);</span><br>         702:  <span style="background-color: white">                      }</span><br>         703:  <span style="background-color: white">      </span><br>         704:  <span style="background-color: white">                      if (operator != null) {</span><br>         705:  <span style="background-color: white">                          if (consecutiveIdents.size() &gt; 0) {</span><br>         706:  <span style="background-color: white">                              normalized.add(concat(consecutiveIdents, ' '));</span><br>         707:  <span style="background-color: white">                              consecutiveIdents.clear();</span><br>         708:  <span style="background-color: white">                          }</span><br>         709:  <span style="background-color: white">                      }</span><br>         710:  <span style="background-color: white">      </span><br>         711:  <span style="background-color: white">                      checkInheritAllowed(value, false);</span><br>         712:  <span style="background-color: white">                      short type = value.getPrimitiveType();</span><br>         713:  <span style="background-color: white">                      if (type == CSSPrimitiveValue.CSS_STRING) {</span><br>         714:  <span style="background-color: white">                          if (consecutiveIdents.size() &gt; 0) {</span><br>         715:  <span style="background-color: white">                              normalized.add(concat(consecutiveIdents, ' '));</span><br>         716:  <span style="background-color: white">                              consecutiveIdents.clear();</span><br>         717:  <span style="background-color: white">                          }</span><br>         718:  <span style="background-color: white">                          normalized.add(value.getStringValue());</span><br>         719:  <span style="background-color: white">                      } else if (type == CSSPrimitiveValue.CSS_IDENT) {</span><br>         720:  <span style="background-color: white">                          consecutiveIdents.add(value.getStringValue());</span><br>         721:  <span style="background-color: white">                      } else {</span><br>         722:  <span style="background-color: white">                          throw new CSSParseException("Invalid font-family definition", -1);</span><br>         723:  <span style="background-color: white">                      }</span><br>         724:  <span style="background-color: white">                  }</span><br>         725:  <span style="background-color: white">                  if (consecutiveIdents.size() &gt; 0) {</span><br>         726:  <span style="background-color: white">                      normalized.add(concat(consecutiveIdents, ' '));</span><br>         727:  <span style="background-color: white">                  }</span><br>         728:  <span style="background-color: white">      </span><br>         729:  <span style="background-color: white">                  String text = concat(normalized, ',');</span><br>         730:  <span style="background-color: white">                  PropertyValue result = new PropertyValue(</span><br>         731:  <span style="background-color: white">                          CSSPrimitiveValue.CSS_STRING, text, text);  // HACK cssText can be wrong</span><br>         732:  <span style="background-color: white">                  result.setStringArrayValue(normalized.toArray(new String[normalized.size()]));</span><br>         733:  <span style="background-color: white">      </span><br>         734:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         735:  <span style="background-color: white">                          new PropertyDeclaration(cssName, result, important, origin));</span><br>         736:  <span style="background-color: white">              }</span><br>         737:  <span style="background-color: white">      </span><br>         738:  <span style="background-color: white">              private String concat(List
       <string>
         strings, char separator) {
       </string></span><br>         739:  <span style="background-color: white">                  StringBuilder buf = new StringBuilder(64);</span><br>         740:  <span style="background-color: white">                  for (Iterator
       <string>
         i = strings.iterator(); i.hasNext(); ) {
       </string></span><br>         741:  <span style="background-color: white">                      String s = i.next();</span><br>         742:  <span style="background-color: white">                      buf.append(s);</span><br>         743:  <span style="background-color: white">                      if (i.hasNext()) {</span><br>         744:  <span style="background-color: white">                          buf.append(separator);</span><br>         745:  <span style="background-color: white">                      }</span><br>         746:  <span style="background-color: white">                  }</span><br>         747:  <span style="background-color: white">                  return buf.toString();</span><br>         748:  <span style="background-color: white">              }</span><br>         749:  <span style="background-color: white">          }</span><br>         750:  <span style="background-color: white">      </span><br>         751:  <span style="background-color: white">          public static class FontSize extends AbstractPropertyBuilder {</span><br>         752:  <span style="background-color: white">              // 
       <absolute-size>
         | 
        <relative-size>
          | 
         <length>
           | 
          <percentage>
            | inherit
          </percentage>
         </length>
        </relative-size>
       </absolute-size></span><br>         753:  <span style="background-color: white">              private static final BitSet ALLOWED;</span><br>         754:  <span style="background-color: white">      </span><br>         755:  <span style="background-color: white">              static {</span><br>         756:  <span style="background-color: white">                  ALLOWED = new BitSet(IdentValue.getIdentCount());</span><br>         757:  <span style="background-color: white">                  ALLOWED.or(ABSOLUTE_FONT_SIZES);</span><br>         758:  <span style="background-color: white">                  ALLOWED.or(RELATIVE_FONT_SIZES);</span><br>         759:  <span style="background-color: white">              }</span><br>         760:  <span style="background-color: white">      </span><br>         761:  <span style="background-color: white">              @Override</span><br>         762:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         763:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         764:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         765:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         766:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         767:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         768:  <span style="background-color: white">                      checkIdentLengthOrPercentType(cssName, value);</span><br>         769:  <span style="background-color: white">      </span><br>         770:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         771:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         772:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>         773:  <span style="background-color: white">                      } else if (value.getFloatValue() &lt; 0.0f) {</span><br>         774:  <span style="background-color: white">                          throw new CSSParseException("font-size may not be negative", -1);</span><br>         775:  <span style="background-color: white">                      }</span><br>         776:  <span style="background-color: white">                  }</span><br>         777:  <span style="background-color: white">      </span><br>         778:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         779:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         780:  <span style="background-color: white">      </span><br>         781:  <span style="background-color: white">              }</span><br>         782:  <span style="background-color: white">          }</span><br>         783:  <span style="background-color: white">      </span><br>         784:  <span style="background-color: white">          public static class FontStyle extends SingleIdent {</span><br>         785:  <span style="background-color: white">              @Override</span><br>         786:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         787:  <span style="background-color: white">                  return FONT_STYLES;</span><br>         788:  <span style="background-color: white">              }</span><br>         789:  <span style="background-color: white">          }</span><br>         790:  <span style="background-color: white">      </span><br>         791:  <span style="background-color: white">          public static class FontVariant extends SingleIdent {</span><br>         792:  <span style="background-color: white">              @Override</span><br>         793:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         794:  <span style="background-color: white">                  return FONT_VARIANTS;</span><br>         795:  <span style="background-color: white">              }</span><br>         796:  <span style="background-color: white">          }</span><br>         797:  <span style="background-color: white">      </span><br>         798:  <span style="background-color: white">          public static class FontWeight extends AbstractPropertyBuilder {</span><br>         799:  <span style="background-color: white">              // normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit</span><br>         800:  <span style="background-color: white">              @Override</span><br>         801:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         802:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         803:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         804:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>         805:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         806:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         807:  <span style="background-color: white">                      checkIdentOrNumberType(cssName, value);</span><br>         808:  <span style="background-color: white">      </span><br>         809:  <span style="background-color: white">                      short type = value.getPrimitiveType();</span><br>         810:  <span style="background-color: white">                      if (type == CSSPrimitiveValue.CSS_IDENT) {</span><br>         811:  <span style="background-color: white">                          checkIdentType(cssName, value);</span><br>         812:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>         813:  <span style="background-color: white">      </span><br>         814:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>         815:  <span style="background-color: white">                      } else if (type == CSSPrimitiveValue.CSS_NUMBER) {</span><br>         816:  <span style="background-color: white">                          IdentValue weight = Conversions.getNumericFontWeight(value.getFloatValue());</span><br>         817:  <span style="background-color: white">                          if (weight == null) {</span><br>         818:  <span style="background-color: white">                              throw new CSSParseException(value + " is not a valid font weight", -1);</span><br>         819:  <span style="background-color: white">                          }</span><br>         820:  <span style="background-color: white">      </span><br>         821:  <span style="background-color: white">                          PropertyValue replacement = new PropertyValue(</span><br>         822:  <span style="background-color: white">                                  CSSPrimitiveValue.CSS_IDENT, weight.toString(), weight.toString());</span><br>         823:  <span style="background-color: white">                          replacement.setIdentValue(weight);</span><br>         824:  <span style="background-color: white">                          return Collections.singletonList(</span><br>         825:  <span style="background-color: white">                                  new PropertyDeclaration(cssName, replacement, important, origin));</span><br>         826:  <span style="background-color: white">      </span><br>         827:  <span style="background-color: white">                      }</span><br>         828:  <span style="background-color: white">                  }</span><br>         829:  <span style="background-color: white">      </span><br>         830:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         831:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         832:  <span style="background-color: white">              }</span><br>         833:  <span style="background-color: white">      </span><br>         834:  <span style="background-color: white">              private BitSet getAllowed() {</span><br>         835:  <span style="background-color: white">                  return FONT_WEIGHTS;</span><br>         836:  <span style="background-color: white">              }</span><br>         837:  <span style="background-color: white">          }</span><br>         838:  <span style="background-color: white">      </span><br>         839:  <span style="background-color: white">          public static class FSBorderSpacingHorizontal extends Length {</span><br>         840:  <span style="background-color: white">          }</span><br>         841:  <span style="background-color: white">      </span><br>         842:  <span style="background-color: white">          public static class FSBorderSpacingVertical extends Length {</span><br>         843:  <span style="background-color: white">          }</span><br>         844:  <span style="background-color: white">      </span><br>         845:  <span style="background-color: white">          public static class FSFontSubset extends SingleIdent {</span><br>         846:  <span style="background-color: white">      		@Override</span><br>         847:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>         848:  <span style="background-color: white">      			return FONT_SUBSETS;</span><br>         849:  <span style="background-color: white">      		}</span><br>         850:  <span style="background-color: white">          }</span><br>         851:  <span style="background-color: white">      </span><br>         852:  <span style="background-color: white">          public static class FSCheckboxStyle extends SingleIdent {</span><br>         853:  <span style="background-color: white">      		@Override</span><br>         854:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>         855:  <span style="background-color: white">      			return CHECKBOX_STYLES;</span><br>         856:  <span style="background-color: white">      		}</span><br>         857:  <span style="background-color: white">          }</span><br>         858:  <span style="background-color: white">          </span><br>         859:  <span style="background-color: white">          public static class FSPageHeight extends LengthLikeWithAuto {</span><br>         860:  <span style="background-color: white">              @Override</span><br>         861:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         862:  <span style="background-color: white">                  return false;</span><br>         863:  <span style="background-color: white">              }</span><br>         864:  <span style="background-color: white">          }</span><br>         865:  <span style="background-color: white">      </span><br>         866:  <span style="background-color: white">          public static class FSPageWidth extends LengthLikeWithAuto {</span><br>         867:  <span style="background-color: white">              @Override</span><br>         868:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         869:  <span style="background-color: white">                  return false;</span><br>         870:  <span style="background-color: white">              }</span><br>         871:  <span style="background-color: white">          }</span><br>         872:  <span style="background-color: white">      </span><br>         873:  <span style="background-color: white">          public static class FSPageSequence extends SingleIdent {</span><br>         874:  <span style="background-color: white">              // start | auto</span><br>         875:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         876:  <span style="background-color: white">                      new IdentValue[] { IdentValue.START, IdentValue.AUTO });</span><br>         877:  <span style="background-color: white">      </span><br>         878:  <span style="background-color: white">              @Override</span><br>         879:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         880:  <span style="background-color: white">                  return ALLOWED;</span><br>         881:  <span style="background-color: white">              }</span><br>         882:  <span style="background-color: white">          }</span><br>         883:  <span style="background-color: white">      </span><br>         884:  <span style="background-color: white">          public static class FSPageOrientation extends SingleIdent {</span><br>         885:  <span style="background-color: white">              @Override</span><br>         886:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         887:  <span style="background-color: white">                  return PAGE_ORIENTATIONS;</span><br>         888:  <span style="background-color: white">              }</span><br>         889:  <span style="background-color: white">          }</span><br>         890:  <span style="background-color: white">      </span><br>         891:  <span style="background-color: white">          public static class FSPDFFontEmbed extends SingleIdent {</span><br>         892:  <span style="background-color: white">              // auto | embed</span><br>         893:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         894:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.EMBED });</span><br>         895:  <span style="background-color: white">      </span><br>         896:  <span style="background-color: white">              @Override</span><br>         897:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         898:  <span style="background-color: white">                  return ALLOWED;</span><br>         899:  <span style="background-color: white">              }</span><br>         900:  <span style="background-color: white">          }</span><br>         901:  <span style="background-color: white">      </span><br>         902:  <span style="background-color: white">          public static class FSPDFFontEncoding extends AbstractPropertyBuilder {</span><br>         903:  <span style="background-color: white">              @Override</span><br>         904:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>         905:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>         906:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>         907:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>         908:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>         909:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>         910:  <span style="background-color: white">                      checkIdentOrString(cssName, value);</span><br>         911:  <span style="background-color: white">      </span><br>         912:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>         913:  <span style="background-color: white">                          // Convert to string</span><br>         914:  <span style="background-color: white">                          return Collections.singletonList(</span><br>         915:  <span style="background-color: white">                                  new PropertyDeclaration(</span><br>         916:  <span style="background-color: white">                                          cssName,</span><br>         917:  <span style="background-color: white">                                          new PropertyValue(</span><br>         918:  <span style="background-color: white">                                                  CSSPrimitiveValue.CSS_STRING,</span><br>         919:  <span style="background-color: white">                                                  value.getStringValue(),</span><br>         920:  <span style="background-color: white">                                                  value.getCssText()),</span><br>         921:  <span style="background-color: white">                                          important,</span><br>         922:  <span style="background-color: white">                                          origin));</span><br>         923:  <span style="background-color: white">                      }</span><br>         924:  <span style="background-color: white">                  }</span><br>         925:  <span style="background-color: white">      </span><br>         926:  <span style="background-color: white">                  return Collections.singletonList(</span><br>         927:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>         928:  <span style="background-color: white">              }</span><br>         929:  <span style="background-color: white">          }</span><br>         930:  <span style="background-color: white">      </span><br>         931:  <span style="background-color: white">          public static class FSTableCellColspan extends ColOrRowSpan {</span><br>         932:  <span style="background-color: white">          }</span><br>         933:  <span style="background-color: white">      </span><br>         934:  <span style="background-color: white">          public static class FSTableCellRowspan extends ColOrRowSpan {</span><br>         935:  <span style="background-color: white">          }</span><br>         936:  <span style="background-color: white">      </span><br>         937:  <span style="background-color: white">          public static class FSTablePaginate extends SingleIdent {</span><br>         938:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         939:  <span style="background-color: white">                      new IdentValue[] { IdentValue.PAGINATE, IdentValue.AUTO });</span><br>         940:  <span style="background-color: white">      </span><br>         941:  <span style="background-color: white">              @Override</span><br>         942:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         943:  <span style="background-color: white">                  return ALLOWED;</span><br>         944:  <span style="background-color: white">              }</span><br>         945:  <span style="background-color: white">           }</span><br>         946:  <span style="background-color: white">      </span><br>         947:  <span style="background-color: white">          public static class FSTextDecorationExtent extends SingleIdent {</span><br>         948:  <span style="background-color: white">             private static final BitSet ALLOWED = setFor(</span><br>         949:  <span style="background-color: white">                     new IdentValue[] { IdentValue.LINE, IdentValue.BLOCK });</span><br>         950:  <span style="background-color: white">      </span><br>         951:  <span style="background-color: white">             @Override</span><br>         952:  <span style="background-color: white">          protected BitSet getAllowed() {</span><br>         953:  <span style="background-color: white">                 return ALLOWED;</span><br>         954:  <span style="background-color: white">             }</span><br>         955:  <span style="background-color: white">          }</span><br>         956:  <span style="background-color: white">      </span><br>         957:  <span style="background-color: white">          public static class FSFitImagesToWidth extends LengthLikeWithAuto {</span><br>         958:  <span style="background-color: white">              @Override</span><br>         959:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         960:  <span style="background-color: white">                  return false;</span><br>         961:  <span style="background-color: white">              }</span><br>         962:  <span style="background-color: white">           }</span><br>         963:  <span style="background-color: white">      </span><br>         964:  <span style="background-color: white">          public static class Height extends LengthLikeWithAuto {</span><br>         965:  <span style="background-color: white">              @Override</span><br>         966:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>         967:  <span style="background-color: white">                  return false;</span><br>         968:  <span style="background-color: white">              }</span><br>         969:  <span style="background-color: white">          }</span><br>         970:  <span style="background-color: white">      </span><br>         971:  <span style="background-color: white">          public static class FSDynamicAutoWidth extends SingleIdent {</span><br>         972:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         973:  <span style="background-color: white">                      new IdentValue[] { IdentValue.DYNAMIC, IdentValue.STATIC });</span><br>         974:  <span style="background-color: white">      </span><br>         975:  <span style="background-color: white">              @Override</span><br>         976:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         977:  <span style="background-color: white">                  return ALLOWED;</span><br>         978:  <span style="background-color: white">              }</span><br>         979:  <span style="background-color: white">          }</span><br>         980:  <span style="background-color: white">      </span><br>         981:  <span style="background-color: white">          public static class FSKeepWithInline extends SingleIdent {</span><br>         982:  <span style="background-color: white">              // auto | keep</span><br>         983:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         984:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.KEEP });</span><br>         985:  <span style="background-color: white">      </span><br>         986:  <span style="background-color: white">              @Override</span><br>         987:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         988:  <span style="background-color: white">                  return ALLOWED;</span><br>         989:  <span style="background-color: white">              }</span><br>         990:  <span style="background-color: white">          }</span><br>         991:  <span style="background-color: white">      </span><br>         992:  <span style="background-color: white">          public static class FSNamedDestination extends SingleIdent {</span><br>         993:  <span style="background-color: white">              // none | create</span><br>         994:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>         995:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NONE, IdentValue.CREATE });</span><br>         996:  <span style="background-color: white">      </span><br>         997:  <span style="background-color: white">              @Override</span><br>         998:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>         999:  <span style="background-color: white">                  return ALLOWED;</span><br>        1000:  <span style="background-color: white">              }</span><br>        1001:  <span style="background-color: white">          }</span><br>        1002:  <span style="background-color: white">      </span><br>        1003:  <span style="background-color: white">          public static class Left extends LengthLikeWithAuto {</span><br>        1004:  <span style="background-color: white">          }</span><br>        1005:  <span style="background-color: white">      </span><br>        1006:  <span style="background-color: white">          public static class LetterSpacing extends LengthWithNormal {</span><br>        1007:  <span style="background-color: white">          }</span><br>        1008:  <span style="background-color: white">      </span><br>        1009:  <span style="background-color: white">          public static class LineHeight extends AbstractPropertyBuilder {</span><br>        1010:  <span style="background-color: white">              // normal | 
       <number>
         | 
        <length>
          | 
         <percentage>
           | inherit
         </percentage>
        </length>
       </number></span><br>        1011:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1012:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NORMAL });</span><br>        1013:  <span style="background-color: white">      </span><br>        1014:  <span style="background-color: white">              @Override</span><br>        1015:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>        1016:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>        1017:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>        1018:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>        1019:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>        1020:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>        1021:  <span style="background-color: white">                      checkIdentLengthNumberOrPercentType(cssName, value);</span><br>        1022:  <span style="background-color: white">      </span><br>        1023:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>        1024:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>        1025:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>        1026:  <span style="background-color: white">                      } else if (value.getFloatValue() &lt; 0.0) {</span><br>        1027:  <span style="background-color: white">                          throw new CSSParseException("line-height may not be negative", -1);</span><br>        1028:  <span style="background-color: white">                      }</span><br>        1029:  <span style="background-color: white">                  }</span><br>        1030:  <span style="background-color: white">                  return Collections.singletonList(</span><br>        1031:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>        1032:  <span style="background-color: white">              }</span><br>        1033:  <span style="background-color: white">          }</span><br>        1034:  <span style="background-color: white">      </span><br>        1035:  <span style="background-color: white">          public static class ListStyleImage extends GenericURIWithNone {</span><br>        1036:  <span style="background-color: white">          }</span><br>        1037:  <span style="background-color: white">      </span><br>        1038:  <span style="background-color: white">          public static class ListStylePosition extends SingleIdent {</span><br>        1039:  <span style="background-color: white">              @Override</span><br>        1040:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1041:  <span style="background-color: white">                  return LIST_STYLE_POSITIONS;</span><br>        1042:  <span style="background-color: white">              }</span><br>        1043:  <span style="background-color: white">          }</span><br>        1044:  <span style="background-color: white">      </span><br>        1045:  <span style="background-color: white">          public static class ListStyleType extends SingleIdent {</span><br>        1046:  <span style="background-color: white">              @Override</span><br>        1047:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1048:  <span style="background-color: white">                  return LIST_STYLE_TYPES;</span><br>        1049:  <span style="background-color: white">              }</span><br>        1050:  <span style="background-color: white">          }</span><br>        1051:  <span style="background-color: white">      </span><br>        1052:  <span style="background-color: white">          public static class MarginTop extends LengthLikeWithAuto {</span><br>        1053:  <span style="background-color: white">          }</span><br>        1054:  <span style="background-color: white">      </span><br>        1055:  <span style="background-color: white">          public static class MarginRight extends LengthLikeWithAuto {</span><br>        1056:  <span style="background-color: white">          }</span><br>        1057:  <span style="background-color: white">      </span><br>        1058:  <span style="background-color: white">          public static class MarginBottom extends LengthLikeWithAuto {</span><br>        1059:  <span style="background-color: white">          }</span><br>        1060:  <span style="background-color: white">      </span><br>        1061:  <span style="background-color: white">          public static class MarginLeft extends LengthLikeWithAuto {</span><br>        1062:  <span style="background-color: white">          }</span><br>        1063:  <span style="background-color: white">      </span><br>        1064:  <span style="background-color: white">          public static class MaxHeight extends LengthLikeWithNone {</span><br>        1065:  <span style="background-color: white">              @Override</span><br>        1066:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>        1067:  <span style="background-color: white">                  return false;</span><br>        1068:  <span style="background-color: white">              }</span><br>        1069:  <span style="background-color: white">          }</span><br>        1070:  <span style="background-color: white">      </span><br>        1071:  <span style="background-color: white">          public static class MaxWidth extends LengthLikeWithNone {</span><br>        1072:  <span style="background-color: white">              @Override</span><br>        1073:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>        1074:  <span style="background-color: white">                  return false;</span><br>        1075:  <span style="background-color: white">              }</span><br>        1076:  <span style="background-color: white">          }</span><br>        1077:  <span style="background-color: white">      </span><br>        1078:  <span style="background-color: white">          public static class MinHeight extends NonNegativeLengthLike {</span><br>        1079:  <span style="background-color: white">          }</span><br>        1080:  <span style="background-color: white">      </span><br>        1081:  <span style="background-color: white">          public static class MinWidth extends NonNegativeLengthLike {</span><br>        1082:  <span style="background-color: white">          }</span><br>        1083:  <span style="background-color: white">      </span><br>        1084:  <span style="background-color: white">          public static class FSPageBreakMinHeight extends NonNegativeLengthLike {</span><br>        1085:  <span style="background-color: white">          }</span><br>        1086:  <span style="background-color: white">          </span><br>        1087:  <span style="background-color: white">          public static class FSMaxJustificationInterWord extends NonNegativeLengthLike {</span><br>        1088:  <span style="background-color: white">          }</span><br>        1089:  <span style="background-color: white">      </span><br>        1090:  <span style="background-color: white">          public static class FSMaxJustificationInterChar extends NonNegativeLengthLike {</span><br>        1091:  <span style="background-color: white">          }</span><br>        1092:  <span style="background-color: white">      </span><br>        1093:  <span style="background-color: white">          public static class Orphans extends PlainInteger {</span><br>        1094:  <span style="background-color: white">              @Override</span><br>        1095:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>        1096:  <span style="background-color: white">                  return false;</span><br>        1097:  <span style="background-color: white">              }</span><br>        1098:  <span style="background-color: white">          }</span><br>        1099:  <span style="background-color: white">      </span><br>        1100:  <span style="background-color: white">          public static class Overflow extends SingleIdent {</span><br>        1101:  <span style="background-color: white">              // visible | hidden | scroll | auto | inherit</span><br>        1102:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1103:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1104:  <span style="background-color: white">                              IdentValue.VISIBLE, IdentValue.HIDDEN,</span><br>        1105:  <span style="background-color: white">                              /* IdentValue.SCROLL, IdentValue.AUTO, */ });</span><br>        1106:  <span style="background-color: white">      </span><br>        1107:  <span style="background-color: white">              // We only support visible or hidden for now</span><br>        1108:  <span style="background-color: white">      </span><br>        1109:  <span style="background-color: white">              @Override</span><br>        1110:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1111:  <span style="background-color: white">                  return ALLOWED;</span><br>        1112:  <span style="background-color: white">              }</span><br>        1113:  <span style="background-color: white">          }</span><br>        1114:  <span style="background-color: white">      </span><br>        1115:  <span style="background-color: white">          public static class PaddingTop extends NonNegativeLengthLike {</span><br>        1116:  <span style="background-color: white">          }</span><br>        1117:  <span style="background-color: white">      </span><br>        1118:  <span style="background-color: white">          public static class PaddingRight extends NonNegativeLengthLike {</span><br>        1119:  <span style="background-color: white">          }</span><br>        1120:  <span style="background-color: white">      </span><br>        1121:  <span style="background-color: white">          public static class PaddingBottom extends NonNegativeLengthLike {</span><br>        1122:  <span style="background-color: white">          }</span><br>        1123:  <span style="background-color: white">      </span><br>        1124:  <span style="background-color: white">          public static class PaddingLeft extends NonNegativeLengthLike {</span><br>        1125:  <span style="background-color: white">          }</span><br>        1126:  <span style="background-color: white">      </span><br>        1127:  <span style="background-color: white">          public static class PageBreakBefore extends SingleIdent {</span><br>        1128:  <span style="background-color: white">              // auto | always | avoid | left | right | inherit</span><br>        1129:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1130:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1131:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.ALWAYS,</span><br>        1132:  <span style="background-color: white">                              IdentValue.AVOID, IdentValue.LEFT,</span><br>        1133:  <span style="background-color: white">                              IdentValue.RIGHT });</span><br>        1134:  <span style="background-color: white">      </span><br>        1135:  <span style="background-color: white">              @Override</span><br>        1136:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1137:  <span style="background-color: white">                  return ALLOWED;</span><br>        1138:  <span style="background-color: white">              }</span><br>        1139:  <span style="background-color: white">          }</span><br>        1140:  <span style="background-color: white">          </span><br>        1141:  <span style="background-color: white">          public static class BreakBefore extends SingleIdent {</span><br>        1142:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1143:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.COLUMN });</span><br>        1144:  <span style="background-color: white">              </span><br>        1145:  <span style="background-color: white">              @Override</span><br>        1146:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1147:  <span style="background-color: white">                  return ALLOWED;</span><br>        1148:  <span style="background-color: white">              }</span><br>        1149:  <span style="background-color: white">          }</span><br>        1150:  <span style="background-color: white">      </span><br>        1151:  <span style="background-color: white">          public static class BreakAfter extends SingleIdent {</span><br>        1152:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1153:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.COLUMN });</span><br>        1154:  <span style="background-color: white">              </span><br>        1155:  <span style="background-color: white">              @Override</span><br>        1156:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1157:  <span style="background-color: white">                  return ALLOWED;</span><br>        1158:  <span style="background-color: white">              }</span><br>        1159:  <span style="background-color: white">          }</span><br>        1160:  <span style="background-color: white">          </span><br>        1161:  <span style="background-color: white">          public static class Page extends AbstractPropertyBuilder {</span><br>        1162:  <span style="background-color: white">              @Override</span><br>        1163:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>        1164:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>        1165:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>        1166:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>        1167:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>        1168:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>        1169:  <span style="background-color: white">                      checkIdentType(cssName, value);</span><br>        1170:  <span style="background-color: white">      </span><br>        1171:  <span style="background-color: white">                      if (! value.getStringValue().equals("auto")) {</span><br>        1172:  <span style="background-color: white">                          // Treat as string since it won't be a proper IdentValue</span><br>        1173:  <span style="background-color: white">                          value = new PropertyValue(</span><br>        1174:  <span style="background-color: white">                                  CSSPrimitiveValue.CSS_STRING, value.getStringValue(), value.getCssText());</span><br>        1175:  <span style="background-color: white">                      }</span><br>        1176:  <span style="background-color: white">                  }</span><br>        1177:  <span style="background-color: white">      </span><br>        1178:  <span style="background-color: white">                  return Collections.singletonList(</span><br>        1179:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>        1180:  <span style="background-color: white">      </span><br>        1181:  <span style="background-color: white">      </span><br>        1182:  <span style="background-color: white">              }</span><br>        1183:  <span style="background-color: white">          }</span><br>        1184:  <span style="background-color: white">      </span><br>        1185:  <span style="background-color: white">          public static class PageBreakAfter extends SingleIdent {</span><br>        1186:  <span style="background-color: white">              // auto | always | avoid | left | right | inherit</span><br>        1187:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1188:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1189:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.ALWAYS,</span><br>        1190:  <span style="background-color: white">                              IdentValue.AVOID, IdentValue.LEFT,</span><br>        1191:  <span style="background-color: white">                              IdentValue.RIGHT });</span><br>        1192:  <span style="background-color: white">      </span><br>        1193:  <span style="background-color: white">              @Override</span><br>        1194:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1195:  <span style="background-color: white">                  return ALLOWED;</span><br>        1196:  <span style="background-color: white">              }</span><br>        1197:  <span style="background-color: white">          }</span><br>        1198:  <span style="background-color: white">      </span><br>        1199:  <span style="background-color: white">          public static class PageBreakInside extends SingleIdent {</span><br>        1200:  <span style="background-color: white">              // avoid | auto | inherit</span><br>        1201:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1202:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1203:  <span style="background-color: white">                              IdentValue.AVOID, IdentValue.AUTO });</span><br>        1204:  <span style="background-color: white">      </span><br>        1205:  <span style="background-color: white">              @Override</span><br>        1206:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1207:  <span style="background-color: white">                  return ALLOWED;</span><br>        1208:  <span style="background-color: white">              }</span><br>        1209:  <span style="background-color: white">          }</span><br>        1210:  <span style="background-color: white">      </span><br>        1211:  <span style="background-color: white">          public static class Position extends AbstractPropertyBuilder {</span><br>        1212:  <span style="background-color: white">              // static | relative | absolute | fixed | inherit</span><br>        1213:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1214:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1215:  <span style="background-color: white">                              IdentValue.STATIC, IdentValue.RELATIVE,</span><br>        1216:  <span style="background-color: white">                              IdentValue.ABSOLUTE, IdentValue.FIXED });</span><br>        1217:  <span style="background-color: white">      </span><br>        1218:  <span style="background-color: white">              @Override</span><br>        1219:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>        1220:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>        1221:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>        1222:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>        1223:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>        1224:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>        1225:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>        1226:  <span style="background-color: white">                          checkIdentType(cssName, value);</span><br>        1227:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>        1228:  <span style="background-color: white">      </span><br>        1229:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>        1230:  <span style="background-color: white">                      } else if (value.getPropertyValueType() == PropertyValue.VALUE_TYPE_FUNCTION) {</span><br>        1231:  <span style="background-color: white">                          FSFunction function = value.getFunction();</span><br>        1232:  <span style="background-color: white">                          if (function.getName().equals("running")) {</span><br>        1233:  <span style="background-color: white">                              List
       <propertyvalue>
         params = function.getParameters();
       </propertyvalue></span><br>        1234:  <span style="background-color: white">                              if (params.size() == 1) {</span><br>        1235:  <span style="background-color: white">                                  PropertyValue param = params.get(0);</span><br>        1236:  <span style="background-color: white">                                  if (param.getPrimitiveType() != CSSPrimitiveValue.CSS_IDENT) {</span><br>        1237:  <span style="background-color: white">                                      throw new CSSParseException("The running function takes an identifier as a parameter", -1);</span><br>        1238:  <span style="background-color: white">                                  }</span><br>        1239:  <span style="background-color: white">                              } else {</span><br>        1240:  <span style="background-color: white">                                  throw new CSSParseException("The running function takes one parameter", -1);</span><br>        1241:  <span style="background-color: white">                              }</span><br>        1242:  <span style="background-color: white">                          } else {</span><br>        1243:  <span style="background-color: white">                              throw new CSSParseException("Only the running function is supported here", -1);</span><br>        1244:  <span style="background-color: white">                          }</span><br>        1245:  <span style="background-color: white">                      } else {</span><br>        1246:  <span style="background-color: white">                          throw new CSSParseException("Value for " + cssName + " must be an identifier or function", -1);</span><br>        1247:  <span style="background-color: white">                      }</span><br>        1248:  <span style="background-color: white">                  }</span><br>        1249:  <span style="background-color: white">      </span><br>        1250:  <span style="background-color: white">                  return Collections.singletonList(</span><br>        1251:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>        1252:  <span style="background-color: white">      </span><br>        1253:  <span style="background-color: white">              }</span><br>        1254:  <span style="background-color: white">      </span><br>        1255:  <span style="background-color: white">              private BitSet getAllowed() {</span><br>        1256:  <span style="background-color: white">                  return ALLOWED;</span><br>        1257:  <span style="background-color: white">              }</span><br>        1258:  <span style="background-color: white">          }</span><br>        1259:  <span style="background-color: white">      </span><br>        1260:  <span style="background-color: white">          public static class Right extends LengthLikeWithAuto {</span><br>        1261:  <span style="background-color: white">          }</span><br>        1262:  <span style="background-color: white">      </span><br>        1263:  <span style="background-color: white">          public static class Src extends GenericURIWithNone {</span><br>        1264:  <span style="background-color: white">              @Override</span><br>        1265:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>        1266:  <span style="background-color: white">                  if (values.size() == 1) {</span><br>        1267:  <span style="background-color: white">                      return super.buildDeclarations(cssName, values, origin, important, inheritAllowed);    </span><br>        1268:  <span style="background-color: white">                  }</span><br>        1269:  <span style="background-color: white">                  </span><br>        1270:  <span style="background-color: white">                  for (int i = 0; i &lt; values.size(); i++) {</span><br>        1271:  <span style="background-color: white">                      PropertyValue value = values.get(i);</span><br>        1272:  <span style="background-color: white">                      PropertyValue next = (i + 1 &lt; values.size()) ? values.get(i + 1) : null;</span><br>        1273:  <span style="background-color: white">      </span><br>        1274:  <span style="background-color: white">                      if (value.getPrimitiveType() != CSSPrimitiveValue.CSS_URI ||</span><br>        1275:  <span style="background-color: white">                          next == null ||</span><br>        1276:  <span style="background-color: white">                          next.getPropertyValueType() != PropertyValue.VALUE_TYPE_FUNCTION ||</span><br>        1277:  <span style="background-color: white">                          !"format".equals(next.getFunction().getName()) ||</span><br>        1278:  <span style="background-color: white">                          next.getFunction().getParameters().size() &lt; 1 ||</span><br>        1279:  <span style="background-color: white">                          !"truetype".equals(next.getFunction().getParameters().get(0).getStringValue())) {</span><br>        1280:  <span style="background-color: white">                          continue;</span><br>        1281:  <span style="background-color: white">                      } else {</span><br>        1282:  <span style="background-color: white">                          return super.buildDeclarations(cssName, Collections.singletonList(value), origin, important, inheritAllowed); </span><br>        1283:  <span style="background-color: white">                      }</span><br>        1284:  <span style="background-color: white">                  }</span><br>        1285:  <span style="background-color: white">                  </span><br>        1286:  <span style="background-color: white">                  throw new CSSParseException("Could not find font src with format(truetype) in list (" + values.toString() + ") of fonts", -1);</span><br>        1287:  <span style="background-color: white">              }</span><br>        1288:  <span style="background-color: white">          }</span><br>        1289:  <span style="background-color: white">      </span><br>        1290:  <span style="background-color: white">          public static class TabSize extends PlainInteger {</span><br>        1291:  <span style="background-color: white">              @Override</span><br>        1292:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>        1293:  <span style="background-color: white">                  return false;</span><br>        1294:  <span style="background-color: white">              }</span><br>        1295:  <span style="background-color: white">          }</span><br>        1296:  <span style="background-color: white">      </span><br>        1297:  <span style="background-color: white">          public static class Top extends LengthLikeWithAuto {</span><br>        1298:  <span style="background-color: white">          }</span><br>        1299:  <span style="background-color: white">      </span><br>        1300:  <span style="background-color: white">          public static class TableLayout extends SingleIdent {</span><br>        1301:  <span style="background-color: white">              // auto | fixed | inherit</span><br>        1302:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1303:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1304:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.FIXED });</span><br>        1305:  <span style="background-color: white">      </span><br>        1306:  <span style="background-color: white">              @Override</span><br>        1307:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1308:  <span style="background-color: white">                  return ALLOWED;</span><br>        1309:  <span style="background-color: white">              }</span><br>        1310:  <span style="background-color: white">          }</span><br>        1311:  <span style="background-color: white">      </span><br>        1312:  <span style="background-color: white">          public static class TextAlign extends SingleIdent {</span><br>        1313:  <span style="background-color: white">              // left | right | center | justify | inherit</span><br>        1314:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1315:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1316:  <span style="background-color: white">                              IdentValue.LEFT, IdentValue.RIGHT,</span><br>        1317:  <span style="background-color: white">                              IdentValue.CENTER, IdentValue.JUSTIFY, IdentValue.START });</span><br>        1318:  <span style="background-color: white">      </span><br>        1319:  <span style="background-color: white">              @Override</span><br>        1320:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1321:  <span style="background-color: white">                  return ALLOWED;</span><br>        1322:  <span style="background-color: white">              }</span><br>        1323:  <span style="background-color: white">          }</span><br>        1324:  <span style="background-color: white">      </span><br>        1325:  <span style="background-color: white">          public static class TextDecoration extends AbstractPropertyBuilder {</span><br>        1326:  <span style="background-color: white">              // none | [ underline || overline || line-through || blink ] | inherit</span><br>        1327:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1328:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1329:  <span style="background-color: white">                              /* IdentValue.NONE, */ IdentValue.UNDERLINE,</span><br>        1330:  <span style="background-color: white">                              IdentValue.OVERLINE, IdentValue.LINE_THROUGH,</span><br>        1331:  <span style="background-color: white">                              /* IdentValue.BLINK */ });</span><br>        1332:  <span style="background-color: white">      </span><br>        1333:  <span style="background-color: white">              private BitSet getAllowed() {</span><br>        1334:  <span style="background-color: white">                  return ALLOWED;</span><br>        1335:  <span style="background-color: white">              }</span><br>        1336:  <span style="background-color: white">      </span><br>        1337:  <span style="background-color: white">              @Override</span><br>        1338:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>        1339:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>        1340:  <span style="background-color: white">                  if (values.size() == 1) {</span><br>        1341:  <span style="background-color: white">                      CSSPrimitiveValue value = values.get(0);</span><br>        1342:  <span style="background-color: white">                      boolean goWithSingle = false;</span><br>        1343:  <span style="background-color: white">                      if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>        1344:  <span style="background-color: white">                          goWithSingle = true;</span><br>        1345:  <span style="background-color: white">                      } else {</span><br>        1346:  <span style="background-color: white">                          checkIdentType(CSSName.TEXT_DECORATION, value);</span><br>        1347:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>        1348:  <span style="background-color: white">                          if (ident == IdentValue.NONE) {</span><br>        1349:  <span style="background-color: white">                              goWithSingle = true;</span><br>        1350:  <span style="background-color: white">                          }</span><br>        1351:  <span style="background-color: white">                      }</span><br>        1352:  <span style="background-color: white">      </span><br>        1353:  <span style="background-color: white">                      if (goWithSingle) {</span><br>        1354:  <span style="background-color: white">                          return Collections.singletonList(</span><br>        1355:  <span style="background-color: white">                                  new PropertyDeclaration(cssName, value, important, origin));</span><br>        1356:  <span style="background-color: white">                      }</span><br>        1357:  <span style="background-color: white">                  }</span><br>        1358:  <span style="background-color: white">      </span><br>        1359:  <span style="background-color: white">                  for (Iterator
       <propertyvalue>
         i = values.iterator(); i.hasNext(); ) {
       </propertyvalue></span><br>        1360:  <span style="background-color: white">                      PropertyValue value = i.next();</span><br>        1361:  <span style="background-color: white">                      checkInheritAllowed(value, false);</span><br>        1362:  <span style="background-color: white">                      checkIdentType(cssName, value);</span><br>        1363:  <span style="background-color: white">                      IdentValue ident = checkIdent(cssName, value);</span><br>        1364:  <span style="background-color: white">                      if (ident == IdentValue.NONE) {</span><br>        1365:  <span style="background-color: white">                          throw new CSSParseException("Value none may not be used in this position", -1);</span><br>        1366:  <span style="background-color: white">                      }</span><br>        1367:  <span style="background-color: white">                      checkValidity(cssName, getAllowed(), ident);</span><br>        1368:  <span style="background-color: white">                  }</span><br>        1369:  <span style="background-color: white">      </span><br>        1370:  <span style="background-color: white">                  return Collections.singletonList(</span><br>        1371:  <span style="background-color: white">                          new PropertyDeclaration(cssName, new PropertyValue(values), important, origin));</span><br>        1372:  <span style="background-color: white">      </span><br>        1373:  <span style="background-color: white">              }</span><br>        1374:  <span style="background-color: white">          }</span><br>        1375:  <span style="background-color: white">      </span><br>        1376:  <span style="background-color: white">          public static class TextIndent extends LengthLike {</span><br>        1377:  <span style="background-color: white">          }</span><br>        1378:  <span style="background-color: white">      </span><br>        1379:  <span style="background-color: white">          public static class TextTransform extends SingleIdent {</span><br>        1380:  <span style="background-color: white">             // capitalize | uppercase | lowercase | none | inherit</span><br>        1381:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1382:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1383:  <span style="background-color: white">                              IdentValue.CAPITALIZE, IdentValue.UPPERCASE,</span><br>        1384:  <span style="background-color: white">                              IdentValue.LOWERCASE, IdentValue.NONE });</span><br>        1385:  <span style="background-color: white">      </span><br>        1386:  <span style="background-color: white">              @Override</span><br>        1387:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1388:  <span style="background-color: white">                  return ALLOWED;</span><br>        1389:  <span style="background-color: white">              }</span><br>        1390:  <span style="background-color: white">          }</span><br>        1391:  <span style="background-color: white">      </span><br>        1392:  <span style="background-color: white">          public static class VerticalAlign extends LengthLikeWithIdent {</span><br>        1393:  <span style="background-color: white">              // baseline | sub | super | top | text-top | middle</span><br>        1394:  <span style="background-color: white">              // | bottom | text-bottom | 
       <percentage>
         | 
        <length>
          | inherit
        </length>
       </percentage></span><br>        1395:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1396:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1397:  <span style="background-color: white">                              IdentValue.BASELINE, IdentValue.SUB,</span><br>        1398:  <span style="background-color: white">                              IdentValue.SUPER, IdentValue.TOP,</span><br>        1399:  <span style="background-color: white">                              IdentValue.TEXT_TOP, IdentValue.MIDDLE,</span><br>        1400:  <span style="background-color: white">                              IdentValue.BOTTOM, IdentValue.TEXT_BOTTOM });</span><br>        1401:  <span style="background-color: white">      </span><br>        1402:  <span style="background-color: white">              @Override</span><br>        1403:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1404:  <span style="background-color: white">                  return ALLOWED;</span><br>        1405:  <span style="background-color: white">              }</span><br>        1406:  <span style="background-color: white">          }</span><br>        1407:  <span style="background-color: white">      </span><br>        1408:  <span style="background-color: white">          public static class Visibility extends SingleIdent {</span><br>        1409:  <span style="background-color: white">              // visible | hidden | collapse | inherit | -fs-table-paginate-repeated-visible</span><br>        1410:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1411:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1412:  <span style="background-color: white">                              IdentValue.VISIBLE, IdentValue.HIDDEN, IdentValue.COLLAPSE,</span><br>        1413:  <span style="background-color: white">                              IdentValue.FS_TABLE_PAGINATE_REPEATED_VISIBLE });</span><br>        1414:  <span style="background-color: white">      </span><br>        1415:  <span style="background-color: white">              @Override</span><br>        1416:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1417:  <span style="background-color: white">                  return ALLOWED;</span><br>        1418:  <span style="background-color: white">              }</span><br>        1419:  <span style="background-color: white">          }</span><br>        1420:  <span style="background-color: white">      </span><br>        1421:  <span style="background-color: white">          public static class WhiteSpace extends SingleIdent {</span><br>        1422:  <span style="background-color: white">              // normal | pre | nowrap | pre-wrap | pre-line | inherit</span><br>        1423:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1424:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1425:  <span style="background-color: white">                              IdentValue.NORMAL, IdentValue.PRE, IdentValue.NOWRAP,</span><br>        1426:  <span style="background-color: white">                              IdentValue.PRE_WRAP, IdentValue.PRE_LINE});</span><br>        1427:  <span style="background-color: white">      </span><br>        1428:  <span style="background-color: white">              @Override</span><br>        1429:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1430:  <span style="background-color: white">                  return ALLOWED;</span><br>        1431:  <span style="background-color: white">              }</span><br>        1432:  <span style="background-color: white">          }</span><br>        1433:  <span style="background-color: white">      </span><br>        1434:  <span style="background-color: white">          public static class WordWrap extends SingleIdent {</span><br>        1435:  <span style="background-color: white">              // normal | break-word</span><br>        1436:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1437:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1438:  <span style="background-color: white">                              IdentValue.NORMAL, IdentValue.BREAK_WORD});</span><br>        1439:  <span style="background-color: white">      </span><br>        1440:  <span style="background-color: white">              @Override</span><br>        1441:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1442:  <span style="background-color: white">                  return ALLOWED;</span><br>        1443:  <span style="background-color: white">              }</span><br>        1444:  <span style="background-color: white">          }</span><br>        1445:  <span style="background-color: white">      </span><br>        1446:  <span style="background-color: white">      </span><br>        1447:  <span style="background-color: white">          public static class Widows extends PlainInteger {</span><br>        1448:  <span style="background-color: white">              @Override</span><br>        1449:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>        1450:  <span style="background-color: white">                  return false;</span><br>        1451:  <span style="background-color: white">              }</span><br>        1452:  <span style="background-color: white">          }</span><br>        1453:  <span style="background-color: white">      </span><br>        1454:  <span style="background-color: white">          public static class Width extends LengthLikeWithAuto {</span><br>        1455:  <span style="background-color: white">              @Override</span><br>        1456:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>        1457:  <span style="background-color: white">                  return false;</span><br>        1458:  <span style="background-color: white">              }</span><br>        1459:  <span style="background-color: white">          }</span><br>        1460:  <span style="background-color: white">      </span><br>        1461:  <span style="background-color: white">          public static class WordSpacing extends LengthWithNormal {</span><br>        1462:  <span style="background-color: white">          }</span><br>        1463:  <span style="background-color: white">      </span><br>        1464:  <span style="background-color: white">          public static class ZIndex extends AbstractPropertyBuilder {</span><br>        1465:  <span style="background-color: white">              // auto | 
       <integer>
         | inherit
       </integer></span><br>        1466:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1467:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO });</span><br>        1468:  <span style="background-color: white">      </span><br>        1469:  <span style="background-color: white">              @Override</span><br>        1470:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>        1471:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>        1472:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>        1473:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>        1474:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>        1475:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>        1476:  <span style="background-color: white">                      checkIdentOrIntegerType(cssName, value);</span><br>        1477:  <span style="background-color: white">      </span><br>        1478:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>        1479:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>        1480:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>        1481:  <span style="background-color: white">                      }</span><br>        1482:  <span style="background-color: white">                  }</span><br>        1483:  <span style="background-color: white">      </span><br>        1484:  <span style="background-color: white">                  return Collections.singletonList(</span><br>        1485:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>        1486:  <span style="background-color: white">              }</span><br>        1487:  <span style="background-color: white">          }</span><br>        1488:  <span style="background-color: white">          </span><br>        1489:  <span style="background-color: white">          public static class ColumnCount extends AbstractPropertyBuilder {</span><br>        1490:  <span style="background-color: white">              // auto | 
       <integer>
         | inherit
       </integer></span><br>        1491:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1492:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO });</span><br>        1493:  <span style="background-color: white">      </span><br>        1494:  <span style="background-color: white">              @Override</span><br>        1495:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>        1496:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>        1497:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>        1498:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>        1499:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>        1500:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>        1501:  <span style="background-color: white">                      checkIdentOrIntegerType(cssName, value);</span><br>        1502:  <span style="background-color: white">      </span><br>        1503:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>        1504:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>        1505:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>        1506:  <span style="background-color: white">                      } else if (value.getFloatValue(CSSPrimitiveValue.CSS_NUMBER) &lt; 1) {</span><br>        1507:  <span style="background-color: white">                      	throw new CSSParseException("column-count must be one or greater", -1);</span><br>        1508:  <span style="background-color: white">                      }</span><br>        1509:  <span style="background-color: white">                  }</span><br>        1510:  <span style="background-color: white">      </span><br>        1511:  <span style="background-color: white">                  return Collections.singletonList(</span><br>        1512:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>        1513:  <span style="background-color: white">              }</span><br>        1514:  <span style="background-color: white">          }</span><br>        1515:  <span style="background-color: white">          </span><br>        1516:  <span style="background-color: white">          public static class ColumnGap extends LengthLikeWithIdent {</span><br>        1517:  <span style="background-color: white">          	// length || normal</span><br>        1518:  <span style="background-color: white">          	private static final BitSet ALLOWED = setFor(</span><br>        1519:  <span style="background-color: white">          			new IdentValue[] { IdentValue.NORMAL });</span><br>        1520:  <span style="background-color: white">      </span><br>        1521:  <span style="background-color: white">          	@Override</span><br>        1522:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>        1523:  <span style="background-color: white">      			return ALLOWED;</span><br>        1524:  <span style="background-color: white">      		}</span><br>        1525:  <span style="background-color: white">          }</span><br>        1526:  <span style="background-color: white">          </span><br>        1527:  <span style="background-color: white">      </span><br>        1528:  <span style="background-color: white">          static List
       <propertydeclaration>
         createTwoValueResponse(CSSName cssName, PropertyValue value1, PropertyValue value2,
       </propertydeclaration></span><br>        1529:  <span style="background-color: white">                  int origin, boolean important) {</span><br>        1530:  <span style="background-color: white">              List
       <propertyvalue>
         values = new ArrayList&lt;&gt;(2);
       </propertyvalue></span><br>        1531:  <span style="background-color: white">              values.add(value1);</span><br>        1532:  <span style="background-color: white">              values.add(value2);</span><br>        1533:  <span style="background-color: white">      </span><br>        1534:  <span style="background-color: white">              PropertyDeclaration result = new PropertyDeclaration(</span><br>        1535:  <span style="background-color: white">                      cssName,</span><br>        1536:  <span style="background-color: white">                      new PropertyValue(values), important, origin);</span><br>        1537:  <span style="background-color: white">      </span><br>        1538:  <span style="background-color: white">              return Collections.singletonList(result);</span><br>        1539:  <span style="background-color: white">          }</span><br>        1540:  <span style="background-color: white">      </span><br>        1541:  <span style="background-color: white">      </span><br>        1542:  <span style="background-color: white">          public static class TransformPropertyBuilder extends AbstractPropertyBuilder {</span><br>        1543:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.NONE });</span><br>        1544:  <span style="background-color: white">      </span><br>        1545:  <span style="background-color: white">              @Override</span><br>        1546:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important,
        </propertyvalue>
       </propertydeclaration></span><br>        1547:  <span style="background-color: white">                                            boolean inheritAllowed) {</span><br>        1548:  <span style="background-color: white">                  checkValueCount(cssName, 1, Integer.MAX_VALUE, values.size());</span><br>        1549:  <span style="background-color: white">                  checkInheritAllowed(values.get(0), inheritAllowed);</span><br>        1550:  <span style="background-color: white">                  </span><br>        1551:  <span style="background-color: white">                  if (values.get(0).getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>        1552:  <span style="background-color: white">                  	return Collections.singletonList(new PropertyDeclaration(cssName, values.get(0), important, origin));</span><br>        1553:  <span style="background-color: white">                  }</span><br>        1554:  <span style="background-color: white">                  </span><br>        1555:  <span style="background-color: white">                  if(values.size() == 1) {</span><br>        1556:  <span style="background-color: white">                      CSSPrimitiveValue value = values.get(0);</span><br>        1557:  <span style="background-color: white">                      if(value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>        1558:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>        1559:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>        1560:  <span style="background-color: white">                          return Collections.singletonList(new PropertyDeclaration(CSSName.TRANSFORM, value,</span><br>        1561:  <span style="background-color: white">                                  important, origin));</span><br>        1562:  <span style="background-color: white">                      }</span><br>        1563:  <span style="background-color: white">                  }</span><br>        1564:  <span style="background-color: white">                  </span><br>        1565:  <span style="background-color: white">                  for (Object v : values) {</span><br>        1566:  <span style="background-color: white">                  	PropertyValue value = (PropertyValue) v;</span><br>        1567:  <span style="background-color: white">                  	</span><br>        1568:  <span style="background-color: white">                  	if (value.getPropertyValueType() != PropertyValue.VALUE_TYPE_FUNCTION) {</span><br>        1569:  <span style="background-color: white">                  		throw new CSSParseException("One or more functions must be provided for transform property", -1);</span><br>        1570:  <span style="background-color: white">                  	}</span><br>        1571:  <span style="background-color: white">                  	</span><br>        1572:  <span style="background-color: white">                  	String fName = value.getFunction().getName();</span><br>        1573:  <span style="background-color: white">                  	</span><br>        1574:  <span style="background-color: white">                  	int expected = 0;</span><br>        1575:  <span style="background-color: white">                  	if (fName.equalsIgnoreCase("matrix")) {</span><br>        1576:  <span style="background-color: white">                  		expected = 6;</span><br>        1577:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1578:  <span style="background-color: white">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>        1579:  <span style="background-color: white">                  		}</span><br>        1580:  <span style="background-color: white">                  	} else if (fName.equalsIgnoreCase("translate")) {</span><br>        1581:  <span style="background-color: white">                  		expected = 2;</span><br>        1582:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1583:  <span style="background-color: white">                  			checkLengthOrPercentType(cssName, (CSSPrimitiveValue) p);</span><br>        1584:  <span style="background-color: white">                  		}</span><br>        1585:  <span style="background-color: white">                  	} else if (fName.equalsIgnoreCase("translateX")) {</span><br>        1586:  <span style="background-color: white">                  		expected = 1;</span><br>        1587:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1588:  <span style="background-color: white">                  			checkLengthOrPercentType(cssName, (CSSPrimitiveValue) p);</span><br>        1589:  <span style="background-color: white">                  		}</span><br>        1590:  <span style="background-color: white">                  	} else if (fName.equalsIgnoreCase("translateY")) {</span><br>        1591:  <span style="background-color: white">                  		expected = 1;</span><br>        1592:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1593:  <span style="background-color: white">                  			checkLengthOrPercentType(cssName, (CSSPrimitiveValue) p);</span><br>        1594:  <span style="background-color: white">                  		}</span><br>        1595:  <span style="background-color: white">                  	} else if (fName.equalsIgnoreCase("scale")) {</span><br>        1596:  <span style="background-color: white">                  		expected = 2;</span><br>        1597:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1598:  <span style="background-color: white">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>        1599:  <span style="background-color: white">                  		}</span><br>        1600:  <span style="background-color: white">                          if (value.getFunction().getParameters().size() == 1)</span><br>        1601:  <span style="background-color: white">                              expected = 1;</span><br>        1602:  <span style="background-color: white">                  	} else if (fName.equalsIgnoreCase("scaleX")) {</span><br>        1603:  <span style="background-color: white">                  		expected = 1;</span><br>        1604:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1605:  <span style="background-color: white">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>        1606:  <span style="background-color: white">                  		}</span><br>        1607:  <span style="background-color: white">                  	} else if (fName.equalsIgnoreCase("scaleY")) {</span><br>        1608:  <span style="background-color: white">                  		expected = 1;</span><br>        1609:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1610:  <span style="background-color: white">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>        1611:  <span style="background-color: white">                  		}</span><br>        1612:  <span style="background-color: white">                      } else if (fName.equalsIgnoreCase("skew")) {</span><br>        1613:  <span style="background-color: white">                          expected = 2;</span><br>        1614:  <span style="background-color: white">                          for (Object p : value.getFunction().getParameters()) {</span><br>        1615:  <span style="background-color: white">                              checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>        1616:  <span style="background-color: white">                          }</span><br>        1617:  <span style="background-color: white">                          if (value.getFunction().getParameters().size() == 1)</span><br>        1618:  <span style="background-color: white">                              expected = 1;</span><br>        1619:  <span style="background-color: white">                      } else if (fName.equalsIgnoreCase("skewX")) {</span><br>        1620:  <span style="background-color: white">                          expected = 1;</span><br>        1621:  <span style="background-color: white">                          for (Object p : value.getFunction().getParameters()) {</span><br>        1622:  <span style="background-color: white">                              checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>        1623:  <span style="background-color: white">                          }</span><br>        1624:  <span style="background-color: white">                      } else if (fName.equalsIgnoreCase("skewY")) {</span><br>        1625:  <span style="background-color: white">                          expected = 1;</span><br>        1626:  <span style="background-color: white">                          for (Object p : value.getFunction().getParameters()) {</span><br>        1627:  <span style="background-color: white">                              checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>        1628:  <span style="background-color: white">                          }</span><br>        1629:  <span style="background-color: white">                  	} else if (fName.equalsIgnoreCase("rotate")) {</span><br>        1630:  <span style="background-color: white">                  		expected = 1;</span><br>        1631:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>        1632:  <span style="background-color: white">                  			checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>        1633:  <span style="background-color: white">                  		}</span><br>        1634:  <span style="background-color: white">                  	} else {</span><br>        1635:  <span style="background-color: white">                  		throw new CSSParseException("Unsupported function provided in transform property: " + fName, -1);</span><br>        1636:  <span style="background-color: white">                  	}</span><br>        1637:  <span style="background-color: white">                  </span><br>        1638:  <span style="background-color: white">                  	checkValueCount(cssName, expected, value.getFunction().getParameters().size());</span><br>        1639:  <span style="background-color: white">                  }</span><br>        1640:  <span style="background-color: white">                  </span><br>        1641:  <span style="background-color: white">                  return Collections.singletonList(new PropertyDeclaration(CSSName.TRANSFORM, new PropertyValue(values),</span><br>        1642:  <span style="background-color: white">                          important, origin));</span><br>        1643:  <span style="background-color: white">              }</span><br>        1644:  <span style="background-color: white">          }</span><br>        1645:  <span style="background-color: white">          </span><br>        1646:  <span style="background-color: white">          // 0 | left | right | center | length | percentage</span><br>        1647:  <span style="background-color: white">          public static class TransformOriginX extends AbstractPropertyBuilder {</span><br>        1648:  <span style="background-color: white">          	private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.LEFT, IdentValue.CENTER, IdentValue.RIGHT });</span><br>        1649:  <span style="background-color: white">          	</span><br>        1650:  <span style="background-color: white">          	@Override</span><br>        1651:  <span style="background-color: white">          	public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>        1652:  <span style="background-color: white">          		checkValueCount(cssName, 1, values.size());</span><br>        1653:  <span style="background-color: white">          		CSSPrimitiveValue value = values.get(0);</span><br>        1654:  <span style="background-color: white">          		checkInheritAllowed(value, inheritAllowed);</span><br>        1655:  <span style="background-color: white">          		</span><br>        1656:  <span style="background-color: white">          		if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>        1657:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin));</span><br>        1658:  <span style="background-color: white">          		}</span><br>        1659:  <span style="background-color: white">          		</span><br>        1660:  <span style="background-color: white">          		if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>        1661:  <span style="background-color: white">          			IdentValue ident = checkIdent(cssName, value);</span><br>        1662:  <span style="background-color: white">          			checkValidity(cssName, ALLOWED, ident);</span><br>        1663:  <span style="background-color: white">          			if (ident == IdentValue.LEFT) {</span><br>        1664:  <span style="background-color: white">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 0f, "0%"), important, origin));</span><br>        1665:  <span style="background-color: white">          			} else if (ident == IdentValue.CENTER) {</span><br>        1666:  <span style="background-color: white">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 50f, "50%"), important, origin));</span><br>        1667:  <span style="background-color: white">          			} else { // if (ident == IdentValue.RIGHT)</span><br>        1668:  <span style="background-color: white">          			    return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 100f, "100%"), important, origin));	</span><br>        1669:  <span style="background-color: white">          			}</span><br>        1670:  <span style="background-color: white">          		} else {</span><br>        1671:  <span style="background-color: white">          			checkLengthOrPercentType(cssName, value);</span><br>        1672:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin)); </span><br>        1673:  <span style="background-color: white">          		}</span><br>        1674:  <span style="background-color: white">          	}</span><br>        1675:  <span style="background-color: white">          }</span><br>        1676:  <span style="background-color: white">          </span><br>        1677:  <span style="background-color: white">          // 0 | top | bottom | center | length | percentage</span><br>        1678:  <span style="background-color: white">          public static class TransformOriginY extends AbstractPropertyBuilder {</span><br>        1679:  <span style="background-color: white">          	private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.TOP, IdentValue.CENTER, IdentValue.BOTTOM });</span><br>        1680:  <span style="background-color: white">          	</span><br>        1681:  <span style="background-color: white">          	@Override</span><br>        1682:  <span style="background-color: white">          	public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>        1683:  <span style="background-color: white">          		checkValueCount(cssName, 1, values.size());</span><br>        1684:  <span style="background-color: white">          		CSSPrimitiveValue value = values.get(0);</span><br>        1685:  <span style="background-color: white">          		checkInheritAllowed(value, inheritAllowed);</span><br>        1686:  <span style="background-color: white">          		</span><br>        1687:  <span style="background-color: white">          		if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>        1688:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin));</span><br>        1689:  <span style="background-color: white">          		}</span><br>        1690:  <span style="background-color: white">          		</span><br>        1691:  <span style="background-color: white">          		if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>        1692:  <span style="background-color: white">          			IdentValue ident = checkIdent(cssName, value);</span><br>        1693:  <span style="background-color: white">          			checkValidity(cssName, ALLOWED, ident);</span><br>        1694:  <span style="background-color: white">          			if (ident == IdentValue.TOP) {</span><br>        1695:  <span style="background-color: white">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 0f, "0%"), important, origin));</span><br>        1696:  <span style="background-color: white">          			} else if (ident == IdentValue.CENTER) {</span><br>        1697:  <span style="background-color: white">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 50f, "50%"), important, origin));</span><br>        1698:  <span style="background-color: white">          			} else { // if (ident == IdentValue.BOTTOM)</span><br>        1699:  <span style="background-color: white">          			    return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 100f, "100%"), important, origin));	</span><br>        1700:  <span style="background-color: white">          			}</span><br>        1701:  <span style="background-color: white">          		} else {</span><br>        1702:  <span style="background-color: white">          			checkLengthOrPercentType(cssName, value);</span><br>        1703:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin)); </span><br>        1704:  <span style="background-color: white">          		}</span><br>        1705:  <span style="background-color: white">          	}</span><br>        1706:  <span style="background-color: white">          }</span><br>        1707:  <span style="background-color: white">      </span><br>        1708:  <span style="background-color: white">          public static class TransformOriginPropertyBuilder extends AbstractPropertyBuilder {</span><br>        1709:  <span style="background-color: white">              @Override</span><br>        1710:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important,
        </propertyvalue>
       </propertydeclaration></span><br>        1711:  <span style="background-color: white">                                            boolean inheritAllowed) {</span><br>        1712:  <span style="background-color: white">                  checkValueCount(cssName, 2, 3, values.size());</span><br>        1713:  <span style="background-color: white">                  PropertyValue x = values.get(0);</span><br>        1714:  <span style="background-color: white">                  PropertyValue y = values.get(1);</span><br>        1715:  <span style="background-color: white">      </span><br>        1716:  <span style="background-color: white">                  return Arrays.asList(</span><br>        1717:  <span style="background-color: white">                     new TransformOriginX().buildDeclarations(CSSName.FS_TRANSFORM_ORIGIN_X, Collections.singletonList(x), origin, important).get(0),</span><br>        1718:  <span style="background-color: white">                     new TransformOriginY().buildDeclarations(CSSName.FS_TRANSFORM_ORIGIN_Y, Collections.singletonList(y), origin, important).get(0)</span><br>        1719:  <span style="background-color: white">                  );</span><br>        1720:  <span style="background-color: white">              }</span><br>        1721:  <span style="background-color: white">          }</span><br>        1722:  <span style="background-color: white">      </span><br>        1723:  <span style="background-color: white">          public static class ImageRenderingBuilder extends SingleIdent {</span><br>        1724:  <span style="background-color: white">              // left | right | center | justify | inherit</span><br>        1725:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1726:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1727:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.PIXELATED,</span><br>        1728:  <span style="background-color: white">                              IdentValue.CRISP_EDGES });</span><br>        1729:  <span style="background-color: white">      </span><br>        1730:  <span style="background-color: white">              @Override</span><br>        1731:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1732:  <span style="background-color: white">                  return ALLOWED;</span><br>        1733:  <span style="background-color: white">              }</span><br>        1734:  <span style="background-color: white">          }</span><br>        1735:  <span style="background-color: white">          </span><br>        1736:  <span style="background-color: white">          public static class BoxSizing extends SingleIdent {</span><br>        1737:  <span style="background-color: white">              // border-box | content-box</span><br>        1738:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>        1739:  <span style="background-color: white">                      new IdentValue[] {</span><br>        1740:  <span style="background-color: white">                              IdentValue.BORDER_BOX, IdentValue.CONTENT_BOX });</span><br>        1741:  <span style="background-color: white">               @Override</span><br>        1742:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1743:  <span style="background-color: white">                  return ALLOWED;</span><br>        1744:  <span style="background-color: white">              }</span><br>        1745:  <span style="background-color: white">          }</span><br>        1746:  <span style="background-color: white">          </span><br>        1747:  <span style="background-color: white">          public static class FSMaxOverflowPages extends PlainInteger {</span><br>        1748:  <span style="background-color: white">              @Override</span><br>        1749:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>        1750:  <span style="background-color: white">                  return false;</span><br>        1751:  <span style="background-color: white">              }</span><br>        1752:  <span style="background-color: white">          }</span><br>        1753:  <span style="background-color: white">          </span><br>        1754:  <span style="background-color: white">          public static class FSOverflowPagesDirection extends SingleIdent {</span><br>        1755:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.LTR, IdentValue.RTL });</span><br>        1756:  <span style="background-color: white">              </span><br>        1757:  <span style="background-color: white">              @Override</span><br>        1758:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>        1759:  <span style="background-color: white">                  return ALLOWED;</span><br>        1760:  <span style="background-color: white">              }</span><br>        1761:  <span style="background-color: white">          }</span><br>        1762:  <span style="background-color: white">          </span><br>        1763:  <span style="background-color: white">      }</span><br></pre> </code> 
   </div> 
   <div class="column"> 
    <h2>Patched Code:</h2> <code> <pre id="patched-trace">        1-&gt;N:  <span style="background-color: white">      /*</span><br>        2-&gt;N:  <span style="background-color: white">       * {{{ header &amp; license</span><br>        3-&gt;N:  <span style="background-color: white">       * Copyright (c) 2007 Wisconsin Court System</span><br>        4-&gt;N:  <span style="background-color: white">       *</span><br>        5-&gt;N:  <span style="background-color: white">       * This program is free software; you can redistribute it and/or</span><br>        6-&gt;N:  <span style="background-color: white">       * modify it under the terms of the GNU Lesser General Public License</span><br>        7-&gt;N:  <span style="background-color: white">       * as published by the Free Software Foundation; either version 2.1</span><br>        8-&gt;N:  <span style="background-color: white">       * of the License, or (at your option) any later version.</span><br>        9-&gt;N:  <span style="background-color: white">       *</span><br>       10-&gt;N:  <span style="background-color: white">       * This program is distributed in the hope that it will be useful,</span><br>       11-&gt;N:  <span style="background-color: white">       * but WITHOUT ANY WARRANTY; without even the implied warranty of</span><br>       12-&gt;N:  <span style="background-color: white">       * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span><br>       13-&gt;N:  <span style="background-color: white">       * GNU Lesser General Public License for more details.</span><br>       14-&gt;N:  <span style="background-color: white">       *</span><br>       15-&gt;N:  <span style="background-color: white">       * You should have received a copy of the GNU Lesser General Public License</span><br>       16-&gt;N:  <span style="background-color: white">       * along with this program; if not, write to the Free Software</span><br>       17-&gt;N:  <span style="background-color: white">       * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span><br>       18-&gt;N:  <span style="background-color: white">       * }}}</span><br>       19-&gt;N:  <span style="background-color: white">       */</span><br>       20-&gt;N:  <span style="background-color: white">      package com.openhtmltopdf.css.parser.property;</span><br>       21-&gt;N:  <span style="background-color: white">      </span><br>       22-&gt;N:  <span style="background-color: white">      import com.openhtmltopdf.css.constants.CSSName;</span><br>       23-&gt;N:  <span style="background-color: white">      import com.openhtmltopdf.css.constants.IdentValue;</span><br>       24-&gt;N:  <span style="background-color: white">      import com.openhtmltopdf.css.parser.*;</span><br>       25-&gt;N:  <span style="background-color: white">      import com.openhtmltopdf.css.sheet.PropertyDeclaration;</span><br>       26-&gt;N:  <span style="background-color: white">      </span><br>       27-&gt;N:  <span style="background-color: white">      import java.util.*;</span><br>       28-&gt;N:  <span style="background-color: white">      </span><br>       29-&gt;N:  <span style="background-color: white">      public class PrimitivePropertyBuilders {</span><br>       30-&gt;N:  <span style="background-color: white">          // none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset</span><br>      31-&gt;31:  <span style="background-color: white">          public static final BitSet BORDER_STYLES = setFor(</span><br>       32-&gt;N:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NONE, IdentValue.HIDDEN, IdentValue.DOTTED,</span><br>       33-&gt;N:  <span style="background-color: white">                          IdentValue.DASHED, IdentValue.SOLID, IdentValue.DOUBLE,</span><br>       34-&gt;N:  <span style="background-color: white">                          IdentValue.GROOVE, IdentValue.RIDGE, IdentValue.INSET,</span><br>       35-&gt;N:  <span style="background-color: white">                          IdentValue.OUTSET });</span><br>       36-&gt;N:  <span style="background-color: white">      </span><br>       37-&gt;N:  <span style="background-color: white">          // thin | medium | thick</span><br>      38-&gt;38:  <span style="background-color: white">          public static final BitSet BORDER_WIDTHS = setFor(</span><br>       39-&gt;N:  <span style="background-color: white">                  new IdentValue[] { IdentValue.THIN, IdentValue.MEDIUM, IdentValue.THICK });</span><br>       40-&gt;N:  <span style="background-color: white">          </span><br>      41-&gt;41:  <span style="background-color: white">          public static final BitSet DIRECTIONS = setFor(</span><br>       42-&gt;N:  <span style="background-color: white">          		new IdentValue[] { IdentValue.LTR, IdentValue.RTL, IdentValue.AUTO });</span><br>       43-&gt;N:  <span style="background-color: white">      </span><br>       44-&gt;N:  <span style="background-color: white">          // normal | small-caps | inherit</span><br>      45-&gt;45:  <span style="background-color: white">          public static final BitSet FONT_VARIANTS = setFor(</span><br>       46-&gt;N:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NORMAL, IdentValue.SMALL_CAPS });</span><br>       47-&gt;N:  <span style="background-color: white">      </span><br>      48-&gt;48:  <span style="background-color: white">          public static final BitSet FONT_SUBSETS = setFor(</span><br>       49-&gt;N:  <span style="background-color: white">          		new IdentValue[] { IdentValue.SUBSET, IdentValue.COMPLETE_FONT });</span><br>       50-&gt;N:  <span style="background-color: white">      </span><br>      51-&gt;51:  <span style="background-color: white">          public static final BitSet CHECKBOX_STYLES = setFor(</span><br>       52-&gt;N:  <span style="background-color: white">          		new IdentValue[] { IdentValue.SQUARE, IdentValue.CIRCLE, IdentValue.DIAMOND, IdentValue.CHECK, IdentValue.CROSS, IdentValue.STAR });</span><br>       53-&gt;N:  <span style="background-color: white">          </span><br>       54-&gt;N:  <span style="background-color: white">          // normal | italic | oblique | inherit</span><br>      55-&gt;55:  <span style="background-color: white">          public static final BitSet FONT_STYLES = setFor(</span><br>       56-&gt;N:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NORMAL, IdentValue.ITALIC, IdentValue.OBLIQUE });</span><br>       57-&gt;N:  <span style="background-color: white">      </span><br>      58-&gt;58:  <span style="background-color: white">          public static final BitSet FONT_WEIGHTS = setFor(</span><br>       59-&gt;N:  <span style="background-color: white">                  new IdentValue[] { IdentValue.NORMAL, IdentValue.BOLD, IdentValue.BOLDER, IdentValue.LIGHTER });</span><br>       60-&gt;N:  <span style="background-color: white">      </span><br>      61-&gt;61:  <span style="background-color: white">          public static final BitSet PAGE_ORIENTATIONS = setFor(</span><br>       62-&gt;N:  <span style="background-color: white">                  new IdentValue[] { IdentValue.AUTO, IdentValue.PORTRAIT, IdentValue.LANDSCAPE });</span><br>       63-&gt;N:  <span style="background-color: white">      </span><br>       64-&gt;N:  <span style="background-color: white">          // inside | outside | inherit</span><br>      65-&gt;65:  <span style="background-color: white">          public static final BitSet LIST_STYLE_POSITIONS = setFor(new IdentValue[] {</span><br>       66-&gt;N:  <span style="background-color: white">                  IdentValue.INSIDE, IdentValue.OUTSIDE });</span><br>       67-&gt;N:  <span style="background-color: white">      </span><br>       68-&gt;N:  <span style="background-color: white">          // disc | circle | square | decimal</span><br>       69-&gt;N:  <span style="background-color: white">          // | decimal-leading-zero | lower-roman | upper-roman</span><br>       70-&gt;N:  <span style="background-color: white">          // | lower-greek | lower-latin | upper-latin | armenian</span><br>       71-&gt;N:  <span style="background-color: white">          // | georgian | lower-alpha | upper-alpha | none | inherit</span><br>      72-&gt;72:  <span style="background-color: white">          public static final BitSet LIST_STYLE_TYPES = setFor(new IdentValue[] {</span><br>       73-&gt;N:  <span style="background-color: white">                  IdentValue.DISC, IdentValue.CIRCLE, IdentValue.SQUARE,</span><br>       74-&gt;N:  <span style="background-color: white">                  IdentValue.DECIMAL, IdentValue.DECIMAL_LEADING_ZERO,</span><br>       75-&gt;N:  <span style="background-color: white">                  IdentValue.LOWER_ROMAN, IdentValue.UPPER_ROMAN,</span><br>       76-&gt;N:  <span style="background-color: white">                  IdentValue.LOWER_GREEK, IdentValue.LOWER_LATIN,</span><br>       77-&gt;N:  <span style="background-color: white">                  IdentValue.UPPER_LATIN, IdentValue.ARMENIAN,</span><br>       78-&gt;N:  <span style="background-color: white">                  IdentValue.GEORGIAN, IdentValue.LOWER_ALPHA,</span><br>       79-&gt;N:  <span style="background-color: white">                  IdentValue.UPPER_ALPHA, IdentValue.NONE });</span><br>       80-&gt;N:  <span style="background-color: white">      </span><br>       81-&gt;N:  <span style="background-color: white">          // repeat | repeat-x | repeat-y | no-repeat | inherit</span><br>      82-&gt;82:  <span style="background-color: white">          public static final BitSet BACKGROUND_REPEATS = setFor(</span><br>       83-&gt;N:  <span style="background-color: white">                  new IdentValue[] {</span><br>       84-&gt;N:  <span style="background-color: white">                          IdentValue.REPEAT, IdentValue.REPEAT_X,</span><br>       85-&gt;N:  <span style="background-color: white">                          IdentValue.REPEAT_Y, IdentValue.NO_REPEAT });</span><br>       86-&gt;N:  <span style="background-color: white">      </span><br>       87-&gt;N:  <span style="background-color: white">          // scroll | fixed | inherit</span><br>      88-&gt;88:  <span style="background-color: white">          public static final BitSet BACKGROUND_ATTACHMENTS = setFor(</span><br>       89-&gt;N:  <span style="background-color: white">                  new IdentValue[] { IdentValue.SCROLL</span><br>       90-&gt;N:  <span style="background-color: white">                          /*, IdentValue.FIXED - removed broken support for fixed in PR#650 by @danfickle */ });</span><br>       91-&gt;N:  <span style="background-color: white">      </span><br>       92-&gt;N:  <span style="background-color: white">          // left | right | top | bottom | center</span><br>      93-&gt;93:  <span style="background-color: white">          public static final BitSet BACKGROUND_POSITIONS = setFor(</span><br>       94-&gt;N:  <span style="background-color: white">                  new IdentValue[] {</span><br>       95-&gt;N:  <span style="background-color: white">                          IdentValue.LEFT, IdentValue.RIGHT, IdentValue.TOP,</span><br>       96-&gt;N:  <span style="background-color: white">                          IdentValue.BOTTOM, IdentValue.CENTER });</span><br>       97-&gt;N:  <span style="background-color: white">      </span><br>      98-&gt;98:  <span style="background-color: white">          public static final BitSet ABSOLUTE_FONT_SIZES = setFor(</span><br>       99-&gt;N:  <span style="background-color: white">                  new IdentValue[] {</span><br>      100-&gt;N:  <span style="background-color: white">                          IdentValue.XX_SMALL, IdentValue.X_SMALL, IdentValue.SMALL,</span><br>      101-&gt;N:  <span style="background-color: white">                          IdentValue.MEDIUM, IdentValue.LARGE, IdentValue.X_LARGE,</span><br>      102-&gt;N:  <span style="background-color: white">                          IdentValue.XX_LARGE });</span><br>      103-&gt;N:  <span style="background-color: white">      </span><br>    104-&gt;104:  <span style="background-color: white">          public static final BitSet RELATIVE_FONT_SIZES = setFor(</span><br>      105-&gt;N:  <span style="background-color: white">                  new IdentValue[] {</span><br>      106-&gt;N:  <span style="background-color: white">                          IdentValue.SMALLER, IdentValue.LARGER });</span><br>      107-&gt;N:  <span style="background-color: white">      </span><br>    108-&gt;108:  <span style="background-color: white">          public static final PropertyBuilder COLOR = new GenericColor();</span><br>    109-&gt;109:  <span style="background-color: white">          public static final PropertyBuilder BORDER_STYLE = new GenericBorderStyle();</span><br>    110-&gt;110:  <span style="background-color: white">          public static final PropertyBuilder BORDER_WIDTH = new GenericBorderWidth();</span><br>    111-&gt;111:  <span style="background-color: white">          public static final PropertyBuilder BORDER_RADIUS = new NonNegativeLengthLike();</span><br>    112-&gt;112:  <span style="background-color: white">          public static final PropertyBuilder MARGIN = new LengthLikeWithAuto();</span><br>    113-&gt;113:  <span style="background-color: white">          public static final PropertyBuilder PADDING = new NonNegativeLengthLike();</span><br>      114-&gt;N:  <span style="background-color: white">      </span><br>    115-&gt;115:  <span style="background-color: white">          static BitSet setFor(IdentValue[] values) {</span><br>    116-&gt;116:  <span style="background-color: white">              BitSet result = new BitSet(IdentValue.getIdentCount());</span><br>    117-&gt;117:  <span style="background-color: cyan">              for (int i = 0; i &lt; values.length; i++) {</span><br>    118-&gt;118:  <span style="background-color: cyan">                  IdentValue ident = values[i];</span><br>    119-&gt;119:  <span style="background-color: cyan">                  result.set(ident.FS_ID);</span><br>      120-&gt;N:  <span style="background-color: white">              }</span><br>    121-&gt;121:  <span style="background-color: white">              return result;</span><br>      122-&gt;N:  <span style="background-color: white">          }</span><br>      123-&gt;N:  <span style="background-color: white">      </span><br>    124-&gt;124:  <span style="background-color: white">          static abstract class SingleIdent extends AbstractPropertyBuilder {</span><br>    125-&gt;125:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>      126-&gt;N:  <span style="background-color: white">      </span><br>    127-&gt;127:  <span style="background-color: cyan">              @Override</span><br>    128-&gt;128:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    129-&gt;129:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    130-&gt;130:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>    131-&gt;131:  <span style="background-color: cyan">                  CSSPrimitiveValue value = values.get(0);</span><br>    132-&gt;132:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>    133-&gt;133:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    134-&gt;134:  <span style="background-color: cyan">                      checkIdentType(cssName, value);</span><br>    135-&gt;135:  <span style="background-color: cyan">                      IdentValue ident = checkIdent(cssName, value);</span><br>      136-&gt;N:  <span style="background-color: white">      </span><br>    137-&gt;137:  <span style="background-color: cyan">                      checkValidity(cssName, getAllowed(), ident);</span><br>      138-&gt;N:  <span style="background-color: white">                  }</span><br>      139-&gt;N:  <span style="background-color: white">      </span><br>    140-&gt;140:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>    141-&gt;141:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      142-&gt;N:  <span style="background-color: white">      </span><br>      143-&gt;N:  <span style="background-color: white">              }</span><br>      144-&gt;N:  <span style="background-color: white">          }</span><br>      145-&gt;N:  <span style="background-color: white">      </span><br>    146-&gt;146:  <span style="background-color: white">          static class GenericColor extends AbstractPropertyBuilder {</span><br>    147-&gt;147:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      148-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.TRANSPARENT });</span><br>      149-&gt;N:  <span style="background-color: white">      </span><br>    150-&gt;150:  <span style="background-color: cyan">              @Override</span><br>    151-&gt;151:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    152-&gt;152:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    153-&gt;153:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>    154-&gt;154:  <span style="background-color: cyan">                  CSSPrimitiveValue value = values.get(0);</span><br>    155-&gt;155:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>    156-&gt;156:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    157-&gt;157:  <span style="background-color: cyan">                      checkIdentOrColorType(cssName, value);</span><br>      158-&gt;N:  <span style="background-color: white">      </span><br>    159-&gt;159:  <span style="background-color: cyan">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>    160-&gt;160:  <span style="background-color: cyan">                          FSRGBColor color = Conversions.getColor(value.getStringValue());</span><br>    161-&gt;161:  <span style="background-color: cyan">                          if (color != null) {</span><br>    162-&gt;162:  <span style="background-color: cyan">                              return Collections.singletonList(</span><br>      163-&gt;N:  <span style="background-color: white">                                      new PropertyDeclaration(</span><br>    164-&gt;164:  <span style="background-color: white">                                              cssName,</span><br>    165-&gt;165:  <span style="background-color: white">                                              new PropertyValue(color),</span><br>    166-&gt;166:  <span style="background-color: white">                                              important,</span><br>    167-&gt;167:  <span style="background-color: white">                                              origin));</span><br>      168-&gt;N:  <span style="background-color: white">                          }</span><br>      169-&gt;N:  <span style="background-color: white">      </span><br>    170-&gt;170:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>    171-&gt;171:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>      172-&gt;N:  <span style="background-color: white">                      }</span><br>      173-&gt;N:  <span style="background-color: white">                  }</span><br>      174-&gt;N:  <span style="background-color: white">      </span><br>    175-&gt;175:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    176-&gt;176:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      177-&gt;N:  <span style="background-color: white">              }</span><br>      178-&gt;N:  <span style="background-color: white">          }</span><br>      179-&gt;N:  <span style="background-color: white">      </span><br>    180-&gt;180:  <span style="background-color: white">          private static class GenericBorderStyle extends SingleIdent {</span><br>    181-&gt;181:  <span style="background-color: white">              @Override</span><br>    182-&gt;182:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    183-&gt;183:  <span style="background-color: white">                  return BORDER_STYLES;</span><br>      184-&gt;N:  <span style="background-color: white">              }</span><br>      185-&gt;N:  <span style="background-color: white">          }</span><br>      186-&gt;N:  <span style="background-color: white">          </span><br>    187-&gt;187:  <span style="background-color: white">          public static class Direction extends SingleIdent {</span><br>    188-&gt;188:  <span style="background-color: white">      		@Override</span><br>    189-&gt;189:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>    190-&gt;190:  <span style="background-color: white">      			return DIRECTIONS;</span><br>      191-&gt;N:  <span style="background-color: white">      		}</span><br>      192-&gt;N:  <span style="background-color: white">          }</span><br>      193-&gt;N:  <span style="background-color: white">      </span><br>    194-&gt;194:  <span style="background-color: white">          private static class GenericBorderWidth extends AbstractPropertyBuilder {</span><br>    195-&gt;195:  <span style="background-color: white">              @Override</span><br>    196-&gt;196:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    197-&gt;197:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    198-&gt;198:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>    199-&gt;199:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>    200-&gt;200:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>    201-&gt;201:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    202-&gt;202:  <span style="background-color: white">                      checkIdentOrLengthType(cssName, value);</span><br>      203-&gt;N:  <span style="background-color: white">      </span><br>    204-&gt;204:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>    205-&gt;205:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>    206-&gt;206:  <span style="background-color: white">                          checkValidity(cssName, BORDER_WIDTHS, ident);</span><br>      207-&gt;N:  <span style="background-color: white">      </span><br>    208-&gt;208:  <span style="background-color: white">                          return Collections.singletonList(</span><br>      209-&gt;N:  <span style="background-color: white">                                  new PropertyDeclaration(</span><br>    210-&gt;210:  <span style="background-color: white">                                          cssName, Conversions.getBorderWidth(ident.toString()), important, origin));</span><br>      211-&gt;N:  <span style="background-color: white">                      } else {</span><br>    212-&gt;212:  <span style="background-color: white">                          if (value.getFloatValue() &lt; 0.0f) {</span><br>    213-&gt;213:  <span style="background-color: white">                              throw new CSSParseException(cssName + " may not be negative", -1);</span><br>      214-&gt;N:  <span style="background-color: white">                          }</span><br>      215-&gt;N:  <span style="background-color: white">                      }</span><br>      216-&gt;N:  <span style="background-color: white">                  }</span><br>      217-&gt;N:  <span style="background-color: white">      </span><br>    218-&gt;218:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    219-&gt;219:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      220-&gt;N:  <span style="background-color: white">              }</span><br>      221-&gt;N:  <span style="background-color: white">          }</span><br>      222-&gt;N:  <span style="background-color: white">          </span><br>    223-&gt;223:  <span style="background-color: white">          private static class GenericBorderCornerRadius extends AbstractPropertyBuilder  {</span><br>    224-&gt;224:  <span style="background-color: white">          	@Override</span><br>    225-&gt;225:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin,
        </propertyvalue>
       </propertydeclaration></span><br>    226-&gt;226:  <span style="background-color: white">                      boolean important, boolean inheritAllowed) {</span><br>    227-&gt;227:  <span style="background-color: white">                  checkValueCount(cssName, 1, 2, values.size());</span><br>      228-&gt;N:  <span style="background-color: white">                  </span><br>    229-&gt;229:  <span style="background-color: white">                  PropertyValue first = values.get(0);</span><br>    230-&gt;230:  <span style="background-color: white">                  PropertyValue second = null;</span><br>    231-&gt;231:  <span style="background-color: white">                  if (values.size() == 2) {</span><br>    232-&gt;232:  <span style="background-color: white">                      second = values.get(1);</span><br>      233-&gt;N:  <span style="background-color: white">                  }</span><br>      234-&gt;N:  <span style="background-color: white">      </span><br>    235-&gt;235:  <span style="background-color: white">                  checkInheritAllowed(first, inheritAllowed);</span><br>      236-&gt;N:  <span style="background-color: white">      </span><br>    237-&gt;237:  <span style="background-color: white">                  if (second != null) {</span><br>    238-&gt;238:  <span style="background-color: white">                      checkInheritAllowed(second, false);</span><br>      239-&gt;N:  <span style="background-color: white">                  }</span><br>      240-&gt;N:  <span style="background-color: white">      </span><br>    241-&gt;241:  <span style="background-color: white">                  checkLengthOrPercentType(cssName, first);</span><br>    242-&gt;242:  <span style="background-color: white">                   if (second == null) {</span><br>    243-&gt;243:  <span style="background-color: white">                       return createTwoValueResponse(cssName, first, first, origin, important);</span><br>      244-&gt;N:  <span style="background-color: white">                   } else {</span><br>    245-&gt;245:  <span style="background-color: white">                       checkLengthOrPercentType(cssName, second);</span><br>    246-&gt;246:  <span style="background-color: white">                       return createTwoValueResponse(cssName, first, second, origin, important);</span><br>      247-&gt;N:  <span style="background-color: white">                   }</span><br>      248-&gt;N:  <span style="background-color: white">              }</span><br>      249-&gt;N:  <span style="background-color: white">          }</span><br>      250-&gt;N:  <span style="background-color: white">      </span><br>    251-&gt;251:  <span style="background-color: white">          private static abstract class LengthWithIdent extends AbstractPropertyBuilder {</span><br>    252-&gt;252:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>      253-&gt;N:  <span style="background-color: white">      </span><br>    254-&gt;254:  <span style="background-color: white">              @Override</span><br>    255-&gt;255:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    256-&gt;256:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    257-&gt;257:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>    258-&gt;258:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>    259-&gt;259:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>    260-&gt;260:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    261-&gt;261:  <span style="background-color: white">                      checkIdentOrLengthType(cssName, value);</span><br>      262-&gt;N:  <span style="background-color: white">      </span><br>    263-&gt;263:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>    264-&gt;264:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>    265-&gt;265:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>    266-&gt;266:  <span style="background-color: white">                      } else if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>    267-&gt;267:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>      268-&gt;N:  <span style="background-color: white">                      }</span><br>      269-&gt;N:  <span style="background-color: white">                  }</span><br>      270-&gt;N:  <span style="background-color: white">      </span><br>    271-&gt;271:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    272-&gt;272:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      273-&gt;N:  <span style="background-color: white">      </span><br>      274-&gt;N:  <span style="background-color: white">              }</span><br>      275-&gt;N:  <span style="background-color: white">      </span><br>    276-&gt;276:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    277-&gt;277:  <span style="background-color: white">                  return true;</span><br>      278-&gt;N:  <span style="background-color: white">              }</span><br>      279-&gt;N:  <span style="background-color: white">          }</span><br>      280-&gt;N:  <span style="background-color: white">      </span><br>    281-&gt;281:  <span style="background-color: white">          private static abstract class LengthLikeWithIdent extends AbstractPropertyBuilder {</span><br>    282-&gt;282:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>      283-&gt;N:  <span style="background-color: white">      </span><br>    284-&gt;284:  <span style="background-color: cyan">              @Override</span><br>    285-&gt;285:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    286-&gt;286:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    287-&gt;287:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>    288-&gt;288:  <span style="background-color: cyan">                  PropertyValue value = values.get(0);</span><br>    289-&gt;289:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>    290-&gt;290:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    291-&gt;291:  <span style="background-color: cyan">                      checkIdentLengthOrPercentType(cssName, value);</span><br>      292-&gt;N:  <span style="background-color: white">      </span><br>    293-&gt;293:  <span style="background-color: cyan">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>    294-&gt;294:  <span style="background-color: cyan">                          IdentValue ident = checkIdent(cssName, value);</span><br>    295-&gt;295:  <span style="background-color: cyan">                          checkValidity(cssName, getAllowed(), ident);</span><br>    296-&gt;296:  <span style="background-color: cyan">                      } else if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>    297-&gt;297:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>      298-&gt;N:  <span style="background-color: white">                      }</span><br>      299-&gt;N:  <span style="background-color: white">                  }</span><br>      300-&gt;N:  <span style="background-color: white">      </span><br>    301-&gt;301:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>    302-&gt;302:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      303-&gt;N:  <span style="background-color: white">      </span><br>      304-&gt;N:  <span style="background-color: white">              }</span><br>      305-&gt;N:  <span style="background-color: white">      </span><br>    306-&gt;306:  <span style="background-color: cyan">              protected boolean isNegativeValuesAllowed() {</span><br>    307-&gt;307:  <span style="background-color: cyan">                  return true;</span><br>      308-&gt;N:  <span style="background-color: white">              }</span><br>      309-&gt;N:  <span style="background-color: white">          }</span><br>      310-&gt;N:  <span style="background-color: white">      </span><br>    311-&gt;311:  <span style="background-color: white">          private static class LengthLike extends AbstractPropertyBuilder {</span><br>    312-&gt;312:  <span style="background-color: cyan">              @Override</span><br>    313-&gt;313:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    314-&gt;314:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    315-&gt;315:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>    316-&gt;316:  <span style="background-color: cyan">                  PropertyValue value = values.get(0);</span><br>    317-&gt;317:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>    318-&gt;318:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    319-&gt;319:  <span style="background-color: cyan">                      checkLengthOrPercentType(cssName, value);</span><br>      320-&gt;N:  <span style="background-color: white">      </span><br>    321-&gt;321:  <span style="background-color: cyan">                      if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>    322-&gt;322:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>      323-&gt;N:  <span style="background-color: white">                      }</span><br>      324-&gt;N:  <span style="background-color: white">                  }</span><br>      325-&gt;N:  <span style="background-color: white">      </span><br>    326-&gt;326:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>    327-&gt;327:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      328-&gt;N:  <span style="background-color: white">      </span><br>      329-&gt;N:  <span style="background-color: white">              }</span><br>      330-&gt;N:  <span style="background-color: white">      </span><br>    331-&gt;331:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    332-&gt;332:  <span style="background-color: white">                  return true;</span><br>      333-&gt;N:  <span style="background-color: white">              }</span><br>      334-&gt;N:  <span style="background-color: white">          }</span><br>      335-&gt;N:  <span style="background-color: white">      </span><br>    336-&gt;336:  <span style="background-color: white">          private static class NonNegativeLengthLike extends LengthLike {</span><br>    337-&gt;337:  <span style="background-color: cyan">              @Override</span><br>    338-&gt;338:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    339-&gt;339:  <span style="background-color: cyan">                  return false;</span><br>      340-&gt;N:  <span style="background-color: white">              }</span><br>      341-&gt;N:  <span style="background-color: white">          }</span><br>      342-&gt;N:  <span style="background-color: white">      </span><br>    343-&gt;343:  <span style="background-color: white">          private static class ColOrRowSpan extends AbstractPropertyBuilder {</span><br>    344-&gt;344:  <span style="background-color: white">              @Override</span><br>    345-&gt;345:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>    346-&gt;346:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>    347-&gt;347:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>    348-&gt;348:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>    349-&gt;349:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    350-&gt;350:  <span style="background-color: white">                      checkNumberType(cssName, value);</span><br>      351-&gt;N:  <span style="background-color: white">      </span><br>    352-&gt;352:  <span style="background-color: white">                      if (value.getFloatValue() &lt; 1) {</span><br>    353-&gt;353:  <span style="background-color: white">                          throw new CSSParseException("colspan/rowspan must be greater than zero", -1);</span><br>      354-&gt;N:  <span style="background-color: white">                      }</span><br>      355-&gt;N:  <span style="background-color: white">                  }</span><br>      356-&gt;N:  <span style="background-color: white">      </span><br>    357-&gt;357:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    358-&gt;358:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      359-&gt;N:  <span style="background-color: white">              }</span><br>      360-&gt;N:  <span style="background-color: white">          }</span><br>      361-&gt;N:  <span style="background-color: white">      </span><br>    362-&gt;362:  <span style="background-color: white">          private static class PlainInteger extends AbstractPropertyBuilder {</span><br>    363-&gt;363:  <span style="background-color: cyan">              @Override</span><br>    364-&gt;364:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    365-&gt;365:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    366-&gt;366:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>    367-&gt;367:  <span style="background-color: cyan">                  PropertyValue value = values.get(0);</span><br>    368-&gt;368:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>    369-&gt;369:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    370-&gt;370:  <span style="background-color: cyan">                      checkInteger(cssName, value);</span><br>      371-&gt;N:  <span style="background-color: white">      </span><br>    372-&gt;372:  <span style="background-color: cyan">                      if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>    373-&gt;373:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>      374-&gt;N:  <span style="background-color: white">                      }</span><br>      375-&gt;N:  <span style="background-color: white">                  }</span><br>      376-&gt;N:  <span style="background-color: white">      </span><br>    377-&gt;377:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>    378-&gt;378:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      379-&gt;N:  <span style="background-color: white">      </span><br>      380-&gt;N:  <span style="background-color: white">              }</span><br>      381-&gt;N:  <span style="background-color: white">      </span><br>    382-&gt;382:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    383-&gt;383:  <span style="background-color: white">                  return true;</span><br>      384-&gt;N:  <span style="background-color: white">              }</span><br>      385-&gt;N:  <span style="background-color: white">          }</span><br>      386-&gt;N:  <span style="background-color: white">      </span><br>    387-&gt;387:  <span style="background-color: white">          private static class Length extends AbstractPropertyBuilder {</span><br>    388-&gt;388:  <span style="background-color: white">              @Override</span><br>    389-&gt;389:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    390-&gt;390:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    391-&gt;391:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>    392-&gt;392:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>    393-&gt;393:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>    394-&gt;394:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    395-&gt;395:  <span style="background-color: white">                      checkLengthType(cssName, value);</span><br>      396-&gt;N:  <span style="background-color: white">      </span><br>    397-&gt;397:  <span style="background-color: white">                      if (! isNegativeValuesAllowed() &amp;&amp; value.getFloatValue() &lt; 0.0f) {</span><br>    398-&gt;398:  <span style="background-color: white">                          throw new CSSParseException(cssName + " may not be negative", -1);</span><br>      399-&gt;N:  <span style="background-color: white">                      }</span><br>      400-&gt;N:  <span style="background-color: white">                  }</span><br>      401-&gt;N:  <span style="background-color: white">      </span><br>    402-&gt;402:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    403-&gt;403:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      404-&gt;N:  <span style="background-color: white">      </span><br>      405-&gt;N:  <span style="background-color: white">              }</span><br>      406-&gt;N:  <span style="background-color: white">      </span><br>    407-&gt;407:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    408-&gt;408:  <span style="background-color: white">                  return true;</span><br>      409-&gt;N:  <span style="background-color: white">              }</span><br>      410-&gt;N:  <span style="background-color: white">          }</span><br>      411-&gt;N:  <span style="background-color: white">      </span><br>      412-&gt;N:  <span style="background-color: white">          /*</span><br>      413-&gt;N:  <span style="background-color: white">          private static class SingleString extends AbstractPropertyBuilder {</span><br>      414-&gt;N:  <span style="background-color: white">              public List buildDeclarations(</span><br>      415-&gt;N:  <span style="background-color: white">                      CSSName cssName, List values, int origin, boolean important, boolean inheritAllowed) {</span><br>      416-&gt;N:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>      417-&gt;N:  <span style="background-color: white">                  CSSPrimitiveValue value = (CSSPrimitiveValue)values.get(0);</span><br>      418-&gt;N:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>      419-&gt;N:  <span style="background-color: white">                  if (value.getCssValueType() != CSSPrimitiveValue.CSS_INHERIT) {</span><br>      420-&gt;N:  <span style="background-color: white">                      checkStringType(cssName, value);</span><br>      421-&gt;N:  <span style="background-color: white">                  }</span><br>      422-&gt;N:  <span style="background-color: white">      </span><br>      423-&gt;N:  <span style="background-color: white">                  return Collections.singletonList(</span><br>      424-&gt;N:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      425-&gt;N:  <span style="background-color: white">      </span><br>      426-&gt;N:  <span style="background-color: white">              }</span><br>      427-&gt;N:  <span style="background-color: white">          }</span><br>      428-&gt;N:  <span style="background-color: white">          */</span><br>      429-&gt;N:  <span style="background-color: white">      </span><br>      430-&gt;N:  <span style="background-color: white">          /*</span><br>      431-&gt;N:  <span style="background-color: white">          private static abstract class SingleStringWithIdent extends AbstractPropertyBuilder {</span><br>      432-&gt;N:  <span style="background-color: white">              protected abstract BitSet getAllowed();</span><br>      433-&gt;N:  <span style="background-color: white">      </span><br>      434-&gt;N:  <span style="background-color: white">              public List buildDeclarations(</span><br>      435-&gt;N:  <span style="background-color: white">                      CSSName cssName, List values, int origin, boolean important, boolean inheritAllowed) {</span><br>      436-&gt;N:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>      437-&gt;N:  <span style="background-color: white">                  CSSPrimitiveValue value = (CSSPrimitiveValue)values.get(0);</span><br>      438-&gt;N:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>      439-&gt;N:  <span style="background-color: white">                  if (value.getCssValueType() != CSSPrimitiveValue.CSS_INHERIT) {</span><br>      440-&gt;N:  <span style="background-color: white">                      checkIdentOrString(cssName, value);</span><br>      441-&gt;N:  <span style="background-color: white">      </span><br>      442-&gt;N:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>      443-&gt;N:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>      444-&gt;N:  <span style="background-color: white">      </span><br>      445-&gt;N:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>      446-&gt;N:  <span style="background-color: white">                      }</span><br>      447-&gt;N:  <span style="background-color: white">                  }</span><br>      448-&gt;N:  <span style="background-color: white">      </span><br>      449-&gt;N:  <span style="background-color: white">                  return Collections.singletonList(</span><br>      450-&gt;N:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      451-&gt;N:  <span style="background-color: white">      </span><br>      452-&gt;N:  <span style="background-color: white">              }</span><br>      453-&gt;N:  <span style="background-color: white">          }</span><br>      454-&gt;N:  <span style="background-color: white">          */</span><br>      455-&gt;N:  <span style="background-color: white">      </span><br>      456-&gt;N:  <span style="background-color: white">          /*</span><br>      457-&gt;N:  <span style="background-color: white">          private static class SingleStringWithNone extends SingleStringWithIdent {</span><br>      458-&gt;N:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.NONE });</span><br>      459-&gt;N:  <span style="background-color: white">      </span><br>      460-&gt;N:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>      461-&gt;N:  <span style="background-color: white">                  return ALLOWED;</span><br>      462-&gt;N:  <span style="background-color: white">              }</span><br>      463-&gt;N:  <span style="background-color: white">          }</span><br>      464-&gt;N:  <span style="background-color: white">          */</span><br>      465-&gt;N:  <span style="background-color: white">      </span><br>    466-&gt;466:  <span style="background-color: white">          private static class LengthLikeWithAuto extends LengthLikeWithIdent {</span><br>      467-&gt;N:  <span style="background-color: white">              // 
       <length>
         | 
        <percentage>
          | auto | inherit
        </percentage>
       </length></span><br>    468-&gt;468:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      469-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO });</span><br>      470-&gt;N:  <span style="background-color: white">      </span><br>    471-&gt;471:  <span style="background-color: cyan">              @Override</span><br>    472-&gt;472:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    473-&gt;473:  <span style="background-color: cyan">                  return ALLOWED;</span><br>      474-&gt;N:  <span style="background-color: white">              }</span><br>      475-&gt;N:  <span style="background-color: white">          }</span><br>      476-&gt;N:  <span style="background-color: white">      </span><br>    477-&gt;477:  <span style="background-color: white">          private static class LengthWithNormal extends LengthWithIdent {</span><br>      478-&gt;N:  <span style="background-color: white">              // 
       <length>
         | normal | inherit
       </length></span><br>    479-&gt;479:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      480-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NORMAL });</span><br>      481-&gt;N:  <span style="background-color: white">      </span><br>    482-&gt;482:  <span style="background-color: white">              @Override</span><br>    483-&gt;483:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    484-&gt;484:  <span style="background-color: white">                  return ALLOWED;</span><br>      485-&gt;N:  <span style="background-color: white">              }</span><br>      486-&gt;N:  <span style="background-color: white">          }</span><br>      487-&gt;N:  <span style="background-color: white">      </span><br>    488-&gt;488:  <span style="background-color: white">          private static class LengthLikeWithNone extends LengthLikeWithIdent {</span><br>      489-&gt;N:  <span style="background-color: white">              // 
       <length>
         | 
        <percentage>
          | none | inherit
        </percentage>
       </length></span><br>    490-&gt;490:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      491-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NONE });</span><br>      492-&gt;N:  <span style="background-color: white">      </span><br>    493-&gt;493:  <span style="background-color: white">              @Override</span><br>    494-&gt;494:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    495-&gt;495:  <span style="background-color: white">                  return ALLOWED;</span><br>      496-&gt;N:  <span style="background-color: white">              }</span><br>      497-&gt;N:  <span style="background-color: white">          }</span><br>      498-&gt;N:  <span style="background-color: white">      </span><br>    499-&gt;499:  <span style="background-color: white">          static class GenericURIWithNone extends AbstractPropertyBuilder {</span><br>      500-&gt;N:  <span style="background-color: white">              // 
       <uri>
         | none | inherit
       </uri></span><br>    501-&gt;501:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.NONE });</span><br>      502-&gt;N:  <span style="background-color: white">      </span><br>    503-&gt;503:  <span style="background-color: white">              @Override</span><br>    504-&gt;504:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    505-&gt;505:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    506-&gt;506:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>    507-&gt;507:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>    508-&gt;508:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>    509-&gt;509:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    510-&gt;510:  <span style="background-color: white">                      checkIdentOrURIType(cssName, value);</span><br>      511-&gt;N:  <span style="background-color: white">      </span><br>    512-&gt;512:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>    513-&gt;513:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>    514-&gt;514:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>      515-&gt;N:  <span style="background-color: white">                      }</span><br>      516-&gt;N:  <span style="background-color: white">                  }</span><br>    517-&gt;517:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    518-&gt;518:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      519-&gt;N:  <span style="background-color: white">              }</span><br>      520-&gt;N:  <span style="background-color: white">          }</span><br>      521-&gt;N:  <span style="background-color: white">      </span><br>    522-&gt;522:  <span style="background-color: white">          public static class BorderCollapse extends SingleIdent {</span><br>      523-&gt;N:  <span style="background-color: white">              // collapse | separate | inherit</span><br>    524-&gt;524:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      525-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.COLLAPSE, IdentValue.SEPARATE });</span><br>      526-&gt;N:  <span style="background-color: white">      </span><br>    527-&gt;527:  <span style="background-color: cyan">              @Override</span><br>    528-&gt;528:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    529-&gt;529:  <span style="background-color: cyan">                  return ALLOWED;</span><br>      530-&gt;N:  <span style="background-color: white">              }</span><br>      531-&gt;N:  <span style="background-color: white">          }</span><br>      532-&gt;N:  <span style="background-color: white">      </span><br>    533-&gt;533:  <span style="background-color: white">          public static class BorderTopColor extends GenericColor {</span><br>      534-&gt;N:  <span style="background-color: white">          }</span><br>      535-&gt;N:  <span style="background-color: white">      </span><br>    536-&gt;536:  <span style="background-color: white">          public static class BorderRightColor extends GenericColor {</span><br>      537-&gt;N:  <span style="background-color: white">          }</span><br>      538-&gt;N:  <span style="background-color: white">      </span><br>    539-&gt;539:  <span style="background-color: white">          public static class BorderBottomColor extends GenericColor {</span><br>      540-&gt;N:  <span style="background-color: white">          }</span><br>      541-&gt;N:  <span style="background-color: white">      </span><br>    542-&gt;542:  <span style="background-color: white">          public static class BorderLeftColor extends GenericColor {</span><br>      543-&gt;N:  <span style="background-color: white">          }</span><br>      544-&gt;N:  <span style="background-color: white">      </span><br>    545-&gt;545:  <span style="background-color: white">          public static class BorderTopStyle extends GenericBorderStyle {</span><br>      546-&gt;N:  <span style="background-color: white">          }</span><br>      547-&gt;N:  <span style="background-color: white">      </span><br>    548-&gt;548:  <span style="background-color: white">          public static class BorderRightStyle extends GenericBorderStyle {</span><br>      549-&gt;N:  <span style="background-color: white">          }</span><br>      550-&gt;N:  <span style="background-color: white">      </span><br>    551-&gt;551:  <span style="background-color: white">          public static class BorderBottomStyle extends GenericBorderStyle {</span><br>      552-&gt;N:  <span style="background-color: white">          }</span><br>      553-&gt;N:  <span style="background-color: white">      </span><br>    554-&gt;554:  <span style="background-color: white">          public static class BorderLeftStyle extends GenericBorderStyle {</span><br>      555-&gt;N:  <span style="background-color: white">          }</span><br>      556-&gt;N:  <span style="background-color: white">      </span><br>    557-&gt;557:  <span style="background-color: white">          public static class BorderTopWidth extends GenericBorderWidth {</span><br>      558-&gt;N:  <span style="background-color: white">          }</span><br>      559-&gt;N:  <span style="background-color: white">      </span><br>    560-&gt;560:  <span style="background-color: white">          public static class BorderRightWidth extends GenericBorderWidth {</span><br>      561-&gt;N:  <span style="background-color: white">          }</span><br>      562-&gt;N:  <span style="background-color: white">      </span><br>    563-&gt;563:  <span style="background-color: white">          public static class BorderBottomWidth extends GenericBorderWidth {</span><br>      564-&gt;N:  <span style="background-color: white">          }</span><br>      565-&gt;N:  <span style="background-color: white">      </span><br>    566-&gt;566:  <span style="background-color: white">          public static class BorderLeftWidth extends GenericBorderWidth {</span><br>      567-&gt;N:  <span style="background-color: white">          }</span><br>      568-&gt;N:  <span style="background-color: white">          </span><br>    569-&gt;569:  <span style="background-color: white">          public static class BorderTopLeftRadius extends GenericBorderCornerRadius {</span><br>      570-&gt;N:  <span style="background-color: white">          }</span><br>      571-&gt;N:  <span style="background-color: white">          </span><br>    572-&gt;572:  <span style="background-color: white">          public static class BorderTopRightRadius extends GenericBorderCornerRadius {</span><br>      573-&gt;N:  <span style="background-color: white">          }</span><br>      574-&gt;N:  <span style="background-color: white">          </span><br>    575-&gt;575:  <span style="background-color: white">          public static class BorderBottomRightRadius extends GenericBorderCornerRadius {</span><br>      576-&gt;N:  <span style="background-color: white">          }</span><br>      577-&gt;N:  <span style="background-color: white">          </span><br>    578-&gt;578:  <span style="background-color: white">          public static class BorderBottomLeftRadius extends GenericBorderCornerRadius {</span><br>      579-&gt;N:  <span style="background-color: white">          }</span><br>      580-&gt;N:  <span style="background-color: white">      </span><br>    581-&gt;581:  <span style="background-color: white">          public static class Bottom extends LengthLikeWithAuto {</span><br>      582-&gt;N:  <span style="background-color: white">          }</span><br>      583-&gt;N:  <span style="background-color: white">      </span><br>    584-&gt;584:  <span style="background-color: white">          public static class CaptionSide extends SingleIdent {</span><br>      585-&gt;N:  <span style="background-color: white">              // top | bottom | inherit</span><br>    586-&gt;586:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      587-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.TOP, IdentValue.BOTTOM });</span><br>      588-&gt;N:  <span style="background-color: white">      </span><br>    589-&gt;589:  <span style="background-color: white">              @Override</span><br>    590-&gt;590:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    591-&gt;591:  <span style="background-color: white">                  return ALLOWED;</span><br>      592-&gt;N:  <span style="background-color: white">              }</span><br>      593-&gt;N:  <span style="background-color: white">          }</span><br>      594-&gt;N:  <span style="background-color: white">      </span><br>    595-&gt;595:  <span style="background-color: white">          public static class Clear extends SingleIdent {</span><br>      596-&gt;N:  <span style="background-color: white">              // none | left | right | both | inherit</span><br>    597-&gt;597:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      598-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NONE, IdentValue.LEFT, IdentValue.RIGHT, IdentValue.BOTH });</span><br>      599-&gt;N:  <span style="background-color: white">      </span><br>    600-&gt;600:  <span style="background-color: cyan">              @Override</span><br>    601-&gt;601:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    602-&gt;602:  <span style="background-color: cyan">                  return ALLOWED;</span><br>      603-&gt;N:  <span style="background-color: white">              }</span><br>      604-&gt;N:  <span style="background-color: white">          }</span><br>      605-&gt;N:  <span style="background-color: white">      </span><br>    606-&gt;606:  <span style="background-color: white">          public static class Color extends GenericColor {</span><br>      607-&gt;N:  <span style="background-color: white">          }</span><br>      608-&gt;N:  <span style="background-color: white">      </span><br>    609-&gt;609:  <span style="background-color: white">          public static class Cursor extends SingleIdent {</span><br>      610-&gt;N:  <span style="background-color: white">              // [ [
       <uri>
         ,]* [ auto | crosshair | default | pointer | move | e-resize
       </uri></span><br>      611-&gt;N:  <span style="background-color: white">              // | ne-resize | nw-resize | n-resize | se-resize | sw-resize | s-resize</span><br>      612-&gt;N:  <span style="background-color: white">              // | w-resize | text | wait | help | progress ] ] | inherit</span><br>    613-&gt;613:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      614-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>      615-&gt;N:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.CROSSHAIR,</span><br>      616-&gt;N:  <span style="background-color: white">                              IdentValue.DEFAULT, IdentValue.POINTER,</span><br>      617-&gt;N:  <span style="background-color: white">                              IdentValue.MOVE, IdentValue.E_RESIZE,</span><br>      618-&gt;N:  <span style="background-color: white">                              IdentValue.NE_RESIZE, IdentValue.NW_RESIZE,</span><br>      619-&gt;N:  <span style="background-color: white">                              IdentValue.N_RESIZE, IdentValue.SE_RESIZE,</span><br>      620-&gt;N:  <span style="background-color: white">                              IdentValue.SW_RESIZE, IdentValue.S_RESIZE,</span><br>      621-&gt;N:  <span style="background-color: white">                              IdentValue.W_RESIZE, IdentValue.TEXT,</span><br>      622-&gt;N:  <span style="background-color: white">                              IdentValue.WAIT, IdentValue.HELP,</span><br>      623-&gt;N:  <span style="background-color: white">                              IdentValue.PROGRESS});</span><br>      624-&gt;N:  <span style="background-color: white">      </span><br>    625-&gt;625:  <span style="background-color: white">              @Override</span><br>    626-&gt;626:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    627-&gt;627:  <span style="background-color: white">                  return ALLOWED;</span><br>      628-&gt;N:  <span style="background-color: white">              }</span><br>      629-&gt;N:  <span style="background-color: white">          }</span><br>      630-&gt;N:  <span style="background-color: white">      </span><br>    631-&gt;631:  <span style="background-color: white">          public static class Display extends SingleIdent {</span><br>      632-&gt;N:  <span style="background-color: white">              // inline | block | list-item | run-in | inline-block | table | inline-table</span><br>      633-&gt;N:  <span style="background-color: white">              // | table-row-group | table-header-group</span><br>      634-&gt;N:  <span style="background-color: white">              // | table-footer-group | table-row | table-column-group | table-column</span><br>      635-&gt;N:  <span style="background-color: white">              // | table-cell | table-caption | none | inherit</span><br>    636-&gt;636:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      637-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>      638-&gt;N:  <span style="background-color: white">                              IdentValue.INLINE, IdentValue.BLOCK,</span><br>      639-&gt;N:  <span style="background-color: white">                              IdentValue.LIST_ITEM, /* IdentValue.RUN_IN, */</span><br>      640-&gt;N:  <span style="background-color: white">                              IdentValue.INLINE_BLOCK, IdentValue.TABLE,</span><br>      641-&gt;N:  <span style="background-color: white">                              IdentValue.INLINE_TABLE, IdentValue.TABLE_ROW_GROUP,</span><br>      642-&gt;N:  <span style="background-color: white">                              IdentValue.TABLE_HEADER_GROUP, IdentValue.TABLE_FOOTER_GROUP,</span><br>      643-&gt;N:  <span style="background-color: white">                              IdentValue.TABLE_ROW, IdentValue.TABLE_COLUMN_GROUP,</span><br>      644-&gt;N:  <span style="background-color: white">                              IdentValue.TABLE_COLUMN, IdentValue.TABLE_CELL,</span><br>      645-&gt;N:  <span style="background-color: white">                              IdentValue.TABLE_CAPTION, IdentValue.NONE });</span><br>      646-&gt;N:  <span style="background-color: white">      </span><br>    647-&gt;647:  <span style="background-color: cyan">              @Override</span><br>    648-&gt;648:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    649-&gt;649:  <span style="background-color: cyan">                  return ALLOWED;</span><br>      650-&gt;N:  <span style="background-color: white">              }</span><br>      651-&gt;N:  <span style="background-color: white">          }</span><br>      652-&gt;N:  <span style="background-color: white">      </span><br>    653-&gt;653:  <span style="background-color: white">          public static class EmptyCells extends SingleIdent {</span><br>      654-&gt;N:  <span style="background-color: white">              // show | hide | inherit</span><br>    655-&gt;655:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      656-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.SHOW, IdentValue.HIDE });</span><br>      657-&gt;N:  <span style="background-color: white">      </span><br>    658-&gt;658:  <span style="background-color: white">              @Override</span><br>    659-&gt;659:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    660-&gt;660:  <span style="background-color: white">                  return ALLOWED;</span><br>      661-&gt;N:  <span style="background-color: white">              }</span><br>      662-&gt;N:  <span style="background-color: white">          }</span><br>      663-&gt;N:  <span style="background-color: white">      </span><br>    664-&gt;664:  <span style="background-color: white">          public static class Float extends SingleIdent {</span><br>      665-&gt;N:  <span style="background-color: white">              // left | right | none | inherit</span><br>      666-&gt;N:  <span style="background-color: white">              // bottom | footnote</span><br>    667-&gt;666:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      668-&gt;N:  <span style="background-color: white">                new IdentValue[] {</span><br>      669-&gt;N:  <span style="background-color: white">                  IdentValue.LEFT, IdentValue.RIGHT, IdentValue.NONE,</span><br>      670-&gt;U:  <span style="background-color: yellow">                  IdentValue.BOTTOM, IdentValue.FOOTNOTE });</span><br>      671-&gt;N:  <span style="background-color: white">      </span><br>    672-&gt;669:  <span style="background-color: cyan">              @Override</span><br>    673-&gt;670:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    674-&gt;671:  <span style="background-color: cyan">                  return ALLOWED;</span><br>      675-&gt;N:  <span style="background-color: white">              }</span><br>      676-&gt;N:  <span style="background-color: white">          }</span><br>      677-&gt;N:  <span style="background-color: white">      </span><br>    678-&gt;675:  <span style="background-color: white">          public static class FontFamily extends AbstractPropertyBuilder {</span><br>      679-&gt;N:  <span style="background-color: white">              // [[ 
       <family-name>
         | 
        <generic-family>
          ] [, 
         <family-name>
          | 
          <generic-family>
           ]* ] | inherit
          </generic-family>
         </family-name>
        </generic-family>
       </family-name></span><br>      680-&gt;N:  <span style="background-color: white">      </span><br>    681-&gt;678:  <span style="background-color: cyan">              @Override</span><br>    682-&gt;679:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    683-&gt;680:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    684-&gt;681:  <span style="background-color: cyan">                  if (values.size() == 1) {</span><br>    685-&gt;682:  <span style="background-color: cyan">                      CSSPrimitiveValue value = values.get(0);</span><br>    686-&gt;683:  <span style="background-color: cyan">                      checkInheritAllowed(value, inheritAllowed);</span><br>    687-&gt;684:  <span style="background-color: cyan">                      if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>    688-&gt;685:  <span style="background-color: white">                          return Collections.singletonList(</span><br>    689-&gt;686:  <span style="background-color: white">                                  new PropertyDeclaration(cssName, value, important, origin));</span><br>      690-&gt;N:  <span style="background-color: white">                      }</span><br>      691-&gt;N:  <span style="background-color: white">                  }</span><br>      692-&gt;N:  <span style="background-color: white">      </span><br>      693-&gt;N:  <span style="background-color: white">                  // Both Opera and Firefox parse "Century Gothic" Arial sans-serif as</span><br>      694-&gt;N:  <span style="background-color: white">                  // [Century Gothic], [Arial sans-serif] (i.e. the comma is assumed</span><br>      695-&gt;N:  <span style="background-color: white">                  // after a string).  Seems wrong per the spec, but FF (at least)</span><br>      696-&gt;N:  <span style="background-color: white">                  // does it in standards mode so we do too.</span><br>    697-&gt;694:  <span style="background-color: cyan">                  List
       <string>
         consecutiveIdents = new ArrayList&lt;&gt;();
       </string></span><br>    698-&gt;695:  <span style="background-color: cyan">                  List
       <string>
         normalized = new ArrayList&lt;&gt;(values.size());
       </string></span><br>    699-&gt;696:  <span style="background-color: cyan">                  for (Iterator
       <propertyvalue>
         i = values.iterator(); i.hasNext(); ) {
       </propertyvalue></span><br>    700-&gt;697:  <span style="background-color: cyan">                      PropertyValue value = i.next();</span><br>      701-&gt;N:  <span style="background-color: white">      </span><br>    702-&gt;699:  <span style="background-color: cyan">                      Token operator = value.getOperator();</span><br>    703-&gt;700:  <span style="background-color: cyan">                      if (operator != null &amp;&amp; operator != Token.TK_COMMA) {</span><br>    704-&gt;701:  <span style="background-color: white">                          throw new CSSParseException("Invalid font-family definition", -1);</span><br>      705-&gt;N:  <span style="background-color: white">                      }</span><br>      706-&gt;N:  <span style="background-color: white">      </span><br>    707-&gt;704:  <span style="background-color: cyan">                      if (operator != null) {</span><br>    708-&gt;705:  <span style="background-color: white">                          if (consecutiveIdents.size() &gt; 0) {</span><br>    709-&gt;706:  <span style="background-color: white">                              normalized.add(concat(consecutiveIdents, ' '));</span><br>    710-&gt;707:  <span style="background-color: white">                              consecutiveIdents.clear();</span><br>      711-&gt;N:  <span style="background-color: white">                          }</span><br>      712-&gt;N:  <span style="background-color: white">                      }</span><br>      713-&gt;N:  <span style="background-color: white">      </span><br>    714-&gt;711:  <span style="background-color: cyan">                      checkInheritAllowed(value, false);</span><br>    715-&gt;712:  <span style="background-color: cyan">                      short type = value.getPrimitiveType();</span><br>    716-&gt;713:  <span style="background-color: cyan">                      if (type == CSSPrimitiveValue.CSS_STRING) {</span><br>    717-&gt;714:  <span style="background-color: white">                          if (consecutiveIdents.size() &gt; 0) {</span><br>    718-&gt;715:  <span style="background-color: white">                              normalized.add(concat(consecutiveIdents, ' '));</span><br>    719-&gt;716:  <span style="background-color: white">                              consecutiveIdents.clear();</span><br>      720-&gt;N:  <span style="background-color: white">                          }</span><br>    721-&gt;718:  <span style="background-color: white">                          normalized.add(value.getStringValue());</span><br>    722-&gt;719:  <span style="background-color: cyan">                      } else if (type == CSSPrimitiveValue.CSS_IDENT) {</span><br>    723-&gt;720:  <span style="background-color: cyan">                          consecutiveIdents.add(value.getStringValue());</span><br>      724-&gt;N:  <span style="background-color: white">                      } else {</span><br>    725-&gt;722:  <span style="background-color: white">                          throw new CSSParseException("Invalid font-family definition", -1);</span><br>      726-&gt;N:  <span style="background-color: white">                      }</span><br>      727-&gt;N:  <span style="background-color: white">                  }</span><br>    728-&gt;725:  <span style="background-color: cyan">                  if (consecutiveIdents.size() &gt; 0) {</span><br>    729-&gt;726:  <span style="background-color: cyan">                      normalized.add(concat(consecutiveIdents, ' '));</span><br>      730-&gt;N:  <span style="background-color: white">                  }</span><br>      731-&gt;N:  <span style="background-color: white">      </span><br>    732-&gt;729:  <span style="background-color: cyan">                  String text = concat(normalized, ',');</span><br>    733-&gt;730:  <span style="background-color: cyan">                  PropertyValue result = new PropertyValue(</span><br>    734-&gt;731:  <span style="background-color: white">                          CSSPrimitiveValue.CSS_STRING, text, text);  // HACK cssText can be wrong</span><br>    735-&gt;732:  <span style="background-color: cyan">                  result.setStringArrayValue(normalized.toArray(new String[normalized.size()]));</span><br>      736-&gt;N:  <span style="background-color: white">      </span><br>    737-&gt;734:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>    738-&gt;735:  <span style="background-color: white">                          new PropertyDeclaration(cssName, result, important, origin));</span><br>      739-&gt;N:  <span style="background-color: white">              }</span><br>      740-&gt;N:  <span style="background-color: white">      </span><br>    741-&gt;738:  <span style="background-color: cyan">              private String concat(List
       <string>
         strings, char separator) {
       </string></span><br>    742-&gt;739:  <span style="background-color: cyan">                  StringBuilder buf = new StringBuilder(64);</span><br>    743-&gt;740:  <span style="background-color: cyan">                  for (Iterator
       <string>
         i = strings.iterator(); i.hasNext(); ) {
       </string></span><br>    744-&gt;741:  <span style="background-color: cyan">                      String s = i.next();</span><br>    745-&gt;742:  <span style="background-color: cyan">                      buf.append(s);</span><br>    746-&gt;743:  <span style="background-color: cyan">                      if (i.hasNext()) {</span><br>    747-&gt;744:  <span style="background-color: white">                          buf.append(separator);</span><br>      748-&gt;N:  <span style="background-color: white">                      }</span><br>      749-&gt;N:  <span style="background-color: white">                  }</span><br>    750-&gt;747:  <span style="background-color: cyan">                  return buf.toString();</span><br>      751-&gt;N:  <span style="background-color: white">              }</span><br>      752-&gt;N:  <span style="background-color: white">          }</span><br>      753-&gt;N:  <span style="background-color: white">      </span><br>    754-&gt;751:  <span style="background-color: white">          public static class FontSize extends AbstractPropertyBuilder {</span><br>      755-&gt;N:  <span style="background-color: white">              // 
       <absolute-size>
         | 
        <relative-size>
          | 
         <length>
           | 
          <percentage>
            | inherit
          </percentage>
         </length>
        </relative-size>
       </absolute-size></span><br>    756-&gt;753:  <span style="background-color: white">              private static final BitSet ALLOWED;</span><br>      757-&gt;N:  <span style="background-color: white">      </span><br>      758-&gt;N:  <span style="background-color: white">              static {</span><br>    759-&gt;756:  <span style="background-color: white">                  ALLOWED = new BitSet(IdentValue.getIdentCount());</span><br>    760-&gt;757:  <span style="background-color: white">                  ALLOWED.or(ABSOLUTE_FONT_SIZES);</span><br>    761-&gt;758:  <span style="background-color: white">                  ALLOWED.or(RELATIVE_FONT_SIZES);</span><br>      762-&gt;N:  <span style="background-color: white">              }</span><br>      763-&gt;N:  <span style="background-color: white">      </span><br>    764-&gt;761:  <span style="background-color: cyan">              @Override</span><br>    765-&gt;762:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    766-&gt;763:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    767-&gt;764:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>    768-&gt;765:  <span style="background-color: cyan">                  PropertyValue value = values.get(0);</span><br>    769-&gt;766:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>    770-&gt;767:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    771-&gt;768:  <span style="background-color: cyan">                      checkIdentLengthOrPercentType(cssName, value);</span><br>      772-&gt;N:  <span style="background-color: white">      </span><br>    773-&gt;770:  <span style="background-color: cyan">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>    774-&gt;771:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>    775-&gt;772:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>    776-&gt;773:  <span style="background-color: cyan">                      } else if (value.getFloatValue() &lt; 0.0f) {</span><br>    777-&gt;774:  <span style="background-color: white">                          throw new CSSParseException("font-size may not be negative", -1);</span><br>      778-&gt;N:  <span style="background-color: white">                      }</span><br>      779-&gt;N:  <span style="background-color: white">                  }</span><br>      780-&gt;N:  <span style="background-color: white">      </span><br>    781-&gt;778:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>    782-&gt;779:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      783-&gt;N:  <span style="background-color: white">      </span><br>      784-&gt;N:  <span style="background-color: white">              }</span><br>      785-&gt;N:  <span style="background-color: white">          }</span><br>      786-&gt;N:  <span style="background-color: white">      </span><br>    787-&gt;784:  <span style="background-color: white">          public static class FontStyle extends SingleIdent {</span><br>    788-&gt;785:  <span style="background-color: white">              @Override</span><br>    789-&gt;786:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    790-&gt;787:  <span style="background-color: white">                  return FONT_STYLES;</span><br>      791-&gt;N:  <span style="background-color: white">              }</span><br>      792-&gt;N:  <span style="background-color: white">          }</span><br>      793-&gt;N:  <span style="background-color: white">      </span><br>    794-&gt;791:  <span style="background-color: white">          public static class FontVariant extends SingleIdent {</span><br>    795-&gt;792:  <span style="background-color: white">              @Override</span><br>    796-&gt;793:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    797-&gt;794:  <span style="background-color: white">                  return FONT_VARIANTS;</span><br>      798-&gt;N:  <span style="background-color: white">              }</span><br>      799-&gt;N:  <span style="background-color: white">          }</span><br>      800-&gt;N:  <span style="background-color: white">      </span><br>    801-&gt;798:  <span style="background-color: white">          public static class FontWeight extends AbstractPropertyBuilder {</span><br>      802-&gt;N:  <span style="background-color: white">              // normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit</span><br>    803-&gt;800:  <span style="background-color: white">              @Override</span><br>    804-&gt;801:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    805-&gt;802:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    806-&gt;803:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>    807-&gt;804:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>    808-&gt;805:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>    809-&gt;806:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    810-&gt;807:  <span style="background-color: white">                      checkIdentOrNumberType(cssName, value);</span><br>      811-&gt;N:  <span style="background-color: white">      </span><br>    812-&gt;809:  <span style="background-color: white">                      short type = value.getPrimitiveType();</span><br>    813-&gt;810:  <span style="background-color: white">                      if (type == CSSPrimitiveValue.CSS_IDENT) {</span><br>    814-&gt;811:  <span style="background-color: white">                          checkIdentType(cssName, value);</span><br>    815-&gt;812:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>      816-&gt;N:  <span style="background-color: white">      </span><br>    817-&gt;814:  <span style="background-color: white">                          checkValidity(cssName, getAllowed(), ident);</span><br>    818-&gt;815:  <span style="background-color: white">                      } else if (type == CSSPrimitiveValue.CSS_NUMBER) {</span><br>    819-&gt;816:  <span style="background-color: white">                          IdentValue weight = Conversions.getNumericFontWeight(value.getFloatValue());</span><br>    820-&gt;817:  <span style="background-color: white">                          if (weight == null) {</span><br>    821-&gt;818:  <span style="background-color: white">                              throw new CSSParseException(value + " is not a valid font weight", -1);</span><br>      822-&gt;N:  <span style="background-color: white">                          }</span><br>      823-&gt;N:  <span style="background-color: white">      </span><br>    824-&gt;821:  <span style="background-color: white">                          PropertyValue replacement = new PropertyValue(</span><br>    825-&gt;822:  <span style="background-color: white">                                  CSSPrimitiveValue.CSS_IDENT, weight.toString(), weight.toString());</span><br>    826-&gt;823:  <span style="background-color: white">                          replacement.setIdentValue(weight);</span><br>    827-&gt;824:  <span style="background-color: white">                          return Collections.singletonList(</span><br>    828-&gt;825:  <span style="background-color: white">                                  new PropertyDeclaration(cssName, replacement, important, origin));</span><br>      829-&gt;N:  <span style="background-color: white">      </span><br>      830-&gt;N:  <span style="background-color: white">                      }</span><br>      831-&gt;N:  <span style="background-color: white">                  }</span><br>      832-&gt;N:  <span style="background-color: white">      </span><br>    833-&gt;830:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    834-&gt;831:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      835-&gt;N:  <span style="background-color: white">              }</span><br>      836-&gt;N:  <span style="background-color: white">      </span><br>    837-&gt;834:  <span style="background-color: white">              private BitSet getAllowed() {</span><br>    838-&gt;835:  <span style="background-color: white">                  return FONT_WEIGHTS;</span><br>      839-&gt;N:  <span style="background-color: white">              }</span><br>      840-&gt;N:  <span style="background-color: white">          }</span><br>      841-&gt;N:  <span style="background-color: white">      </span><br>    842-&gt;839:  <span style="background-color: white">          public static class FSBorderSpacingHorizontal extends Length {</span><br>      843-&gt;N:  <span style="background-color: white">          }</span><br>      844-&gt;N:  <span style="background-color: white">      </span><br>    845-&gt;842:  <span style="background-color: white">          public static class FSBorderSpacingVertical extends Length {</span><br>      846-&gt;N:  <span style="background-color: white">          }</span><br>      847-&gt;N:  <span style="background-color: white">      </span><br>    848-&gt;845:  <span style="background-color: white">          public static class FSFontSubset extends SingleIdent {</span><br>    849-&gt;846:  <span style="background-color: white">      		@Override</span><br>    850-&gt;847:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>    851-&gt;848:  <span style="background-color: white">      			return FONT_SUBSETS;</span><br>      852-&gt;N:  <span style="background-color: white">      		}</span><br>      853-&gt;N:  <span style="background-color: white">          }</span><br>      854-&gt;N:  <span style="background-color: white">      </span><br>    855-&gt;852:  <span style="background-color: white">          public static class FSCheckboxStyle extends SingleIdent {</span><br>    856-&gt;853:  <span style="background-color: white">      		@Override</span><br>    857-&gt;854:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>    858-&gt;855:  <span style="background-color: white">      			return CHECKBOX_STYLES;</span><br>      859-&gt;N:  <span style="background-color: white">      		}</span><br>      860-&gt;N:  <span style="background-color: white">          }</span><br>      861-&gt;N:  <span style="background-color: white">          </span><br>    862-&gt;859:  <span style="background-color: white">          public static class FSPageHeight extends LengthLikeWithAuto {</span><br>    863-&gt;860:  <span style="background-color: white">              @Override</span><br>    864-&gt;861:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    865-&gt;862:  <span style="background-color: white">                  return false;</span><br>      866-&gt;N:  <span style="background-color: white">              }</span><br>      867-&gt;N:  <span style="background-color: white">          }</span><br>      868-&gt;N:  <span style="background-color: white">      </span><br>    869-&gt;866:  <span style="background-color: white">          public static class FSPageWidth extends LengthLikeWithAuto {</span><br>    870-&gt;867:  <span style="background-color: white">              @Override</span><br>    871-&gt;868:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    872-&gt;869:  <span style="background-color: white">                  return false;</span><br>      873-&gt;N:  <span style="background-color: white">              }</span><br>      874-&gt;N:  <span style="background-color: white">          }</span><br>      875-&gt;N:  <span style="background-color: white">      </span><br>    876-&gt;873:  <span style="background-color: white">          public static class FSPageSequence extends SingleIdent {</span><br>      877-&gt;N:  <span style="background-color: white">              // start | auto</span><br>    878-&gt;875:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      879-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.START, IdentValue.AUTO });</span><br>      880-&gt;N:  <span style="background-color: white">      </span><br>    881-&gt;878:  <span style="background-color: white">              @Override</span><br>    882-&gt;879:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    883-&gt;880:  <span style="background-color: white">                  return ALLOWED;</span><br>      884-&gt;N:  <span style="background-color: white">              }</span><br>      885-&gt;N:  <span style="background-color: white">          }</span><br>      886-&gt;N:  <span style="background-color: white">      </span><br>    887-&gt;884:  <span style="background-color: white">          public static class FSPageOrientation extends SingleIdent {</span><br>    888-&gt;885:  <span style="background-color: white">              @Override</span><br>    889-&gt;886:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    890-&gt;887:  <span style="background-color: white">                  return PAGE_ORIENTATIONS;</span><br>      891-&gt;N:  <span style="background-color: white">              }</span><br>      892-&gt;N:  <span style="background-color: white">          }</span><br>      893-&gt;N:  <span style="background-color: white">      </span><br>    894-&gt;891:  <span style="background-color: white">          public static class FSPDFFontEmbed extends SingleIdent {</span><br>      895-&gt;N:  <span style="background-color: white">              // auto | embed</span><br>    896-&gt;893:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      897-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.EMBED });</span><br>      898-&gt;N:  <span style="background-color: white">      </span><br>    899-&gt;896:  <span style="background-color: white">              @Override</span><br>    900-&gt;897:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    901-&gt;898:  <span style="background-color: white">                  return ALLOWED;</span><br>      902-&gt;N:  <span style="background-color: white">              }</span><br>      903-&gt;N:  <span style="background-color: white">          }</span><br>      904-&gt;N:  <span style="background-color: white">      </span><br>    905-&gt;902:  <span style="background-color: white">          public static class FSPDFFontEncoding extends AbstractPropertyBuilder {</span><br>    906-&gt;903:  <span style="background-color: white">              @Override</span><br>    907-&gt;904:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>    908-&gt;905:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>    909-&gt;906:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>    910-&gt;907:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>    911-&gt;908:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>    912-&gt;909:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>    913-&gt;910:  <span style="background-color: white">                      checkIdentOrString(cssName, value);</span><br>      914-&gt;N:  <span style="background-color: white">      </span><br>    915-&gt;912:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>      916-&gt;N:  <span style="background-color: white">                          // Convert to string</span><br>    917-&gt;914:  <span style="background-color: white">                          return Collections.singletonList(</span><br>      918-&gt;N:  <span style="background-color: white">                                  new PropertyDeclaration(</span><br>    919-&gt;916:  <span style="background-color: white">                                          cssName,</span><br>      920-&gt;N:  <span style="background-color: white">                                          new PropertyValue(</span><br>      921-&gt;N:  <span style="background-color: white">                                                  CSSPrimitiveValue.CSS_STRING,</span><br>    922-&gt;919:  <span style="background-color: white">                                                  value.getStringValue(),</span><br>    923-&gt;920:  <span style="background-color: white">                                                  value.getCssText()),</span><br>    924-&gt;921:  <span style="background-color: white">                                          important,</span><br>    925-&gt;922:  <span style="background-color: white">                                          origin));</span><br>      926-&gt;N:  <span style="background-color: white">                      }</span><br>      927-&gt;N:  <span style="background-color: white">                  }</span><br>      928-&gt;N:  <span style="background-color: white">      </span><br>    929-&gt;926:  <span style="background-color: white">                  return Collections.singletonList(</span><br>    930-&gt;927:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>      931-&gt;N:  <span style="background-color: white">              }</span><br>      932-&gt;N:  <span style="background-color: white">          }</span><br>      933-&gt;N:  <span style="background-color: white">      </span><br>    934-&gt;931:  <span style="background-color: white">          public static class FSTableCellColspan extends ColOrRowSpan {</span><br>      935-&gt;N:  <span style="background-color: white">          }</span><br>      936-&gt;N:  <span style="background-color: white">      </span><br>    937-&gt;934:  <span style="background-color: white">          public static class FSTableCellRowspan extends ColOrRowSpan {</span><br>      938-&gt;N:  <span style="background-color: white">          }</span><br>      939-&gt;N:  <span style="background-color: white">      </span><br>    940-&gt;937:  <span style="background-color: white">          public static class FSTablePaginate extends SingleIdent {</span><br>    941-&gt;938:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      942-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.PAGINATE, IdentValue.AUTO });</span><br>      943-&gt;N:  <span style="background-color: white">      </span><br>    944-&gt;941:  <span style="background-color: cyan">              @Override</span><br>    945-&gt;942:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    946-&gt;943:  <span style="background-color: cyan">                  return ALLOWED;</span><br>      947-&gt;N:  <span style="background-color: white">              }</span><br>      948-&gt;N:  <span style="background-color: white">           }</span><br>      949-&gt;N:  <span style="background-color: white">      </span><br>    950-&gt;947:  <span style="background-color: white">          public static class FSTextDecorationExtent extends SingleIdent {</span><br>    951-&gt;948:  <span style="background-color: white">             private static final BitSet ALLOWED = setFor(</span><br>      952-&gt;N:  <span style="background-color: white">                     new IdentValue[] { IdentValue.LINE, IdentValue.BLOCK });</span><br>      953-&gt;N:  <span style="background-color: white">      </span><br>    954-&gt;951:  <span style="background-color: white">             @Override</span><br>    955-&gt;952:  <span style="background-color: white">          protected BitSet getAllowed() {</span><br>    956-&gt;953:  <span style="background-color: white">                 return ALLOWED;</span><br>      957-&gt;N:  <span style="background-color: white">             }</span><br>      958-&gt;N:  <span style="background-color: white">          }</span><br>      959-&gt;N:  <span style="background-color: white">      </span><br>    960-&gt;957:  <span style="background-color: white">          public static class FSFitImagesToWidth extends LengthLikeWithAuto {</span><br>    961-&gt;958:  <span style="background-color: white">              @Override</span><br>    962-&gt;959:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    963-&gt;960:  <span style="background-color: white">                  return false;</span><br>      964-&gt;N:  <span style="background-color: white">              }</span><br>      965-&gt;N:  <span style="background-color: white">           }</span><br>      966-&gt;N:  <span style="background-color: white">      </span><br>    967-&gt;964:  <span style="background-color: white">          public static class Height extends LengthLikeWithAuto {</span><br>    968-&gt;965:  <span style="background-color: cyan">              @Override</span><br>    969-&gt;966:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>    970-&gt;967:  <span style="background-color: cyan">                  return false;</span><br>      971-&gt;N:  <span style="background-color: white">              }</span><br>      972-&gt;N:  <span style="background-color: white">          }</span><br>      973-&gt;N:  <span style="background-color: white">      </span><br>    974-&gt;971:  <span style="background-color: white">          public static class FSDynamicAutoWidth extends SingleIdent {</span><br>    975-&gt;972:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      976-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.DYNAMIC, IdentValue.STATIC });</span><br>      977-&gt;N:  <span style="background-color: white">      </span><br>    978-&gt;975:  <span style="background-color: white">              @Override</span><br>    979-&gt;976:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    980-&gt;977:  <span style="background-color: white">                  return ALLOWED;</span><br>      981-&gt;N:  <span style="background-color: white">              }</span><br>      982-&gt;N:  <span style="background-color: white">          }</span><br>      983-&gt;N:  <span style="background-color: white">      </span><br>    984-&gt;981:  <span style="background-color: white">          public static class FSKeepWithInline extends SingleIdent {</span><br>      985-&gt;N:  <span style="background-color: white">              // auto | keep</span><br>    986-&gt;983:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      987-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.KEEP });</span><br>      988-&gt;N:  <span style="background-color: white">      </span><br>    989-&gt;986:  <span style="background-color: white">              @Override</span><br>    990-&gt;987:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>    991-&gt;988:  <span style="background-color: white">                  return ALLOWED;</span><br>      992-&gt;N:  <span style="background-color: white">              }</span><br>      993-&gt;N:  <span style="background-color: white">          }</span><br>      994-&gt;N:  <span style="background-color: white">      </span><br>    995-&gt;992:  <span style="background-color: white">          public static class FSNamedDestination extends SingleIdent {</span><br>      996-&gt;N:  <span style="background-color: white">              // none | create</span><br>    997-&gt;994:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>      998-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NONE, IdentValue.CREATE });</span><br>      999-&gt;N:  <span style="background-color: white">      </span><br>   1000-&gt;997:  <span style="background-color: white">              @Override</span><br>   1001-&gt;998:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>   1002-&gt;999:  <span style="background-color: white">                  return ALLOWED;</span><br>     1003-&gt;N:  <span style="background-color: white">              }</span><br>     1004-&gt;N:  <span style="background-color: white">          }</span><br>     1005-&gt;N:  <span style="background-color: white">      </span><br>  1006-&gt;1003:  <span style="background-color: white">          public static class Left extends LengthLikeWithAuto {</span><br>     1007-&gt;N:  <span style="background-color: white">          }</span><br>     1008-&gt;N:  <span style="background-color: white">      </span><br>  1009-&gt;1006:  <span style="background-color: white">          public static class LetterSpacing extends LengthWithNormal {</span><br>     1010-&gt;N:  <span style="background-color: white">          }</span><br>     1011-&gt;N:  <span style="background-color: white">      </span><br>  1012-&gt;1009:  <span style="background-color: white">          public static class LineHeight extends AbstractPropertyBuilder {</span><br>     1013-&gt;N:  <span style="background-color: white">              // normal | 
       <number>
         | 
        <length>
          | 
         <percentage>
           | inherit
         </percentage>
        </length>
       </number></span><br>  1014-&gt;1011:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1015-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.NORMAL });</span><br>     1016-&gt;N:  <span style="background-color: white">      </span><br>  1017-&gt;1014:  <span style="background-color: white">              @Override</span><br>  1018-&gt;1015:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>  1019-&gt;1016:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>  1020-&gt;1017:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>  1021-&gt;1018:  <span style="background-color: white">                  PropertyValue value = values.get(0);</span><br>  1022-&gt;1019:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>  1023-&gt;1020:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>  1024-&gt;1021:  <span style="background-color: white">                      checkIdentLengthNumberOrPercentType(cssName, value);</span><br>     1025-&gt;N:  <span style="background-color: white">      </span><br>  1026-&gt;1023:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>  1027-&gt;1024:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>  1028-&gt;1025:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>  1029-&gt;1026:  <span style="background-color: white">                      } else if (value.getFloatValue() &lt; 0.0) {</span><br>  1030-&gt;1027:  <span style="background-color: white">                          throw new CSSParseException("line-height may not be negative", -1);</span><br>     1031-&gt;N:  <span style="background-color: white">                      }</span><br>     1032-&gt;N:  <span style="background-color: white">                  }</span><br>  1033-&gt;1030:  <span style="background-color: white">                  return Collections.singletonList(</span><br>  1034-&gt;1031:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>     1035-&gt;N:  <span style="background-color: white">              }</span><br>     1036-&gt;N:  <span style="background-color: white">          }</span><br>     1037-&gt;N:  <span style="background-color: white">      </span><br>  1038-&gt;1035:  <span style="background-color: white">          public static class ListStyleImage extends GenericURIWithNone {</span><br>     1039-&gt;N:  <span style="background-color: white">          }</span><br>     1040-&gt;N:  <span style="background-color: white">      </span><br>  1041-&gt;1038:  <span style="background-color: white">          public static class ListStylePosition extends SingleIdent {</span><br>  1042-&gt;1039:  <span style="background-color: white">              @Override</span><br>  1043-&gt;1040:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1044-&gt;1041:  <span style="background-color: white">                  return LIST_STYLE_POSITIONS;</span><br>     1045-&gt;N:  <span style="background-color: white">              }</span><br>     1046-&gt;N:  <span style="background-color: white">          }</span><br>     1047-&gt;N:  <span style="background-color: white">      </span><br>  1048-&gt;1045:  <span style="background-color: white">          public static class ListStyleType extends SingleIdent {</span><br>  1049-&gt;1046:  <span style="background-color: white">              @Override</span><br>  1050-&gt;1047:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1051-&gt;1048:  <span style="background-color: white">                  return LIST_STYLE_TYPES;</span><br>     1052-&gt;N:  <span style="background-color: white">              }</span><br>     1053-&gt;N:  <span style="background-color: white">          }</span><br>     1054-&gt;N:  <span style="background-color: white">      </span><br>  1055-&gt;1052:  <span style="background-color: white">          public static class MarginTop extends LengthLikeWithAuto {</span><br>     1056-&gt;N:  <span style="background-color: white">          }</span><br>     1057-&gt;N:  <span style="background-color: white">      </span><br>  1058-&gt;1055:  <span style="background-color: white">          public static class MarginRight extends LengthLikeWithAuto {</span><br>     1059-&gt;N:  <span style="background-color: white">          }</span><br>     1060-&gt;N:  <span style="background-color: white">      </span><br>  1061-&gt;1058:  <span style="background-color: white">          public static class MarginBottom extends LengthLikeWithAuto {</span><br>     1062-&gt;N:  <span style="background-color: white">          }</span><br>     1063-&gt;N:  <span style="background-color: white">      </span><br>  1064-&gt;1061:  <span style="background-color: white">          public static class MarginLeft extends LengthLikeWithAuto {</span><br>     1065-&gt;N:  <span style="background-color: white">          }</span><br>     1066-&gt;N:  <span style="background-color: white">      </span><br>  1067-&gt;1064:  <span style="background-color: white">          public static class MaxHeight extends LengthLikeWithNone {</span><br>  1068-&gt;1065:  <span style="background-color: cyan">              @Override</span><br>  1069-&gt;1066:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>  1070-&gt;1067:  <span style="background-color: cyan">                  return false;</span><br>     1071-&gt;N:  <span style="background-color: white">              }</span><br>     1072-&gt;N:  <span style="background-color: white">          }</span><br>     1073-&gt;N:  <span style="background-color: white">      </span><br>  1074-&gt;1071:  <span style="background-color: white">          public static class MaxWidth extends LengthLikeWithNone {</span><br>  1075-&gt;1072:  <span style="background-color: cyan">              @Override</span><br>  1076-&gt;1073:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>  1077-&gt;1074:  <span style="background-color: cyan">                  return false;</span><br>     1078-&gt;N:  <span style="background-color: white">              }</span><br>     1079-&gt;N:  <span style="background-color: white">          }</span><br>     1080-&gt;N:  <span style="background-color: white">      </span><br>  1081-&gt;1078:  <span style="background-color: white">          public static class MinHeight extends NonNegativeLengthLike {</span><br>     1082-&gt;N:  <span style="background-color: white">          }</span><br>     1083-&gt;N:  <span style="background-color: white">      </span><br>  1084-&gt;1081:  <span style="background-color: white">          public static class MinWidth extends NonNegativeLengthLike {</span><br>     1085-&gt;N:  <span style="background-color: white">          }</span><br>     1086-&gt;N:  <span style="background-color: white">      </span><br>  1087-&gt;1084:  <span style="background-color: white">          public static class FSPageBreakMinHeight extends NonNegativeLengthLike {</span><br>     1088-&gt;N:  <span style="background-color: white">          }</span><br>     1089-&gt;N:  <span style="background-color: white">          </span><br>  1090-&gt;1087:  <span style="background-color: white">          public static class FSMaxJustificationInterWord extends NonNegativeLengthLike {</span><br>     1091-&gt;N:  <span style="background-color: white">          }</span><br>     1092-&gt;N:  <span style="background-color: white">      </span><br>  1093-&gt;1090:  <span style="background-color: white">          public static class FSMaxJustificationInterChar extends NonNegativeLengthLike {</span><br>     1094-&gt;N:  <span style="background-color: white">          }</span><br>     1095-&gt;N:  <span style="background-color: white">      </span><br>  1096-&gt;1093:  <span style="background-color: white">          public static class Orphans extends PlainInteger {</span><br>  1097-&gt;1094:  <span style="background-color: cyan">              @Override</span><br>  1098-&gt;1095:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>  1099-&gt;1096:  <span style="background-color: cyan">                  return false;</span><br>     1100-&gt;N:  <span style="background-color: white">              }</span><br>     1101-&gt;N:  <span style="background-color: white">          }</span><br>     1102-&gt;N:  <span style="background-color: white">      </span><br>  1103-&gt;1100:  <span style="background-color: white">          public static class Overflow extends SingleIdent {</span><br>     1104-&gt;N:  <span style="background-color: white">              // visible | hidden | scroll | auto | inherit</span><br>  1105-&gt;1102:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1106-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1107-&gt;N:  <span style="background-color: white">                              IdentValue.VISIBLE, IdentValue.HIDDEN,</span><br>     1108-&gt;N:  <span style="background-color: white">                              /* IdentValue.SCROLL, IdentValue.AUTO, */ });</span><br>     1109-&gt;N:  <span style="background-color: white">      </span><br>     1110-&gt;N:  <span style="background-color: white">              // We only support visible or hidden for now</span><br>     1111-&gt;N:  <span style="background-color: white">      </span><br>  1112-&gt;1109:  <span style="background-color: white">              @Override</span><br>  1113-&gt;1110:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1114-&gt;1111:  <span style="background-color: white">                  return ALLOWED;</span><br>     1115-&gt;N:  <span style="background-color: white">              }</span><br>     1116-&gt;N:  <span style="background-color: white">          }</span><br>     1117-&gt;N:  <span style="background-color: white">      </span><br>  1118-&gt;1115:  <span style="background-color: white">          public static class PaddingTop extends NonNegativeLengthLike {</span><br>     1119-&gt;N:  <span style="background-color: white">          }</span><br>     1120-&gt;N:  <span style="background-color: white">      </span><br>  1121-&gt;1118:  <span style="background-color: white">          public static class PaddingRight extends NonNegativeLengthLike {</span><br>     1122-&gt;N:  <span style="background-color: white">          }</span><br>     1123-&gt;N:  <span style="background-color: white">      </span><br>  1124-&gt;1121:  <span style="background-color: white">          public static class PaddingBottom extends NonNegativeLengthLike {</span><br>     1125-&gt;N:  <span style="background-color: white">          }</span><br>     1126-&gt;N:  <span style="background-color: white">      </span><br>  1127-&gt;1124:  <span style="background-color: white">          public static class PaddingLeft extends NonNegativeLengthLike {</span><br>     1128-&gt;N:  <span style="background-color: white">          }</span><br>     1129-&gt;N:  <span style="background-color: white">      </span><br>  1130-&gt;1127:  <span style="background-color: white">          public static class PageBreakBefore extends SingleIdent {</span><br>     1131-&gt;N:  <span style="background-color: white">              // auto | always | avoid | left | right | inherit</span><br>  1132-&gt;1129:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1133-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1134-&gt;N:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.ALWAYS,</span><br>     1135-&gt;N:  <span style="background-color: white">                              IdentValue.AVOID, IdentValue.LEFT,</span><br>     1136-&gt;N:  <span style="background-color: white">                              IdentValue.RIGHT });</span><br>     1137-&gt;N:  <span style="background-color: white">      </span><br>  1138-&gt;1135:  <span style="background-color: cyan">              @Override</span><br>  1139-&gt;1136:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1140-&gt;1137:  <span style="background-color: cyan">                  return ALLOWED;</span><br>     1141-&gt;N:  <span style="background-color: white">              }</span><br>     1142-&gt;N:  <span style="background-color: white">          }</span><br>     1143-&gt;N:  <span style="background-color: white">          </span><br>  1144-&gt;1141:  <span style="background-color: white">          public static class BreakBefore extends SingleIdent {</span><br>  1145-&gt;1142:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1146-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.COLUMN });</span><br>     1147-&gt;N:  <span style="background-color: white">              </span><br>  1148-&gt;1145:  <span style="background-color: white">              @Override</span><br>  1149-&gt;1146:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1150-&gt;1147:  <span style="background-color: white">                  return ALLOWED;</span><br>     1151-&gt;N:  <span style="background-color: white">              }</span><br>     1152-&gt;N:  <span style="background-color: white">          }</span><br>     1153-&gt;N:  <span style="background-color: white">      </span><br>  1154-&gt;1151:  <span style="background-color: white">          public static class BreakAfter extends SingleIdent {</span><br>  1155-&gt;1152:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1156-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO, IdentValue.COLUMN });</span><br>     1157-&gt;N:  <span style="background-color: white">              </span><br>  1158-&gt;1155:  <span style="background-color: white">              @Override</span><br>  1159-&gt;1156:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1160-&gt;1157:  <span style="background-color: white">                  return ALLOWED;</span><br>     1161-&gt;N:  <span style="background-color: white">              }</span><br>     1162-&gt;N:  <span style="background-color: white">          }</span><br>     1163-&gt;N:  <span style="background-color: white">          </span><br>  1164-&gt;1161:  <span style="background-color: white">          public static class Page extends AbstractPropertyBuilder {</span><br>  1165-&gt;1162:  <span style="background-color: white">              @Override</span><br>  1166-&gt;1163:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>  1167-&gt;1164:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>  1168-&gt;1165:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>  1169-&gt;1166:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>  1170-&gt;1167:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>  1171-&gt;1168:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>  1172-&gt;1169:  <span style="background-color: white">                      checkIdentType(cssName, value);</span><br>     1173-&gt;N:  <span style="background-color: white">      </span><br>  1174-&gt;1171:  <span style="background-color: white">                      if (! value.getStringValue().equals("auto")) {</span><br>     1175-&gt;N:  <span style="background-color: white">                          // Treat as string since it won't be a proper IdentValue</span><br>  1176-&gt;1173:  <span style="background-color: white">                          value = new PropertyValue(</span><br>  1177-&gt;1174:  <span style="background-color: white">                                  CSSPrimitiveValue.CSS_STRING, value.getStringValue(), value.getCssText());</span><br>     1178-&gt;N:  <span style="background-color: white">                      }</span><br>     1179-&gt;N:  <span style="background-color: white">                  }</span><br>     1180-&gt;N:  <span style="background-color: white">      </span><br>  1181-&gt;1178:  <span style="background-color: white">                  return Collections.singletonList(</span><br>  1182-&gt;1179:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>     1183-&gt;N:  <span style="background-color: white">      </span><br>     1184-&gt;N:  <span style="background-color: white">      </span><br>     1185-&gt;N:  <span style="background-color: white">              }</span><br>     1186-&gt;N:  <span style="background-color: white">          }</span><br>     1187-&gt;N:  <span style="background-color: white">      </span><br>  1188-&gt;1185:  <span style="background-color: white">          public static class PageBreakAfter extends SingleIdent {</span><br>     1189-&gt;N:  <span style="background-color: white">              // auto | always | avoid | left | right | inherit</span><br>  1190-&gt;1187:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1191-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1192-&gt;N:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.ALWAYS,</span><br>     1193-&gt;N:  <span style="background-color: white">                              IdentValue.AVOID, IdentValue.LEFT,</span><br>     1194-&gt;N:  <span style="background-color: white">                              IdentValue.RIGHT });</span><br>     1195-&gt;N:  <span style="background-color: white">      </span><br>  1196-&gt;1193:  <span style="background-color: white">              @Override</span><br>  1197-&gt;1194:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1198-&gt;1195:  <span style="background-color: white">                  return ALLOWED;</span><br>     1199-&gt;N:  <span style="background-color: white">              }</span><br>     1200-&gt;N:  <span style="background-color: white">          }</span><br>     1201-&gt;N:  <span style="background-color: white">      </span><br>  1202-&gt;1199:  <span style="background-color: white">          public static class PageBreakInside extends SingleIdent {</span><br>     1203-&gt;N:  <span style="background-color: white">              // avoid | auto | inherit</span><br>  1204-&gt;1201:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1205-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1206-&gt;N:  <span style="background-color: white">                              IdentValue.AVOID, IdentValue.AUTO });</span><br>     1207-&gt;N:  <span style="background-color: white">      </span><br>  1208-&gt;1205:  <span style="background-color: cyan">              @Override</span><br>  1209-&gt;1206:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1210-&gt;1207:  <span style="background-color: cyan">                  return ALLOWED;</span><br>     1211-&gt;N:  <span style="background-color: white">              }</span><br>     1212-&gt;N:  <span style="background-color: white">          }</span><br>     1213-&gt;N:  <span style="background-color: white">      </span><br>  1214-&gt;1211:  <span style="background-color: white">          public static class Position extends AbstractPropertyBuilder {</span><br>     1215-&gt;N:  <span style="background-color: white">              // static | relative | absolute | fixed | inherit</span><br>  1216-&gt;1213:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1217-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1218-&gt;N:  <span style="background-color: white">                              IdentValue.STATIC, IdentValue.RELATIVE,</span><br>     1219-&gt;N:  <span style="background-color: white">                              IdentValue.ABSOLUTE, IdentValue.FIXED });</span><br>     1220-&gt;N:  <span style="background-color: white">      </span><br>  1221-&gt;1218:  <span style="background-color: cyan">              @Override</span><br>  1222-&gt;1219:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>  1223-&gt;1220:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>  1224-&gt;1221:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>  1225-&gt;1222:  <span style="background-color: cyan">                  PropertyValue value = values.get(0);</span><br>  1226-&gt;1223:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>  1227-&gt;1224:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>  1228-&gt;1225:  <span style="background-color: cyan">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>  1229-&gt;1226:  <span style="background-color: cyan">                          checkIdentType(cssName, value);</span><br>  1230-&gt;1227:  <span style="background-color: cyan">                          IdentValue ident = checkIdent(cssName, value);</span><br>     1231-&gt;N:  <span style="background-color: white">      </span><br>  1232-&gt;1229:  <span style="background-color: cyan">                          checkValidity(cssName, getAllowed(), ident);</span><br>  1233-&gt;1230:  <span style="background-color: cyan">                      } else if (value.getPropertyValueType() == PropertyValue.VALUE_TYPE_FUNCTION) {</span><br>  1234-&gt;1231:  <span style="background-color: cyan">                          FSFunction function = value.getFunction();</span><br>  1235-&gt;1232:  <span style="background-color: cyan">                          if (function.getName().equals("running")) {</span><br>  1236-&gt;1233:  <span style="background-color: cyan">                              List
       <propertyvalue>
         params = function.getParameters();
       </propertyvalue></span><br>  1237-&gt;1234:  <span style="background-color: cyan">                              if (params.size() == 1) {</span><br>  1238-&gt;1235:  <span style="background-color: cyan">                                  PropertyValue param = params.get(0);</span><br>  1239-&gt;1236:  <span style="background-color: cyan">                                  if (param.getPrimitiveType() != CSSPrimitiveValue.CSS_IDENT) {</span><br>  1240-&gt;1237:  <span style="background-color: white">                                      throw new CSSParseException("The running function takes an identifier as a parameter", -1);</span><br>     1241-&gt;N:  <span style="background-color: white">                                  }</span><br>     1242-&gt;N:  <span style="background-color: white">                              } else {</span><br>  1243-&gt;1240:  <span style="background-color: white">                                  throw new CSSParseException("The running function takes one parameter", -1);</span><br>     1244-&gt;N:  <span style="background-color: white">                              }</span><br>     1245-&gt;N:  <span style="background-color: white">                          } else {</span><br>  1246-&gt;1243:  <span style="background-color: white">                              throw new CSSParseException("Only the running function is supported here", -1);</span><br>     1247-&gt;N:  <span style="background-color: white">                          }</span><br>     1248-&gt;N:  <span style="background-color: white">                      } else {</span><br>  1249-&gt;1246:  <span style="background-color: white">                          throw new CSSParseException("Value for " + cssName + " must be an identifier or function", -1);</span><br>     1250-&gt;N:  <span style="background-color: white">                      }</span><br>     1251-&gt;N:  <span style="background-color: white">                  }</span><br>     1252-&gt;N:  <span style="background-color: white">      </span><br>  1253-&gt;1250:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>  1254-&gt;1251:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>     1255-&gt;N:  <span style="background-color: white">      </span><br>     1256-&gt;N:  <span style="background-color: white">              }</span><br>     1257-&gt;N:  <span style="background-color: white">      </span><br>  1258-&gt;1255:  <span style="background-color: cyan">              private BitSet getAllowed() {</span><br>  1259-&gt;1256:  <span style="background-color: cyan">                  return ALLOWED;</span><br>     1260-&gt;N:  <span style="background-color: white">              }</span><br>     1261-&gt;N:  <span style="background-color: white">          }</span><br>     1262-&gt;N:  <span style="background-color: white">      </span><br>  1263-&gt;1260:  <span style="background-color: white">          public static class Right extends LengthLikeWithAuto {</span><br>     1264-&gt;N:  <span style="background-color: white">          }</span><br>     1265-&gt;N:  <span style="background-color: white">      </span><br>  1266-&gt;1263:  <span style="background-color: white">          public static class Src extends GenericURIWithNone {</span><br>  1267-&gt;1264:  <span style="background-color: white">              @Override</span><br>  1268-&gt;1265:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>  1269-&gt;1266:  <span style="background-color: white">                  if (values.size() == 1) {</span><br>  1270-&gt;1267:  <span style="background-color: white">                      return super.buildDeclarations(cssName, values, origin, important, inheritAllowed);    </span><br>     1271-&gt;N:  <span style="background-color: white">                  }</span><br>     1272-&gt;N:  <span style="background-color: white">                  </span><br>  1273-&gt;1270:  <span style="background-color: white">                  for (int i = 0; i &lt; values.size(); i++) {</span><br>  1274-&gt;1271:  <span style="background-color: white">                      PropertyValue value = values.get(i);</span><br>  1275-&gt;1272:  <span style="background-color: white">                      PropertyValue next = (i + 1 &lt; values.size()) ? values.get(i + 1) : null;</span><br>     1276-&gt;N:  <span style="background-color: white">      </span><br>  1277-&gt;1274:  <span style="background-color: white">                      if (value.getPrimitiveType() != CSSPrimitiveValue.CSS_URI ||</span><br>  1278-&gt;1275:  <span style="background-color: white">                          next == null ||</span><br>  1279-&gt;1276:  <span style="background-color: white">                          next.getPropertyValueType() != PropertyValue.VALUE_TYPE_FUNCTION ||</span><br>  1280-&gt;1277:  <span style="background-color: white">                          !"format".equals(next.getFunction().getName()) ||</span><br>  1281-&gt;1278:  <span style="background-color: white">                          next.getFunction().getParameters().size() &lt; 1 ||</span><br>  1282-&gt;1279:  <span style="background-color: white">                          !"truetype".equals(next.getFunction().getParameters().get(0).getStringValue())) {</span><br>  1283-&gt;1280:  <span style="background-color: white">                          continue;</span><br>     1284-&gt;N:  <span style="background-color: white">                      } else {</span><br>  1285-&gt;1282:  <span style="background-color: white">                          return super.buildDeclarations(cssName, Collections.singletonList(value), origin, important, inheritAllowed); </span><br>     1286-&gt;N:  <span style="background-color: white">                      }</span><br>     1287-&gt;N:  <span style="background-color: white">                  }</span><br>     1288-&gt;N:  <span style="background-color: white">                  </span><br>  1289-&gt;1286:  <span style="background-color: white">                  throw new CSSParseException("Could not find font src with format(truetype) in list (" + values.toString() + ") of fonts", -1);</span><br>     1290-&gt;N:  <span style="background-color: white">              }</span><br>     1291-&gt;N:  <span style="background-color: white">          }</span><br>     1292-&gt;N:  <span style="background-color: white">      </span><br>  1293-&gt;1290:  <span style="background-color: white">          public static class TabSize extends PlainInteger {</span><br>  1294-&gt;1291:  <span style="background-color: white">              @Override</span><br>  1295-&gt;1292:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>  1296-&gt;1293:  <span style="background-color: white">                  return false;</span><br>     1297-&gt;N:  <span style="background-color: white">              }</span><br>     1298-&gt;N:  <span style="background-color: white">          }</span><br>     1299-&gt;N:  <span style="background-color: white">      </span><br>  1300-&gt;1297:  <span style="background-color: white">          public static class Top extends LengthLikeWithAuto {</span><br>     1301-&gt;N:  <span style="background-color: white">          }</span><br>     1302-&gt;N:  <span style="background-color: white">      </span><br>  1303-&gt;1300:  <span style="background-color: white">          public static class TableLayout extends SingleIdent {</span><br>     1304-&gt;N:  <span style="background-color: white">              // auto | fixed | inherit</span><br>  1305-&gt;1302:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1306-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1307-&gt;N:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.FIXED });</span><br>     1308-&gt;N:  <span style="background-color: white">      </span><br>  1309-&gt;1306:  <span style="background-color: white">              @Override</span><br>  1310-&gt;1307:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1311-&gt;1308:  <span style="background-color: white">                  return ALLOWED;</span><br>     1312-&gt;N:  <span style="background-color: white">              }</span><br>     1313-&gt;N:  <span style="background-color: white">          }</span><br>     1314-&gt;N:  <span style="background-color: white">      </span><br>  1315-&gt;1312:  <span style="background-color: white">          public static class TextAlign extends SingleIdent {</span><br>     1316-&gt;N:  <span style="background-color: white">              // left | right | center | justify | inherit</span><br>  1317-&gt;1314:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1318-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1319-&gt;N:  <span style="background-color: white">                              IdentValue.LEFT, IdentValue.RIGHT,</span><br>     1320-&gt;N:  <span style="background-color: white">                              IdentValue.CENTER, IdentValue.JUSTIFY, IdentValue.START });</span><br>     1321-&gt;N:  <span style="background-color: white">      </span><br>  1322-&gt;1319:  <span style="background-color: white">              @Override</span><br>  1323-&gt;1320:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1324-&gt;1321:  <span style="background-color: white">                  return ALLOWED;</span><br>     1325-&gt;N:  <span style="background-color: white">              }</span><br>     1326-&gt;N:  <span style="background-color: white">          }</span><br>     1327-&gt;N:  <span style="background-color: white">      </span><br>  1328-&gt;1325:  <span style="background-color: white">          public static class TextDecoration extends AbstractPropertyBuilder {</span><br>     1329-&gt;N:  <span style="background-color: white">              // none | [ underline || overline || line-through || blink ] | inherit</span><br>  1330-&gt;1327:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1331-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1332-&gt;N:  <span style="background-color: white">                              /* IdentValue.NONE, */ IdentValue.UNDERLINE,</span><br>     1333-&gt;N:  <span style="background-color: white">                              IdentValue.OVERLINE, IdentValue.LINE_THROUGH,</span><br>     1334-&gt;N:  <span style="background-color: white">                              /* IdentValue.BLINK */ });</span><br>     1335-&gt;N:  <span style="background-color: white">      </span><br>  1336-&gt;1333:  <span style="background-color: white">              private BitSet getAllowed() {</span><br>  1337-&gt;1334:  <span style="background-color: white">                  return ALLOWED;</span><br>     1338-&gt;N:  <span style="background-color: white">              }</span><br>     1339-&gt;N:  <span style="background-color: white">      </span><br>  1340-&gt;1337:  <span style="background-color: white">              @Override</span><br>  1341-&gt;1338:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>  1342-&gt;1339:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>  1343-&gt;1340:  <span style="background-color: white">                  if (values.size() == 1) {</span><br>  1344-&gt;1341:  <span style="background-color: white">                      CSSPrimitiveValue value = values.get(0);</span><br>  1345-&gt;1342:  <span style="background-color: white">                      boolean goWithSingle = false;</span><br>  1346-&gt;1343:  <span style="background-color: white">                      if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>  1347-&gt;1344:  <span style="background-color: white">                          goWithSingle = true;</span><br>     1348-&gt;N:  <span style="background-color: white">                      } else {</span><br>  1349-&gt;1346:  <span style="background-color: white">                          checkIdentType(CSSName.TEXT_DECORATION, value);</span><br>  1350-&gt;1347:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>  1351-&gt;1348:  <span style="background-color: white">                          if (ident == IdentValue.NONE) {</span><br>  1352-&gt;1349:  <span style="background-color: white">                              goWithSingle = true;</span><br>     1353-&gt;N:  <span style="background-color: white">                          }</span><br>     1354-&gt;N:  <span style="background-color: white">                      }</span><br>     1355-&gt;N:  <span style="background-color: white">      </span><br>  1356-&gt;1353:  <span style="background-color: white">                      if (goWithSingle) {</span><br>  1357-&gt;1354:  <span style="background-color: white">                          return Collections.singletonList(</span><br>  1358-&gt;1355:  <span style="background-color: white">                                  new PropertyDeclaration(cssName, value, important, origin));</span><br>     1359-&gt;N:  <span style="background-color: white">                      }</span><br>     1360-&gt;N:  <span style="background-color: white">                  }</span><br>     1361-&gt;N:  <span style="background-color: white">      </span><br>  1362-&gt;1359:  <span style="background-color: white">                  for (Iterator
       <propertyvalue>
         i = values.iterator(); i.hasNext(); ) {
       </propertyvalue></span><br>  1363-&gt;1360:  <span style="background-color: white">                      PropertyValue value = i.next();</span><br>  1364-&gt;1361:  <span style="background-color: white">                      checkInheritAllowed(value, false);</span><br>  1365-&gt;1362:  <span style="background-color: white">                      checkIdentType(cssName, value);</span><br>  1366-&gt;1363:  <span style="background-color: white">                      IdentValue ident = checkIdent(cssName, value);</span><br>  1367-&gt;1364:  <span style="background-color: white">                      if (ident == IdentValue.NONE) {</span><br>  1368-&gt;1365:  <span style="background-color: white">                          throw new CSSParseException("Value none may not be used in this position", -1);</span><br>     1369-&gt;N:  <span style="background-color: white">                      }</span><br>  1370-&gt;1367:  <span style="background-color: white">                      checkValidity(cssName, getAllowed(), ident);</span><br>     1371-&gt;N:  <span style="background-color: white">                  }</span><br>     1372-&gt;N:  <span style="background-color: white">      </span><br>  1373-&gt;1370:  <span style="background-color: white">                  return Collections.singletonList(</span><br>  1374-&gt;1371:  <span style="background-color: white">                          new PropertyDeclaration(cssName, new PropertyValue(values), important, origin));</span><br>     1375-&gt;N:  <span style="background-color: white">      </span><br>     1376-&gt;N:  <span style="background-color: white">              }</span><br>     1377-&gt;N:  <span style="background-color: white">          }</span><br>     1378-&gt;N:  <span style="background-color: white">      </span><br>  1379-&gt;1376:  <span style="background-color: white">          public static class TextIndent extends LengthLike {</span><br>     1380-&gt;N:  <span style="background-color: white">          }</span><br>     1381-&gt;N:  <span style="background-color: white">      </span><br>  1382-&gt;1379:  <span style="background-color: white">          public static class TextTransform extends SingleIdent {</span><br>     1383-&gt;N:  <span style="background-color: white">             // capitalize | uppercase | lowercase | none | inherit</span><br>  1384-&gt;1381:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1385-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1386-&gt;N:  <span style="background-color: white">                              IdentValue.CAPITALIZE, IdentValue.UPPERCASE,</span><br>     1387-&gt;N:  <span style="background-color: white">                              IdentValue.LOWERCASE, IdentValue.NONE });</span><br>     1388-&gt;N:  <span style="background-color: white">      </span><br>  1389-&gt;1386:  <span style="background-color: cyan">              @Override</span><br>  1390-&gt;1387:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1391-&gt;1388:  <span style="background-color: cyan">                  return ALLOWED;</span><br>     1392-&gt;N:  <span style="background-color: white">              }</span><br>     1393-&gt;N:  <span style="background-color: white">          }</span><br>     1394-&gt;N:  <span style="background-color: white">      </span><br>  1395-&gt;1392:  <span style="background-color: white">          public static class VerticalAlign extends LengthLikeWithIdent {</span><br>     1396-&gt;N:  <span style="background-color: white">              // baseline | sub | super | top | text-top | middle</span><br>     1397-&gt;N:  <span style="background-color: white">              // | bottom | text-bottom | 
       <percentage>
         | 
        <length>
          | inherit
        </length>
       </percentage></span><br>  1398-&gt;1395:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1399-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1400-&gt;N:  <span style="background-color: white">                              IdentValue.BASELINE, IdentValue.SUB,</span><br>     1401-&gt;N:  <span style="background-color: white">                              IdentValue.SUPER, IdentValue.TOP,</span><br>     1402-&gt;N:  <span style="background-color: white">                              IdentValue.TEXT_TOP, IdentValue.MIDDLE,</span><br>     1403-&gt;N:  <span style="background-color: white">                              IdentValue.BOTTOM, IdentValue.TEXT_BOTTOM });</span><br>     1404-&gt;N:  <span style="background-color: white">      </span><br>  1405-&gt;1402:  <span style="background-color: white">              @Override</span><br>  1406-&gt;1403:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1407-&gt;1404:  <span style="background-color: white">                  return ALLOWED;</span><br>     1408-&gt;N:  <span style="background-color: white">              }</span><br>     1409-&gt;N:  <span style="background-color: white">          }</span><br>     1410-&gt;N:  <span style="background-color: white">      </span><br>  1411-&gt;1408:  <span style="background-color: white">          public static class Visibility extends SingleIdent {</span><br>     1412-&gt;N:  <span style="background-color: white">              // visible | hidden | collapse | inherit | -fs-table-paginate-repeated-visible</span><br>  1413-&gt;1410:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1414-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1415-&gt;N:  <span style="background-color: white">                              IdentValue.VISIBLE, IdentValue.HIDDEN, IdentValue.COLLAPSE,</span><br>     1416-&gt;N:  <span style="background-color: white">                              IdentValue.FS_TABLE_PAGINATE_REPEATED_VISIBLE });</span><br>     1417-&gt;N:  <span style="background-color: white">      </span><br>  1418-&gt;1415:  <span style="background-color: white">              @Override</span><br>  1419-&gt;1416:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1420-&gt;1417:  <span style="background-color: white">                  return ALLOWED;</span><br>     1421-&gt;N:  <span style="background-color: white">              }</span><br>     1422-&gt;N:  <span style="background-color: white">          }</span><br>     1423-&gt;N:  <span style="background-color: white">      </span><br>  1424-&gt;1421:  <span style="background-color: white">          public static class WhiteSpace extends SingleIdent {</span><br>     1425-&gt;N:  <span style="background-color: white">              // normal | pre | nowrap | pre-wrap | pre-line | inherit</span><br>  1426-&gt;1423:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1427-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1428-&gt;N:  <span style="background-color: white">                              IdentValue.NORMAL, IdentValue.PRE, IdentValue.NOWRAP,</span><br>     1429-&gt;N:  <span style="background-color: white">                              IdentValue.PRE_WRAP, IdentValue.PRE_LINE});</span><br>     1430-&gt;N:  <span style="background-color: white">      </span><br>  1431-&gt;1428:  <span style="background-color: cyan">              @Override</span><br>  1432-&gt;1429:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1433-&gt;1430:  <span style="background-color: cyan">                  return ALLOWED;</span><br>     1434-&gt;N:  <span style="background-color: white">              }</span><br>     1435-&gt;N:  <span style="background-color: white">          }</span><br>     1436-&gt;N:  <span style="background-color: white">      </span><br>  1437-&gt;1434:  <span style="background-color: white">          public static class WordWrap extends SingleIdent {</span><br>     1438-&gt;N:  <span style="background-color: white">              // normal | break-word</span><br>  1439-&gt;1436:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1440-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1441-&gt;N:  <span style="background-color: white">                              IdentValue.NORMAL, IdentValue.BREAK_WORD});</span><br>     1442-&gt;N:  <span style="background-color: white">      </span><br>  1443-&gt;1440:  <span style="background-color: white">              @Override</span><br>  1444-&gt;1441:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1445-&gt;1442:  <span style="background-color: white">                  return ALLOWED;</span><br>     1446-&gt;N:  <span style="background-color: white">              }</span><br>     1447-&gt;N:  <span style="background-color: white">          }</span><br>     1448-&gt;N:  <span style="background-color: white">      </span><br>     1449-&gt;N:  <span style="background-color: white">      </span><br>  1450-&gt;1447:  <span style="background-color: white">          public static class Widows extends PlainInteger {</span><br>  1451-&gt;1448:  <span style="background-color: cyan">              @Override</span><br>  1452-&gt;1449:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>  1453-&gt;1450:  <span style="background-color: cyan">                  return false;</span><br>     1454-&gt;N:  <span style="background-color: white">              }</span><br>     1455-&gt;N:  <span style="background-color: white">          }</span><br>     1456-&gt;N:  <span style="background-color: white">      </span><br>  1457-&gt;1454:  <span style="background-color: white">          public static class Width extends LengthLikeWithAuto {</span><br>  1458-&gt;1455:  <span style="background-color: cyan">              @Override</span><br>  1459-&gt;1456:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>  1460-&gt;1457:  <span style="background-color: cyan">                  return false;</span><br>     1461-&gt;N:  <span style="background-color: white">              }</span><br>     1462-&gt;N:  <span style="background-color: white">          }</span><br>     1463-&gt;N:  <span style="background-color: white">      </span><br>  1464-&gt;1461:  <span style="background-color: white">          public static class WordSpacing extends LengthWithNormal {</span><br>     1465-&gt;N:  <span style="background-color: white">          }</span><br>     1466-&gt;N:  <span style="background-color: white">      </span><br>  1467-&gt;1464:  <span style="background-color: white">          public static class ZIndex extends AbstractPropertyBuilder {</span><br>     1468-&gt;N:  <span style="background-color: white">              // auto | 
       <integer>
         | inherit
       </integer></span><br>  1469-&gt;1466:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1470-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO });</span><br>     1471-&gt;N:  <span style="background-color: white">      </span><br>  1472-&gt;1469:  <span style="background-color: cyan">              @Override</span><br>  1473-&gt;1470:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>  1474-&gt;1471:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>  1475-&gt;1472:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, values.size());</span><br>  1476-&gt;1473:  <span style="background-color: cyan">                  CSSPrimitiveValue value = values.get(0);</span><br>  1477-&gt;1474:  <span style="background-color: cyan">                  checkInheritAllowed(value, inheritAllowed);</span><br>  1478-&gt;1475:  <span style="background-color: cyan">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>  1479-&gt;1476:  <span style="background-color: cyan">                      checkIdentOrIntegerType(cssName, value);</span><br>     1480-&gt;N:  <span style="background-color: white">      </span><br>  1481-&gt;1478:  <span style="background-color: cyan">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>  1482-&gt;1479:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>  1483-&gt;1480:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>     1484-&gt;N:  <span style="background-color: white">                      }</span><br>     1485-&gt;N:  <span style="background-color: white">                  }</span><br>     1486-&gt;N:  <span style="background-color: white">      </span><br>  1487-&gt;1484:  <span style="background-color: cyan">                  return Collections.singletonList(</span><br>  1488-&gt;1485:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>     1489-&gt;N:  <span style="background-color: white">              }</span><br>     1490-&gt;N:  <span style="background-color: white">          }</span><br>     1491-&gt;N:  <span style="background-color: white">          </span><br>  1492-&gt;1489:  <span style="background-color: white">          public static class ColumnCount extends AbstractPropertyBuilder {</span><br>     1493-&gt;N:  <span style="background-color: white">              // auto | 
       <integer>
         | inherit
       </integer></span><br>  1494-&gt;1491:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1495-&gt;N:  <span style="background-color: white">                      new IdentValue[] { IdentValue.AUTO });</span><br>     1496-&gt;N:  <span style="background-color: white">      </span><br>  1497-&gt;1494:  <span style="background-color: white">              @Override</span><br>  1498-&gt;1495:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(
       </propertydeclaration></span><br>  1499-&gt;1496:  <span style="background-color: white">                      CSSName cssName, List
       <propertyvalue>
         values, int origin, boolean important, boolean inheritAllowed) {
       </propertyvalue></span><br>  1500-&gt;1497:  <span style="background-color: white">                  checkValueCount(cssName, 1, values.size());</span><br>  1501-&gt;1498:  <span style="background-color: white">                  CSSPrimitiveValue value = values.get(0);</span><br>  1502-&gt;1499:  <span style="background-color: white">                  checkInheritAllowed(value, inheritAllowed);</span><br>  1503-&gt;1500:  <span style="background-color: white">                  if (value.getCssValueType() != CSSValue.CSS_INHERIT) {</span><br>  1504-&gt;1501:  <span style="background-color: white">                      checkIdentOrIntegerType(cssName, value);</span><br>     1505-&gt;N:  <span style="background-color: white">      </span><br>  1506-&gt;1503:  <span style="background-color: white">                      if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>  1507-&gt;1504:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>  1508-&gt;1505:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>  1509-&gt;1506:  <span style="background-color: white">                      } else if (value.getFloatValue(CSSPrimitiveValue.CSS_NUMBER) &lt; 1) {</span><br>  1510-&gt;1507:  <span style="background-color: white">                      	throw new CSSParseException("column-count must be one or greater", -1);</span><br>     1511-&gt;N:  <span style="background-color: white">                      }</span><br>     1512-&gt;N:  <span style="background-color: white">                  }</span><br>     1513-&gt;N:  <span style="background-color: white">      </span><br>  1514-&gt;1511:  <span style="background-color: white">                  return Collections.singletonList(</span><br>  1515-&gt;1512:  <span style="background-color: white">                          new PropertyDeclaration(cssName, value, important, origin));</span><br>     1516-&gt;N:  <span style="background-color: white">              }</span><br>     1517-&gt;N:  <span style="background-color: white">          }</span><br>     1518-&gt;N:  <span style="background-color: white">          </span><br>  1519-&gt;1516:  <span style="background-color: white">          public static class ColumnGap extends LengthLikeWithIdent {</span><br>     1520-&gt;N:  <span style="background-color: white">          	// length || normal</span><br>  1521-&gt;1518:  <span style="background-color: white">          	private static final BitSet ALLOWED = setFor(</span><br>     1522-&gt;N:  <span style="background-color: white">          			new IdentValue[] { IdentValue.NORMAL });</span><br>     1523-&gt;N:  <span style="background-color: white">      </span><br>  1524-&gt;1521:  <span style="background-color: white">          	@Override</span><br>  1525-&gt;1522:  <span style="background-color: white">      		protected BitSet getAllowed() {</span><br>  1526-&gt;1523:  <span style="background-color: white">      			return ALLOWED;</span><br>     1527-&gt;N:  <span style="background-color: white">      		}</span><br>     1528-&gt;N:  <span style="background-color: white">          }</span><br>     1529-&gt;N:  <span style="background-color: white">          </span><br>     1530-&gt;N:  <span style="background-color: white">      </span><br>  1531-&gt;1528:  <span style="background-color: white">          static List
       <propertydeclaration>
         createTwoValueResponse(CSSName cssName, PropertyValue value1, PropertyValue value2,
       </propertydeclaration></span><br>  1532-&gt;1529:  <span style="background-color: white">                  int origin, boolean important) {</span><br>  1533-&gt;1530:  <span style="background-color: white">              List
       <propertyvalue>
         values = new ArrayList&lt;&gt;(2);
       </propertyvalue></span><br>  1534-&gt;1531:  <span style="background-color: white">              values.add(value1);</span><br>  1535-&gt;1532:  <span style="background-color: white">              values.add(value2);</span><br>     1536-&gt;N:  <span style="background-color: white">      </span><br>  1537-&gt;1534:  <span style="background-color: white">              PropertyDeclaration result = new PropertyDeclaration(</span><br>  1538-&gt;1535:  <span style="background-color: white">                      cssName,</span><br>  1539-&gt;1536:  <span style="background-color: white">                      new PropertyValue(values), important, origin);</span><br>     1540-&gt;N:  <span style="background-color: white">      </span><br>  1541-&gt;1538:  <span style="background-color: white">              return Collections.singletonList(result);</span><br>     1542-&gt;N:  <span style="background-color: white">          }</span><br>     1543-&gt;N:  <span style="background-color: white">      </span><br>     1544-&gt;N:  <span style="background-color: white">      </span><br>  1545-&gt;1542:  <span style="background-color: white">          public static class TransformPropertyBuilder extends AbstractPropertyBuilder {</span><br>  1546-&gt;1543:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.NONE });</span><br>     1547-&gt;N:  <span style="background-color: white">      </span><br>  1548-&gt;1545:  <span style="background-color: cyan">              @Override</span><br>  1549-&gt;1546:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important,
        </propertyvalue>
       </propertydeclaration></span><br>  1550-&gt;1547:  <span style="background-color: white">                                            boolean inheritAllowed) {</span><br>  1551-&gt;1548:  <span style="background-color: cyan">                  checkValueCount(cssName, 1, Integer.MAX_VALUE, values.size());</span><br>  1552-&gt;1549:  <span style="background-color: cyan">                  checkInheritAllowed(values.get(0), inheritAllowed);</span><br>     1553-&gt;N:  <span style="background-color: white">                  </span><br>  1554-&gt;1551:  <span style="background-color: cyan">                  if (values.get(0).getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>  1555-&gt;1552:  <span style="background-color: white">                  	return Collections.singletonList(new PropertyDeclaration(cssName, values.get(0), important, origin));</span><br>     1556-&gt;N:  <span style="background-color: white">                  }</span><br>     1557-&gt;N:  <span style="background-color: white">                  </span><br>  1558-&gt;1555:  <span style="background-color: cyan">                  if(values.size() == 1) {</span><br>  1559-&gt;1556:  <span style="background-color: cyan">                      CSSPrimitiveValue value = values.get(0);</span><br>  1560-&gt;1557:  <span style="background-color: cyan">                      if(value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>  1561-&gt;1558:  <span style="background-color: white">                          IdentValue ident = checkIdent(cssName, value);</span><br>  1562-&gt;1559:  <span style="background-color: white">                          checkValidity(cssName, ALLOWED, ident);</span><br>  1563-&gt;1560:  <span style="background-color: white">                          return Collections.singletonList(new PropertyDeclaration(CSSName.TRANSFORM, value,</span><br>  1564-&gt;1561:  <span style="background-color: white">                                  important, origin));</span><br>     1565-&gt;N:  <span style="background-color: white">                      }</span><br>     1566-&gt;N:  <span style="background-color: white">                  }</span><br>     1567-&gt;N:  <span style="background-color: white">                  </span><br>  1568-&gt;1565:  <span style="background-color: cyan">                  for (Object v : values) {</span><br>  1569-&gt;1566:  <span style="background-color: cyan">                  	PropertyValue value = (PropertyValue) v;</span><br>     1570-&gt;N:  <span style="background-color: white">                  	</span><br>  1571-&gt;1568:  <span style="background-color: cyan">                  	if (value.getPropertyValueType() != PropertyValue.VALUE_TYPE_FUNCTION) {</span><br>  1572-&gt;1569:  <span style="background-color: white">                  		throw new CSSParseException("One or more functions must be provided for transform property", -1);</span><br>     1573-&gt;N:  <span style="background-color: white">                  	}</span><br>     1574-&gt;N:  <span style="background-color: white">                  	</span><br>  1575-&gt;1572:  <span style="background-color: cyan">                  	String fName = value.getFunction().getName();</span><br>     1576-&gt;N:  <span style="background-color: white">                  	</span><br>  1577-&gt;1574:  <span style="background-color: cyan">                  	int expected = 0;</span><br>  1578-&gt;1575:  <span style="background-color: cyan">                  	if (fName.equalsIgnoreCase("matrix")) {</span><br>  1579-&gt;1576:  <span style="background-color: white">                  		expected = 6;</span><br>  1580-&gt;1577:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1581-&gt;1578:  <span style="background-color: white">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>     1582-&gt;N:  <span style="background-color: white">                  		}</span><br>  1583-&gt;1580:  <span style="background-color: cyan">                  	} else if (fName.equalsIgnoreCase("translate")) {</span><br>  1584-&gt;1581:  <span style="background-color: white">                  		expected = 2;</span><br>  1585-&gt;1582:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1586-&gt;1583:  <span style="background-color: white">                  			checkLengthOrPercentType(cssName, (CSSPrimitiveValue) p);</span><br>     1587-&gt;N:  <span style="background-color: white">                  		}</span><br>  1588-&gt;1585:  <span style="background-color: cyan">                  	} else if (fName.equalsIgnoreCase("translateX")) {</span><br>  1589-&gt;1586:  <span style="background-color: cyan">                  		expected = 1;</span><br>  1590-&gt;1587:  <span style="background-color: cyan">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1591-&gt;1588:  <span style="background-color: cyan">                  			checkLengthOrPercentType(cssName, (CSSPrimitiveValue) p);</span><br>     1592-&gt;N:  <span style="background-color: white">                  		}</span><br>  1593-&gt;1590:  <span style="background-color: cyan">                  	} else if (fName.equalsIgnoreCase("translateY")) {</span><br>  1594-&gt;1591:  <span style="background-color: white">                  		expected = 1;</span><br>  1595-&gt;1592:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1596-&gt;1593:  <span style="background-color: white">                  			checkLengthOrPercentType(cssName, (CSSPrimitiveValue) p);</span><br>     1597-&gt;N:  <span style="background-color: white">                  		}</span><br>  1598-&gt;1595:  <span style="background-color: cyan">                  	} else if (fName.equalsIgnoreCase("scale")) {</span><br>  1599-&gt;1596:  <span style="background-color: cyan">                  		expected = 2;</span><br>  1600-&gt;1597:  <span style="background-color: cyan">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1601-&gt;1598:  <span style="background-color: cyan">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>     1602-&gt;N:  <span style="background-color: white">                  		}</span><br>  1603-&gt;1600:  <span style="background-color: cyan">                          if (value.getFunction().getParameters().size() == 1)</span><br>  1604-&gt;1601:  <span style="background-color: white">                              expected = 1;</span><br>  1605-&gt;1602:  <span style="background-color: cyan">                  	} else if (fName.equalsIgnoreCase("scaleX")) {</span><br>  1606-&gt;1603:  <span style="background-color: white">                  		expected = 1;</span><br>  1607-&gt;1604:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1608-&gt;1605:  <span style="background-color: white">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>     1609-&gt;N:  <span style="background-color: white">                  		}</span><br>  1610-&gt;1607:  <span style="background-color: cyan">                  	} else if (fName.equalsIgnoreCase("scaleY")) {</span><br>  1611-&gt;1608:  <span style="background-color: white">                  		expected = 1;</span><br>  1612-&gt;1609:  <span style="background-color: white">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1613-&gt;1610:  <span style="background-color: white">                  			checkNumberType(cssName, (CSSPrimitiveValue) p);</span><br>     1614-&gt;N:  <span style="background-color: white">                  		}</span><br>  1615-&gt;1612:  <span style="background-color: cyan">                      } else if (fName.equalsIgnoreCase("skew")) {</span><br>  1616-&gt;1613:  <span style="background-color: white">                          expected = 2;</span><br>  1617-&gt;1614:  <span style="background-color: white">                          for (Object p : value.getFunction().getParameters()) {</span><br>  1618-&gt;1615:  <span style="background-color: white">                              checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>     1619-&gt;N:  <span style="background-color: white">                          }</span><br>  1620-&gt;1617:  <span style="background-color: white">                          if (value.getFunction().getParameters().size() == 1)</span><br>  1621-&gt;1618:  <span style="background-color: white">                              expected = 1;</span><br>  1622-&gt;1619:  <span style="background-color: cyan">                      } else if (fName.equalsIgnoreCase("skewX")) {</span><br>  1623-&gt;1620:  <span style="background-color: white">                          expected = 1;</span><br>  1624-&gt;1621:  <span style="background-color: white">                          for (Object p : value.getFunction().getParameters()) {</span><br>  1625-&gt;1622:  <span style="background-color: white">                              checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>     1626-&gt;N:  <span style="background-color: white">                          }</span><br>  1627-&gt;1624:  <span style="background-color: cyan">                      } else if (fName.equalsIgnoreCase("skewY")) {</span><br>  1628-&gt;1625:  <span style="background-color: white">                          expected = 1;</span><br>  1629-&gt;1626:  <span style="background-color: white">                          for (Object p : value.getFunction().getParameters()) {</span><br>  1630-&gt;1627:  <span style="background-color: white">                              checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>     1631-&gt;N:  <span style="background-color: white">                          }</span><br>  1632-&gt;1629:  <span style="background-color: cyan">                  	} else if (fName.equalsIgnoreCase("rotate")) {</span><br>  1633-&gt;1630:  <span style="background-color: cyan">                  		expected = 1;</span><br>  1634-&gt;1631:  <span style="background-color: cyan">                  		for (Object p : value.getFunction().getParameters()) {</span><br>  1635-&gt;1632:  <span style="background-color: cyan">                  			checkAngleType(cssName, (CSSPrimitiveValue) p);</span><br>     1636-&gt;N:  <span style="background-color: white">                  		}</span><br>     1637-&gt;N:  <span style="background-color: white">                  	} else {</span><br>  1638-&gt;1635:  <span style="background-color: white">                  		throw new CSSParseException("Unsupported function provided in transform property: " + fName, -1);</span><br>     1639-&gt;N:  <span style="background-color: white">                  	}</span><br>     1640-&gt;N:  <span style="background-color: white">                  </span><br>  1641-&gt;1638:  <span style="background-color: cyan">                  	checkValueCount(cssName, expected, value.getFunction().getParameters().size());</span><br>     1642-&gt;N:  <span style="background-color: white">                  }</span><br>     1643-&gt;N:  <span style="background-color: white">                  </span><br>  1644-&gt;1641:  <span style="background-color: cyan">                  return Collections.singletonList(new PropertyDeclaration(CSSName.TRANSFORM, new PropertyValue(values),</span><br>  1645-&gt;1642:  <span style="background-color: white">                          important, origin));</span><br>     1646-&gt;N:  <span style="background-color: white">              }</span><br>     1647-&gt;N:  <span style="background-color: white">          }</span><br>     1648-&gt;N:  <span style="background-color: white">          </span><br>     1649-&gt;N:  <span style="background-color: white">          // 0 | left | right | center | length | percentage</span><br>  1650-&gt;1647:  <span style="background-color: white">          public static class TransformOriginX extends AbstractPropertyBuilder {</span><br>  1651-&gt;1648:  <span style="background-color: white">          	private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.LEFT, IdentValue.CENTER, IdentValue.RIGHT });</span><br>     1652-&gt;N:  <span style="background-color: white">          	</span><br>  1653-&gt;1650:  <span style="background-color: cyan">          	@Override</span><br>  1654-&gt;1651:  <span style="background-color: white">          	public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>  1655-&gt;1652:  <span style="background-color: cyan">          		checkValueCount(cssName, 1, values.size());</span><br>  1656-&gt;1653:  <span style="background-color: cyan">          		CSSPrimitiveValue value = values.get(0);</span><br>  1657-&gt;1654:  <span style="background-color: cyan">          		checkInheritAllowed(value, inheritAllowed);</span><br>     1658-&gt;N:  <span style="background-color: white">          		</span><br>  1659-&gt;1656:  <span style="background-color: cyan">          		if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>  1660-&gt;1657:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin));</span><br>     1661-&gt;N:  <span style="background-color: white">          		}</span><br>     1662-&gt;N:  <span style="background-color: white">          		</span><br>  1663-&gt;1660:  <span style="background-color: cyan">          		if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>  1664-&gt;1661:  <span style="background-color: cyan">          			IdentValue ident = checkIdent(cssName, value);</span><br>  1665-&gt;1662:  <span style="background-color: cyan">          			checkValidity(cssName, ALLOWED, ident);</span><br>  1666-&gt;1663:  <span style="background-color: cyan">          			if (ident == IdentValue.LEFT) {</span><br>  1667-&gt;1664:  <span style="background-color: cyan">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 0f, "0%"), important, origin));</span><br>  1668-&gt;1665:  <span style="background-color: white">          			} else if (ident == IdentValue.CENTER) {</span><br>  1669-&gt;1666:  <span style="background-color: white">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 50f, "50%"), important, origin));</span><br>     1670-&gt;N:  <span style="background-color: white">          			} else { // if (ident == IdentValue.RIGHT)</span><br>  1671-&gt;1668:  <span style="background-color: white">          			    return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 100f, "100%"), important, origin));	</span><br>     1672-&gt;N:  <span style="background-color: white">          			}</span><br>     1673-&gt;N:  <span style="background-color: white">          		} else {</span><br>  1674-&gt;1671:  <span style="background-color: white">          			checkLengthOrPercentType(cssName, value);</span><br>  1675-&gt;1672:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin)); </span><br>     1676-&gt;N:  <span style="background-color: white">          		}</span><br>     1677-&gt;N:  <span style="background-color: white">          	}</span><br>     1678-&gt;N:  <span style="background-color: white">          }</span><br>     1679-&gt;N:  <span style="background-color: white">          </span><br>     1680-&gt;N:  <span style="background-color: white">          // 0 | top | bottom | center | length | percentage</span><br>  1681-&gt;1678:  <span style="background-color: white">          public static class TransformOriginY extends AbstractPropertyBuilder {</span><br>  1682-&gt;1679:  <span style="background-color: white">          	private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.TOP, IdentValue.CENTER, IdentValue.BOTTOM });</span><br>     1683-&gt;N:  <span style="background-color: white">          	</span><br>  1684-&gt;1681:  <span style="background-color: cyan">          	@Override</span><br>  1685-&gt;1682:  <span style="background-color: white">          	public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important, boolean inheritAllowed) {
        </propertyvalue>
       </propertydeclaration></span><br>  1686-&gt;1683:  <span style="background-color: cyan">          		checkValueCount(cssName, 1, values.size());</span><br>  1687-&gt;1684:  <span style="background-color: cyan">          		CSSPrimitiveValue value = values.get(0);</span><br>  1688-&gt;1685:  <span style="background-color: cyan">          		checkInheritAllowed(value, inheritAllowed);</span><br>     1689-&gt;N:  <span style="background-color: white">          		</span><br>  1690-&gt;1687:  <span style="background-color: cyan">          		if (value.getCssValueType() == CSSValue.CSS_INHERIT) {</span><br>  1691-&gt;1688:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin));</span><br>     1692-&gt;N:  <span style="background-color: white">          		}</span><br>     1693-&gt;N:  <span style="background-color: white">          		</span><br>  1694-&gt;1691:  <span style="background-color: cyan">          		if (value.getPrimitiveType() == CSSPrimitiveValue.CSS_IDENT) {</span><br>  1695-&gt;1692:  <span style="background-color: cyan">          			IdentValue ident = checkIdent(cssName, value);</span><br>  1696-&gt;1693:  <span style="background-color: cyan">          			checkValidity(cssName, ALLOWED, ident);</span><br>  1697-&gt;1694:  <span style="background-color: cyan">          			if (ident == IdentValue.TOP) {</span><br>  1698-&gt;1695:  <span style="background-color: white">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 0f, "0%"), important, origin));</span><br>  1699-&gt;1696:  <span style="background-color: cyan">          			} else if (ident == IdentValue.CENTER) {</span><br>  1700-&gt;1697:  <span style="background-color: white">          				return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 50f, "50%"), important, origin));</span><br>     1701-&gt;N:  <span style="background-color: white">          			} else { // if (ident == IdentValue.BOTTOM)</span><br>  1702-&gt;1699:  <span style="background-color: cyan">          			    return Collections.singletonList(new PropertyDeclaration(cssName, new PropertyValue(CSSPrimitiveValue.CSS_PERCENTAGE, 100f, "100%"), important, origin));	</span><br>     1703-&gt;N:  <span style="background-color: white">          			}</span><br>     1704-&gt;N:  <span style="background-color: white">          		} else {</span><br>  1705-&gt;1702:  <span style="background-color: white">          			checkLengthOrPercentType(cssName, value);</span><br>  1706-&gt;1703:  <span style="background-color: white">          			return Collections.singletonList(new PropertyDeclaration(cssName, value, important, origin)); </span><br>     1707-&gt;N:  <span style="background-color: white">          		}</span><br>     1708-&gt;N:  <span style="background-color: white">          	}</span><br>     1709-&gt;N:  <span style="background-color: white">          }</span><br>     1710-&gt;N:  <span style="background-color: white">      </span><br>  1711-&gt;1708:  <span style="background-color: white">          public static class TransformOriginPropertyBuilder extends AbstractPropertyBuilder {</span><br>  1712-&gt;1709:  <span style="background-color: cyan">              @Override</span><br>  1713-&gt;1710:  <span style="background-color: white">              public List
       <propertydeclaration>
         buildDeclarations(CSSName cssName, List
        <propertyvalue>
          values, int origin, boolean important,
        </propertyvalue>
       </propertydeclaration></span><br>  1714-&gt;1711:  <span style="background-color: white">                                            boolean inheritAllowed) {</span><br>  1715-&gt;1712:  <span style="background-color: cyan">                  checkValueCount(cssName, 2, 3, values.size());</span><br>  1716-&gt;1713:  <span style="background-color: cyan">                  PropertyValue x = values.get(0);</span><br>  1717-&gt;1714:  <span style="background-color: cyan">                  PropertyValue y = values.get(1);</span><br>     1718-&gt;N:  <span style="background-color: white">      </span><br>  1719-&gt;1716:  <span style="background-color: cyan">                  return Arrays.asList(</span><br>  1720-&gt;1717:  <span style="background-color: white">                     new TransformOriginX().buildDeclarations(CSSName.FS_TRANSFORM_ORIGIN_X, Collections.singletonList(x), origin, important).get(0),</span><br>  1721-&gt;1718:  <span style="background-color: white">                     new TransformOriginY().buildDeclarations(CSSName.FS_TRANSFORM_ORIGIN_Y, Collections.singletonList(y), origin, important).get(0)</span><br>     1722-&gt;N:  <span style="background-color: white">                  );</span><br>     1723-&gt;N:  <span style="background-color: white">              }</span><br>     1724-&gt;N:  <span style="background-color: white">          }</span><br>     1725-&gt;N:  <span style="background-color: white">      </span><br>  1726-&gt;1723:  <span style="background-color: white">          public static class ImageRenderingBuilder extends SingleIdent {</span><br>     1727-&gt;N:  <span style="background-color: white">              // left | right | center | justify | inherit</span><br>  1728-&gt;1725:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1729-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1730-&gt;N:  <span style="background-color: white">                              IdentValue.AUTO, IdentValue.PIXELATED,</span><br>     1731-&gt;N:  <span style="background-color: white">                              IdentValue.CRISP_EDGES });</span><br>     1732-&gt;N:  <span style="background-color: white">      </span><br>  1733-&gt;1730:  <span style="background-color: white">              @Override</span><br>  1734-&gt;1731:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1735-&gt;1732:  <span style="background-color: white">                  return ALLOWED;</span><br>     1736-&gt;N:  <span style="background-color: white">              }</span><br>     1737-&gt;N:  <span style="background-color: white">          }</span><br>     1738-&gt;N:  <span style="background-color: white">          </span><br>  1739-&gt;1736:  <span style="background-color: white">          public static class BoxSizing extends SingleIdent {</span><br>     1740-&gt;N:  <span style="background-color: white">              // border-box | content-box</span><br>  1741-&gt;1738:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(</span><br>     1742-&gt;N:  <span style="background-color: white">                      new IdentValue[] {</span><br>     1743-&gt;N:  <span style="background-color: white">                              IdentValue.BORDER_BOX, IdentValue.CONTENT_BOX });</span><br>  1744-&gt;1741:  <span style="background-color: cyan">               @Override</span><br>  1745-&gt;1742:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1746-&gt;1743:  <span style="background-color: cyan">                  return ALLOWED;</span><br>     1747-&gt;N:  <span style="background-color: white">              }</span><br>     1748-&gt;N:  <span style="background-color: white">          }</span><br>     1749-&gt;N:  <span style="background-color: white">          </span><br>  1750-&gt;1747:  <span style="background-color: white">          public static class FSMaxOverflowPages extends PlainInteger {</span><br>  1751-&gt;1748:  <span style="background-color: white">              @Override</span><br>  1752-&gt;1749:  <span style="background-color: white">              protected boolean isNegativeValuesAllowed() {</span><br>  1753-&gt;1750:  <span style="background-color: white">                  return false;</span><br>     1754-&gt;N:  <span style="background-color: white">              }</span><br>     1755-&gt;N:  <span style="background-color: white">          }</span><br>     1756-&gt;N:  <span style="background-color: white">          </span><br>  1757-&gt;1754:  <span style="background-color: white">          public static class FSOverflowPagesDirection extends SingleIdent {</span><br>  1758-&gt;1755:  <span style="background-color: white">              private static final BitSet ALLOWED = setFor(new IdentValue[] { IdentValue.LTR, IdentValue.RTL });</span><br>     1759-&gt;N:  <span style="background-color: white">              </span><br>  1760-&gt;1757:  <span style="background-color: white">              @Override</span><br>  1761-&gt;1758:  <span style="background-color: white">              protected BitSet getAllowed() {</span><br>  1762-&gt;1759:  <span style="background-color: white">                  return ALLOWED;</span><br>     1763-&gt;N:  <span style="background-color: white">              }</span><br>     1764-&gt;N:  <span style="background-color: white">          }</span><br>     1765-&gt;N:  <span style="background-color: white">          </span><br>     1766-&gt;N:  <span style="background-color: white">      }</span><br></pre> </code> 
   </div> 
  </div>  
 </body>
</html>